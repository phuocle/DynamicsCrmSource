(window.bundleExecutionMarkers=window.bundleExecutionMarkers||{})["scripts/es5/kbarticlepage.js?v=1.4.9962-v91onpremise"]={begin:performance.now()},(window.__wpJsonpUci=window.__wpJsonpUci||[]).push([[71],{"+6eZ":function(e,t,r){"use strict";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
function n(e){var t=null;try{t=JSON.parse(e)}catch(e){}return t}
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function a(e){var t="";try{t=JSON.stringify(e)}catch(e){}return t}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},"+P1Q":function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n=r("c/eZ"),a=r("gk6Q"),i=r("YCDx"),o=r("QAhb"),s=r("n1Ju"),c=function(e,t,r,n){this.eventName="BusinessRuleRecommendation_"+e,this.eventParameters=[{name:"EntityTypeName",value:t},{name:"FieldName",value:r},{name:"Title",value:n}]},l=r("IiPO"),u=r("+Z9T"),p=r("HSdq"),d=r("F2uj"),h=r("c7nC"),g=r("9r0m"),m=r("H9Ho"),f=r("kvLG");var v,b=r("ezfI"),y=function(e){function t(t,r,n,a,i,o){var s=e.call(this,t,r,n,a,i,o)||this;return s._entityAttribute=null,v=t,s.registerObserversForControlStateChange(),s}return Object(n.__extends)(t,e),t.prototype.getAttribute=function(){var e="ClientApi.XrmDataControl.getAttribute";try{if(b.a.instance.reportCall(e),!this._entityAttribute){var t=void 0;if(this.formContext&&this.formContext.data&&this.formContext.data.entity&&(t=this.controlDescriptor&&this.controlDescriptor.Relationship?this.formContext.data.entity.relatedEntities.get(this.controlDescriptor.Relationship):this.formContext.data.entity),this.controlDescriptor&&this.controlDescriptor.DataFieldName&&this.formContext&&this.formContext.data)if(this.controlDescriptor.IsUnbound)this._entityAttribute=this.formContext.data.attributes.get(this.controlDescriptor.DataFieldName);else{var r=t?t.attributes:this.formContext.data.attributes;this._entityAttribute=r.get(this.controlDescriptor.DataFieldName)}}return b.a.instance.reportSuccess(e),this._entityAttribute}catch(t){var n=l.a.getInstance().getEventParameters(this.contextToken);throw n.push({name:"controlName",value:this.getName()}),l.a.getInstance().reportFailure(e,t,null,n),t}},t.prototype.updateAttribute=function(e,t){var r="ClientApi.XrmDataControl.updateAttribute";try{if(b.a.instance.reportCall(r),e&&t&&this.controlDescriptor&&this.controlDescriptor.Relationship===t){this._entityAttribute=null;var n=e.attributes;n&&(this._entityAttribute=n.get(this.controlDescriptor.DataFieldName))}this._entityAttribute&&this._entityAttribute.controls.add(this.name,this),b.a.instance.reportSuccess(r)}catch(e){var a=l.a.getInstance().getEventParameters(this.contextToken);throw a.push({name:"controlName",value:this.getName()}),l.a.getInstance().reportFailure(r,e,null,a),e}},t.prototype.addNotification=function(e){var t="ClientApi.XrmDataControl.addNotification";try{if(b.a.instance.reportCall(t),this._isValidNotification(e)&&this.getVisible()){var r={uniqueId:e.uniqueId?e.uniqueId:"",messages:e.messages,notificationLevel:e.notificationLevel,actions:e.actions};return"RECOMMENDATION"===e.notificationLevel?this._reportAddNotificationEvent(e):v.dispatch(Object(h.b)(this.pageId,this.getName(),!1,this.contextToken)),v.dispatch(Object(s.b)(this.pageId,this.getName(),r,this.contextToken)),b.a.instance.reportSuccess(t),!0}return b.a.instance.reportSuccess(t),!1}catch(e){var n=l.a.getInstance().getEventParameters(this.contextToken);throw n.push({name:"controlName",value:this.getName()}),l.a.getInstance().reportFailure(t,e,null,n),e}},t.prototype._clearControlNotification=function(e){var t=this,r=Object(p.A)(v.getState(),{controlName:this.name,id:this.pageId},this.contextToken);if(r){var n=Object.keys(r),a=null;if(e){if(!((a=r[e])&&a.messages&&a.notificationLevel))return!1;this._clearNotification(a)}else(Object(u.a)(e)||0===e.trim().length)&&n.forEach((function(e){a=r[e],t._clearNotification(a)}));return!0}return!1},t.prototype._clearNotification=function(e){e.actions=null,e.messages=null,e.notificationLevel=null,v.dispatch(Object(s.b)(this.pageId,this.name,e,this.contextToken))},t.prototype.clearNotification=function(e){var t="ClientApi.XrmDataControl.clearNotification";try{b.a.instance.reportCall(t);var r=!!this._clearControlNotification(e);return b.a.instance.reportSuccess(t),r}catch(e){var n=l.a.getInstance().getEventParameters(this.contextToken);throw n.push({name:"controlName",value:this.getName()}),l.a.getInstance().reportFailure(t,e,null,n),e}},t.prototype.setNotification=function(e,t){var r="ClientApi.XrmDataControl.setNotification";try{b.a.instance.reportCall(r);var n={uniqueId:t,messages:[e],priority:0,notificationLevel:"ERROR",actions:[{actions:[function(){}],message:""}]};return b.a.instance.reportSuccess(r),this.addNotification(n)}catch(e){var a=l.a.getInstance().getEventParameters(this.contextToken);throw a.push({name:"controlName",value:this.getName()}),l.a.getInstance().reportFailure(r,e,null,a),e}},t.prototype._isValidNotification=function(e){return!(!e||!e.messages||Object(m.b)(e.messages[0]))&&("RECOMMENDATION"===e.notificationLevel||"ERROR"===e.notificationLevel)},t.prototype._reportAddNotificationEvent=function(e){if(this._isValidNotification(e)){var t,r=e.messages[0],n=new c("Added",this.contextToken.entityTypeName,this.getName(),r);v.dispatch((t=n,{type:"report.xrm.event",execute:function(e,r){try{l.a.getInstance().reportEvent(t)}catch(e){var n="ClientApi.ReportXrmEventAction.reportXrmEvent";f.a.getInstance().eventManager.ReportComponentFailure(n,e),Object(u.j)(n,"XrmReporting")}return Promise.resolve()}}))}},t.prototype.getEntityReference=function(){var e=this.formContext.entityReference,t=e.id?new g.a(e.id):null;return new o.a(e.entityType,t)},t.prototype.registerObserversForControlStateChange=function(){if(this.getName().startsWith("header_process")){var e=Object(a.a)(this.pageId);e&&this.controlStateObservable.registerObserver(e)}},t.prototype.getAttrDescriptor=function(e,t,r){var n=this.getEntityReference().etn,a=Object(p.r)(v.getState(),n,this.name,this.pageId,this.contextToken);return a||(this.controlDescriptor?this.controlDescriptor.DataFieldName?(f.a.getInstance().traceManager.getTracer(e).warn("ControlAttributeDescriptor was not found, falling back to the attribute descriptor.",t),(a=Object(d.a)(v.getState(),n,this.controlDescriptor.DataFieldName))||(t.push({name:"attributeName",value:this.controlDescriptor.DataFieldName}),t.push({name:"entityName",value:n}),r.reportFailure(e,new Error("Attribute descriptor was not found"),t))):r.reportFailure(e,new Error("Control descriptor did not have a DataFieldName"),t):r.reportFailure(e,new Error("Control descriptor was not found"),t)),a},t}(i.a);
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */},"/0Gr":function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return l}));var n=r("gBKR"),a=r("lMVv"),i=r("uO/V"),o=r("F7qm"),s=r("F2uj");function c(e){return{type:"grid.retrieveRelatedEntityMetadata.async",execute:function(t,r){var i=t.dispatch,o=t.getState;try{var s=Object(a.h)(o(),e),c={};return u(c,e),Object.keys(s.ManyToManyRelationships).forEach((function(t){var r=s.ManyToManyRelationships[t];if(r.IsValidForAdvancedFind){var n=r.Entity1LogicalName;n===e&&(n=r.Entity2LogicalName),u(c,n)}})),Object.keys(s.OneToManyRelationships).forEach((function(e){var t=s.OneToManyRelationships[e];t.IsValidForAdvancedFind&&u(c,t.ReferencingEntity,t.ReferencingAttribute)})),Object.keys(s.ManyToOneRelationships).forEach((function(e){var t=s.ManyToOneRelationships[e];t.IsValidForAdvancedFind&&(u(c,t.ReferencedEntity),u(c,t.ReferencingEntity,t.ReferencingAttribute))})),i(Object(n.e)(c)).catch((function(t){return h(e,r,t,"retrieveRelatedEntityMetadata.async","retrieveRelatedEntityMetadata")}))}catch(t){return h(e,r,t,"retrieveRelatedEntityMetadata.async","retrieveRelatedEntityMetadata")}}}}function l(e){return{type:"grid.retrieveRelatedEntityRelationshipMetadata.async",execute:function(t,r){var n=t.getState;try{var i,c=n(),l=Object(a.h)(c,e),u=[];return Object.keys(l.OneToManyRelationships).forEach((function(e){var t,r,n=l.OneToManyRelationships[e];if(n.IsValidForAdvancedFind){var i=n.ReferencingEntity,h=Object(a.h)(c,i),g=Object(s.a)(c,i,n.ReferencingAttribute);if(h){var m=p(h,1===n.AssociatedMenuConfiguration.Behavior?null!==(t=n.AssociatedMenuConfiguration.Label)&&void 0!==t?t:"":null!==(r=null==g?void 0:g.DisplayName)&&void 0!==r?r:h.DisplayCollectionName),f=d(n,h.DisplayCollectionName,o.RelationshipType.OneToMany);u.push([m,f])}}})),Object.keys(l.ManyToManyRelationships).forEach((function(e){var t,r,n=l.ManyToManyRelationships[e];if(n.IsValidForAdvancedFind){var i=!0,s=n.Entity1LogicalName,d=void 0,h=void 0,g=!0;if(s===l.EntityLogicalName?(s=n.Entity2LogicalName,n.IsCustomRelationship&&(i=2!==n.Entity2AssociatedMenuConfiguration.Behavior),h=n.Entity2AssociatedMenuConfiguration.Behavior,d=null!==(t=n.Entity2AssociatedMenuConfiguration.Label)&&void 0!==t?t:"",g=!1):(n.IsCustomRelationship&&(i=2!==n.Entity1AssociatedMenuConfiguration.Behavior),h=n.Entity1AssociatedMenuConfiguration.Behavior,d=null!==(r=n.Entity1AssociatedMenuConfiguration.Label)&&void 0!==r?r:""),i)if(v=Object(a.h)(c,s)){var m=p(v,1===h?d:v.DisplayCollectionName),f=void 0;f=g?{displayName:v.DisplayCollectionName,referencedFieldName:l.PrimaryIdAttribute,referencingFieldName:v.PrimaryIdAttribute,relationshipType:o.RelationshipType.ManyToMany,isHierarchical:!1,intersectEntityName:n.IntersectEntityName,entityIntersectIdAttribute:n.Entity2IntersectAttribute,relatedEntityIntersectIdAttribute:n.Entity1IntersectAttribute}:{displayName:v.DisplayCollectionName,referencedFieldName:l.PrimaryIdAttribute,referencingFieldName:v.PrimaryIdAttribute,relationshipType:o.RelationshipType.ManyToMany,isHierarchical:!1,intersectEntityName:n.IntersectEntityName,entityIntersectIdAttribute:n.Entity1IntersectAttribute,relatedEntityIntersectIdAttribute:n.Entity2IntersectAttribute},u.push([m,f])}if(n.Entity1LogicalName===n.Entity2LogicalName){var v=Object(a.h)(c,n.Entity2LogicalName);if(2!==n.Entity1AssociatedMenuConfiguration.Behavior){m=p(v,1===n.Entity1AssociatedMenuConfiguration.Behavior?n.Entity1AssociatedMenuConfiguration.Label:v.DisplayCollectionName),f={displayName:v.DisplayCollectionName,referencedFieldName:l.PrimaryIdAttribute,referencingFieldName:v.PrimaryIdAttribute,relationshipType:o.RelationshipType.ManyToMany,isHierarchical:!1,intersectEntityName:n.IntersectEntityName,entityIntersectIdAttribute:n.Entity2IntersectAttribute,relatedEntityIntersectIdAttribute:n.Entity1IntersectAttribute};u.push([m,f])}}}})),Object.keys(l.ManyToOneRelationships).forEach((function(e){var t,r,n=l.ManyToOneRelationships[e];if(n.IsValidForAdvancedFind){var i=n.ReferencedEntity,h=n.ReferencingAttribute,g=Object(a.h)(c,i),m=Object(s.a)(c,l.EntityLogicalName,h);if(g){var f=d(n,1===n.AssociatedMenuConfiguration.Behavior?null!==(t=n.AssociatedMenuConfiguration.Label)&&void 0!==t?t:"":null!==(r=null==m?void 0:m.DisplayName)&&void 0!==r?r:g.DisplayCollectionName,o.RelationshipType.ManyToOne);u.push([p(g,g.DisplayCollectionName),f])}}})),i=u.sort((function(e,t){var r,n,a,i;if(!(null===(r=e[1])||void 0===r?void 0:r.displayName)||!(null===(n=t[1])||void 0===n?void 0:n.displayName))return 0;var o=e[1].displayName.localeCompare(t[1].displayName);return 0===o?(null===(a=e[0])||void 0===a?void 0:a.displayName)&&(null===(i=t[0])||void 0===i?void 0:i.displayName)?e[0].displayName.localeCompare(t[0].displayName):0:o})),Promise.resolve(i)}catch(t){return h(e,r,t,"retrieveRelatedEntityRelationshipMetadata.async","retrieveRelationshipMetadata")}}}}function u(e,t,r){e[t]||(e[t]=[]),r&&-1===e[t].indexOf(r)&&e[t].push(r)}function p(e,t){var r;return{metadataId:null===(r=e.Id)||void 0===r?void 0:r.guid,displayName:t,primaryIdField:e.PrimaryIdAttribute,primaryNameField:e.PrimaryNameAttribute,name:e.EntityLogicalName}}function d(e,t,r){return{displayName:t,referencingFieldName:e.ReferencingAttribute,isHierarchical:e.IsHierarchical,relationshipType:r,referencedFieldName:e.ReferencedAttribute}}function h(e,t,r,n,a){var o=[{name:i.k,value:e}];return t.EventManager.ReportComponentFailure(Object(i.G)(n,a),r,null,o),Promise.resolve(null)}},"/U1C":function(e,t,r){"use strict";r.d(t,"f",(function(){return a})),r.d(t,"g",(function(){return i})),r.d(t,"h",(function(){return o})),r.d(t,"i",(function(){return s})),r.d(t,"a",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return p})),r.d(t,"b",(function(){return d}));var n=r("c/eZ"),a={advancedFilters:"Grid_AdvancedFilter_AdvancedFilters",cancel:"GlobalFilter_Cancel",apply:"Button_Label_Apply",addButton:"Web.SFA.Workflow.Variables.Add",addRow:"MenuItem_Label_AddRow_SentenceCase",addGroup:"MenuItem_Label_AddGroup_SentenceCase",deleteExpression:"Web.SFA.Workflow.Variables.Delete",moveUpExpression:"Web._controls.listedit.buttons.MoveUp",moveDownExpression:"Web._controls.listedit.buttons.MoveDown_SentenceCas",makeGroup:"Grid_AdvancedFilter_MakeGroup",ungroup:"AF_MenuItem_UnGroup",andGroup:"AF_Text_And",orGroup:"AF_Text_Or_SentenceCase",addRelatedEntity:"MenuItem_Label_AddRelatedEntity_SentenceCase",relatedEntityPlaceholder:"Grid_AdvancedFilter_RelatedEntityPlaceholder",fieldPlaceholder:"Audit.Incontext.Filters.AttributesGroup",containsData:"Web._tools.search.search.js_12_8_SentenceCase",doesNotContainData:"Web._tools.search.search.js_12_9_SentenceCase",doesNotContainDataWarning:"Grid_AdvancedFilter_DoesNotContainDataWarning",manyToOne:"Grid_AdvancedFilter_ManyToOne",oneToMany:"Grid_AdvancedFilter_OneToMany",manyToMany:"Grid_AdvancedFilter_ManyToMany",noRelationships:"Grid_AdvancedFilter_NoRelationships",moreCommandsAriaLabel:"AF_Aria_MoreCommands",rowSelectorAriaLabel:"AF_Aria_RowSelector",groupSelectorAriaLabel:"AF_Aria_GroupSelector",groupExpandAriaLabel:"AF_MenuItem_Expand",groupCollapseAriaLabel:"AF_MenuItem_Collapse",groupExpandAriaDescription:"AF_Aria_GroupExpand",groupCollapseAriaDescription:"AF_Aria_GroupCollapse",errorQuickFind:"AF_Error_QuickFindView",errorMalformed:"Grid_AdvancedFilter_ErrorMalformed",invalidField:"Grid_AdvancedFilter_InvalidField",fieldSelectorControlLabel:"Grid_AdvancedFilter_FieldSelector",operatorSelectorControlLabel:"Web.SFA.Workflow.AssignValueDialog.Operator",errorFailedToLoad:"Grid_AdvancedFilter_FailedToLoad",fetchXmlConditionWarning:"Grid_AdvancedFilter_FetchXmlConditionWarning"},i=Object.values(a),o={contains:"SystemCustomization.BusinessRules.ConditionOperator.CONTAINS",doesNotContain:"SystemCustomization.BusinessRules.ConditionOperator.DOESNOTCONTAIN",beginsWith:"SystemCustomization.BusinessRules.ConditionOperator.BEGINSWITH",doesNotBeginWith:"SystemCustomization.BusinessRules.ConditionOperator.DOESNOTBEGINWITH",endsWith:"SystemCustomization.BusinessRules.ConditionOperator.ENDSWITH",doesNotEndWith:"SystemCustomization.BusinessRules.ConditionOperator.DOESNOTENDWITH",containsData:"SystemCustomization.BusinessRules.ConditionOperator.NOTNULL",doesNotContainData:"SystemCustomization.BusinessRules.ConditionOperator.ISNULL",equals:"CustomControl_Grid_Filtering_ConditionOperator_Equals",doesNotEqual:"CustomControl_Grid_Filtering_ConditionOperator_DoesNotEqual",greaterThan:"CustomControl_Grid_Filtering_ConditionOperator_Greater",greaterThanOrEqualTo:"CustomControl_Grid_Filtering_ConditionOperator_GreaterOrEqual",lessThan:"CustomControl_Grid_Filtering_ConditionOperator_Less",lessThanOrEqualTo:"CustomControl_Grid_Filtering_ConditionOperator_LessOrEqual",dateQuarter:"ViewDesigner.RecordFilter.quarter",dateFiscalYear:"FiscalYear_Format_String_NoSpace",on:"Web._tools.search.search.js_16_0",onOrAfter:"CustomControl_Grid_Filtering_ConditionOperator_OnOrAfter",onOrBefore:"ViewDesigner.RecordFilter.on_or_before",yesterday:"Web._tools.search.search.js_16_3",today:"Web._tools.search.search.js_16_4",tomorrow:"Web._tools.search.search.js_16_5",nextSevenDays:"Web._tools.search.search.js_16_6",lastSevenDays:"Web._tools.search.search.js_16_7_SentenceCase",nextWeek:"Web._tools.search.search.js_16_8_SentenceCase",lastWeek:"Web._tools.search.search.js_16_9_SentenceCase",thisWeek:"Web._tools.search.search.js_16_10_SentenceCase",nextMonth:"Web._tools.search.search.js_16_11_SentenceCase",lastMonth:"Web._tools.search.search.js_16_12_SentenceCase",thisMonth:"Web._tools.search.search.js_16_13_SentenceCase",nextYear:"Web._tools.search.search.js_16_14_SentenceCase",lastYear:"Web._tools.search.search.js_16_15_SentenceCase",thisYear:"Web._tools.search.search.js_16_16_SentenceCase",lastXHours:"AF_Option_LastXHours_SentenceCase",nextXHours:"AF_Option_NextXHours_SentenceCase",lastXDays:"AF_Option_LastXDays_SentenceCase",nextXDays:"AF_Option_NextXDays_SentenceCase",lastXWeeks:"AF_Option_LastXWeeks_SentenceCase",nextXWeeks:"AF_Option_NextXWeeks_SentenceCase",lastXMonths:"AF_Option_LastXMonths_SentenceCase",nextXMonths:"AF_Option_NextXMonths_SentenceCase",lastXYears:"AF_Option_LastXYears_SentenceCase",nextXYears:"AF_Option_NextXYears_SentenceCase",anyTime:"Search.Time.Range.Anytime",olderThanXMinutes:"AF_Option_OlderThanXMinutes_SentenceCase",olderThanXHours:"AF_Option_OlderThanXHours_SentenceCase",olderThanXDays:"AF_Option_OlderThanXDays_SentenceCase",olderThanXWeeks:"AF_Option_OlderThanXWeeks_SentenceCase",olderThanXMonths:"AF_Option_OlderThanXMonths_SentenceCase",olderThanXYears:"AF_Option_OlderThanXYears_SentenceCase",inFiscalYear:"AF_Option_InFiscalYear_SentenceCase",lastFiscalYear:"AF_Option_LastFiscalYear_SentenceCase",thisFiscalYear:"AF_Option_ThisFiscalYear_SentenceCase",nextFiscalYear:"AF_Option_NextFiscalYear_SentenceCase",lastXFiscalYears:"AF_Option_LastXFiscalYears_SentenceCase",nextXFiscalYears:"AF_Option_NextXFiscalYears_SentenceCase",inFiscalPeriod:"AF_Option_InFiscalPeriod_SentenceCase",lastFiscalPeriod:"AF_Option_LastFiscalPeriod_SentenceCase",thisFiscalPeriod:"AF_Option_ThisFiscalPeriod_SentenceCase",nextFiscalPeriod:"AF_Option_NextFiscalPeriod_SentenceCase",lastXFiscalPeriods:"AF_Option_LastXFiscalPeriods_SentenceCase",nextXFiscalPeriods:"AF_Option_NextXFiscalPeriods_SentenceCase",inFiscalPeriodAndYear:"AF_Option_InFiscalPeriodAndYear_SentenceCase",inOrAfterFiscalPeriodAndYear:"AF_Option_InOrAfterFiscalPeriod_SentenceCase",inOrBeforeFiscalPeriodAndYear:"AF_Option_InOrBeforeFiscalPeriod_SentenceCase",containValues:"Web._tools.search.search.js_17_4_SentenceCase",doesNotContainValues:"Web._tools.search.search.js_17_5_SentenceCase",equalsCurrentUserLanguage:"AF_Option_EqUserLanguage_SentenceCase",isCurrentUser:"Web._tools.search.search.js_17_0_SentenceCase",notCurrentUser:"Web._tools.search.search.js_17_1_SentenceCase",isCurrentBusinessUnit:"Web._tools.search.search.js_19_1_SentenceCase",notCurrentBusinessUnit:"Web._tools.search.search.js_19_2_SentenceCase",under:"Web.SFA.Workflow.UnderOperator",notUnder:"Web.SFA.Workflow.NotUnderOperator",above:"ViewDesigner.RecordFilter.above",viewAll:"CustomControl_Calendar_ViewMore",aboveOrEqual:"ViewDesigner.RecordFilter.eq_or_above_SentenceCase",underOrEqual:"ViewDesigner.RecordFilter.eq_or_under_SentenceCase",isCurrentUserOrReportingHierarchy:"OwnershipOperator_EqualsCurrentUserOrHierarchy_SentenceCase",isCurrentUserAndTeamsOrReportingHierarchyAndTeams:"OwnershipOperator_EqualsCurrentUserOrHierarchyAndTeams_SentenceCase",isCurrentUserTeams:"OwnershipOperator_EqualsCurrentUserTeams_SentenceCase",isCurrentUserOrTeams:"OwnershipOperator_EqualsCurrentUserOrUserTeams_SentenceCase",loadingResults:"Grid_AdvancedFilter_LoadingResults",noResults:"KMControl.SearchKMArticles.NoResults",errorNoValues:"AF_Error_NoValues",inputControlLabel:"Web.SFA.Workflow.AssignValueDialog.Value",removeButtonAriaLabel:"Dialog_Disassociate_Header",noValue:"Grid_AdvancedFilter_NoValue",minValue:"Grid_AdvancedFilter_MinValue",maxValue:"Grid_AdvancedFilter_MaxValue",maxPrecision:"Grid_AdvancedFilter_MaxPrecision",maxLength:"Grid_AdvancedFilter_MaxLength",incorrectDataType:"Grid_AdvancedFilter_IncorrectDataType",durationUnit:"Grid_AdvancedFilter_durationUnit"},s=Object.values(o),c={dropDownOptionsAll:"Grid_AdvancedFilter_ColumnEditor_DropDownOptionsAll",dropDownOptionsDefault:"Grid_AdvancedFilter_ColumnEditor_DropDownOptionsDefault",dropDownOptionsCustom:"Grid_AdvancedFilter_ColumnEditor_DropDownOptionsCustom",fieldContextMenuRemove:"Grid_AdvancedFilter_ColumnEditor_FieldContextMenuRemove",addColumn:"Grid_AdvancedFilter_ColumnEditor_AddColumn",editColumns:"Grid_AdvancedFilter_ColumnEditor_EditColumns",apply:"Grid_AdvancedFilter_ColumnEditor_Apply",cancel:"Grid_AdvancedFilter_ColumnEditor_Cancel",search:"Grid_AdvancedFilter_ColumnEditor_Search",related:"Grid_AdvancedFilter_ColumnEditor_Related",moveUp:"Grid_AdvancedFilter_ColumnEditor_MoveUp",moveDown:"Grid_AdvancedFilter_ColumnEditor_MoveDown",resetToDefault:"Grid_AdvancedFilter_ColumnEditor_ResetToDefault",close:"Grid_AdvancedFilter_ColumnEditor_Close",listAriaLabel:"Grid_AdvancedFilter_ColumnEditor_AttributesListLabel",columnEditor:"Grid_AdvancedFilter_ColumnEditor_ColumnEditor",saveAsNewView:"Grid_AdvancedFilter_ColumnEditor_SaveAsNewView",saveChangesToCurrentView:"Grid_AdvancedFilter_ColumnEditor_SaveChangesToCurrentView",noFieldsToDisplay:"Grid_AdvancedFilter_ColumnEditor_NoFieldsToDisplay",moreOptions:"Grid_AdvancedFilter_ColumnEditor_MoreOptions",dropdown:"Grid_AdvancedFilter_ColumnEditor_Dropdown"},l=Object.values(c),u={ApplyAdvancedFiltersTitle:"Grid_AdvancedFilter_ApplyAdvancedFiltersTitle",ApplyAdvancedFiltersAria:"Grid_AdvancedFilter_ApplyAdvancedFiltersAriaLabel",CancelEditingFiltersAria:"Grid_AdvancedFilter_CancelEditingAdvancedFiltersAriaLabel",OpenAdvancedFiltersTitleAndAria:"Grid_AdvancedFilter_OpenAdvancedFilterTitleAndAria",resetToDefault:"Grid_AdvancedFilter_ColumnEditor_ResetToDefault"},p=Object.values(u),d=Object(n.__spreadArrays)(i,s,p);
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */},"/V8d":function(e,t,r){"use strict";r.d(t,"a",(function(){return k})),r.d(t,"e",(function(){return M})),r.d(t,"d",(function(){return V})),r.d(t,"b",(function(){return L})),r.d(t,"c",(function(){return R}));var n=r("c/eZ"),a=r("pOv+"),i=r("9r0m"),o=r("sgPk"),s=r("U0B9"),c=r("2OIc"),l=r("Gemh"),u=r("kl3Z"),p=r("lMVv"),d=r("bH46"),h=r("i8/j"),g=r("PQ2H"),m=r("8xrh"),f=r("WS0f"),v=r("7EJx"),b=r("vt+k"),y=r("QAhb"),_=r("HSdq"),C=r("yHpA"),S=r("hl8w"),O=r("RNNy"),I=r("F2uj"),T=r("uO/V"),j=r("qC0c"),P=r("cZkS"),E=r("jigW"),A=r("i2G7"),x=r("sOTk"),F=r("xkx/"),w=r("r2h9"),N=r("+l2M"),k=["MscrmControls.Grid.ReadOnlyGrid","MscrmControls.Grid.GridControl","MscrmControls.SharepointAssociatedGrid.SharepointControl","MscrmControls.MailApp.MailAppListControl"],D=["Opportunity_ActivityPointers"];function M(e){var t,r=e&&e.control&&e.control.Parameters&&e.control.Parameters.hasOwnProperty(T.r)&&e.control.Parameters[T.r],n=[e.viewId,r,e.recordsPerPage,(t=e,t&&t.controlParameters&&t.controlParameters.ChartDrillDownParameters&&t.controlParameters.ChartDrillDownParameters.length>0)];return e.customQueryStateKeyParts&&n.push.apply(n,e.customQueryStateKeyParts),n.join("")}function R(e,t,r,n,a){var i=L(e,t,r,n,a);return function(t){var r=i(t);return r&&r.getQueryState(r instanceof o.a?void 0:e)}}function L(e,t,r,n,a){var c={};return function(u){var p=new i.a(u.viewId),d=Object(l.qb)(e(),p,t);if(!d)return null;var h=function(e,t,r){var n=t.fetchXML,a=null,i="TeamTemplateId";if(t.entityLogicalName===O.a&&e.controlParameters[i]){var o=e.controlParameters[i];if(n&&n.indexOf(o)<0){var s=r?r.guid:"",c=Object(S.a)(n,o,s);n=c.updatedFetchXml,a=c.filterString}}return{fetchXML:n,filterString:a}}(u,d,n),g=h.fetchXML;if(!g&&d.queryApi)return null;if(Object(E.l)(e())&&u.quickFindViewId){var T=new i.a(u.quickFindViewId),k=i.a.isNullOrEmpty(T)?null:Object(l.qb)(e(),T,t);Object(f.a)(k)||(g=function(e,t){var r=new DOMParser;if(e){for(var n=r.parseFromString(e.fetchXML,"text/xml"),a=r.parseFromString(t.fetchXML,"text/xml"),i=n.getElementsByTagName("filter"),o=0;o<i.length;o++)i[o].attributes&&i[o].attributes.getNamedItem("isquickfindfields")&&a.getElementsByTagName("entity")[0].appendChild(i[o]);return(new XMLSerializer).serializeToString(a)}return t.fetchXML}(k,d))}var M=e(),R=u.entityLogicalName,L=u.getCustomFilter&&u.getCustomFilter(),G=function(e,t,r,n,a){var o=a.controlParameters.RelationshipName;if(o){var s=n,c=null,u=null;if(a.controlParameters.DependentAttributeName)c=(u=a.controlParameters.DependentAttributeName).split(".")[1]||u;if(a.controlParameters.IsDataSetLookup)if(s=null==a.controlParameters.ParentRecordId?i.a.EMPTY:new i.a(a.controlParameters.ParentRecordId),a.controlParameters.DependentAttributeName)c=(u=a.controlParameters.DependentAttributeName).split(".")[1]||u;var p=Object(_.ac)(e,t,a.contextToken),d=new y.a(r,s),h=null,g=!1;Object(I.a)(e,r,c)?h=Object(C.d)(e,p,d,c):a.controlParameters.DependentAttributeType&&(g=a.controlParameters.DependentAttributeType===r&&a.controlParameters.DependentAttributeType!==a.entityLogicalName);var m=h;m&&m.reference?s=m.reference.id:!a.controlParameters.IsDataSetLookup&&null===c||null!==m&&null!==m.reference||!d||null===d.id||g||(s=null);var f=Object(l.kb)(e,t,a.contextToken),v=0,S=b.h.None;return f?(v=1,-1===D.indexOf(o)&&(S=b.h.Related)):(a.controlParameters.ShouldApplyContextFilter&&a.controlParameters.IsDataSetLookup||!a.controlParameters.IsDataSetLookup)&&(v=2),{type:v,rollupType:S,entityReference:d,contextId:s,relationshipName:o}}return null}(M,t,a||r&&r.EntityLogicalName,n,u),B=Object(m.p)(e(),R),X=function(e,t,r,n,a,o,s){var c,u=Object(x.g)(e,o),p=!(!(null==u?void 0:u.pageToEditedViewMapId)||!Object(l.rb)(e,u.pageToEditedViewMapId.guid,s.guid)),d=Object(l.qb)(e,s,o),h=t.hasGrid&&(1===t.gridType||void 0===t.gridType&&i.a.equals(null===(c=t.control)||void 0===c?void 0:c.ClassId,N.E));return Object(F.e)(e)&&(h||Object(F.f)(e))&&!(1===(null==r?void 0:r.type))&&!(2===(null==r?void 0:r.type))&&!(n&&n.linkEntities&&Array.isArray(n.linkEntities)&&n.linkEntities.length>0)&&!a&&!(n&&n.filter&&Array.isArray(n.filter)&&n.filter.length>0)&&!p&&(null==d?void 0:d.queryType)!==w.a.QUICKFIND_SEARCH&&!t.quickFindViewId}(M,u,G,L,B,t,p)?A.a.fromView(p,u.quickFindSearchString):o.a.fromXmlAndSql(g,d.offlineSqlQuery,p,u.quickFindSearchString,R,e);(null==h?void 0:h.filterString)&&n&&X.addExistingContextFilterToKey(i.a.toString(n),h.filterString);var U=Object(l.x)(e(),t,u.contextToken);U&&(X.pageNumber=U);var z=V(e(),t,r,u,d,R);z.length&&X.select.apply(X,z);var q=function(e,t,r,n,a,i){var o=null;if(!Object(j.a)(e,P.ub)||!i.hasGrid||1!==i.gridType)return null;var c=Object(l.j)(n)(e,t,i.contextToken),u=Object(s.b)(e),p=c&&c.CustomControls&&c.CustomControls[u]&&c.CustomControls[u].Parameters;if(!Object(l.vb)(p)&&(o=Object(l.o)(e,r))){var d=[],h=a&&a.grid&&a.grid.rows&&a.grid.rows[0]&&a.grid.rows[0].cells;if(h)for(var g in h)h.hasOwnProperty(g)&&d.push(h[g].name);-1!==d.indexOf(o.lookupAttribute)&&(o.lookupAttribute=null),a&&a.fetchXML&&Object(E.b)(a.fetchXML)&&(o.primaryAttribute=null)}return o}(e(),t,R,p,d,u);q&&(q.lookupAttribute&&X.select(q.lookupAttribute),q.primaryAttribute&&X.addChildCountAttribute(q.primaryAttribute));var W=u.getCustomSorting&&u.getCustomSorting(d,c);if(W)for(var H=0,Q=W;H<Q.length;H++){var Y=Q[H];X.orderBy(Y.name,1===Y.sortDirection)}if(G)switch(G.type){case 1:X.applyRollupContextFilter(G.entityReference,G.rollupType);break;case 2:var K=Object(l.v)(M,t,u.contextToken);X.applyContextFilter(G.relationshipName,G.contextId,M,K?K.relationshipRoleOrdinal:void 0)}if(B&&X.where(B),L&&L.filter)if(Array.isArray(L.filter))for(var J=0,Z=L.filter;J<Z.length;J++){var $=Z[J];X.where($,$.shouldReplace)}else!function(e){return!!(e&&e.operator&&e.terms)}($=L.filter)?X.where(Object(m.n)(L.filter,null)):X.where($,$.shouldReplace);if(L&&L.linkEntities)for(var ee=0,te=L.linkEntities;ee<te.length;ee++){var re=te[ee];X.addLinkedEntity(re,re.attributes||[])}var ne=u.recordsPerPage;if(ne)X.pageSize=ne;else{var ae=Object(v.h)(e());u.hasChart||Object(f.a)(ae)?X instanceof o.a&&X.setDefaultPageSize():X.pageSize=ae}return X}}function V(e,t,r,o,m,f){var v=Object(n.__spreadArrays)(function(e,t,r,n){if(0!==r.gridType)return[];var a="Grid",i=Object(s.b)(e),o=t&&Object(c.a)(r.control,t,i);o&&(a=Object(l.ab)(e,o.CustomControlId));return Object(u.b)(e,r.control.UniqueId,a,t&&t.Id,null,null,n)||[]}(e,r,o,m.viewId),function(e,t,r,n){if(1!==t.gridType)return[];return Object(u.a)(e,r,n)||[]}(e,o,f,m.viewId),function(e,t,r,n){var a=[],i=Object(p.h)(e,n);i&&(function(e,t,r){var n=Object(s.b)(e),a=t&&Object(c.a)(r.control,t,n);return a&&[a.CustomControlId&&a.Name].some((function(e){return-1!==k.indexOf(e)}))}(e,t,r)||r.hasGrid)&&("activitypointer"===n&&a.push("activitytypecode"),i.PrimaryNameAttribute&&a.push(i.PrimaryNameAttribute),Object(l.vb)(r.controlParameters)||i.PrimaryImageAttribute&&a.push(Object(E.a)(i.PrimaryImageAttribute)));return a}(e,r,o,f),function(e,t,r){var n=[];if(4&t.streamMode){n.push("modifiedon");var a=Object(I.d)(e,r);if(a)for(var i in a){var o=a[i];o.IsSortableEnabled&&"image"!==o.Type&&"multiselectpicklist"!==o.Type&&Object(d.b)(e,r,o.LogicalName,o)&&n.push(o.LogicalName)}}else 2&t.streamMode&&n.push("modifiedon");return n}(e,o,f),function(e,t,r,n){var o=[],s=r.cardFormId;if(s)if("activitypointer"===n)o.push.apply(o,d.a);else{var c=i.a.equals(s,a.a)?Object(h.h)(e,n,Object(g.a)(11)):s,l=Object(h.d)(e,c,t);if(l)for(var u in l){var p=l[u];p.DataFieldName&&o.push(p.DataFieldName)}}return o}(e,t,o,f),o.getCustomColumns?o.getCustomColumns():[]);if(v.length){var b=[],y=[],_=m&&m.grid&&m.grid.rows&&m.grid.rows[0]&&m.grid.rows[0].cells;if(_)for(var C in _)_.hasOwnProperty(C)&&y.push(_[C].name);for(var S in v){var O=v[S];-1===y.indexOf(O)&&-1===b.indexOf(O)&&b.push(O)}return b}return v}},"/W63":function(e,t,r){"use strict";r.d(t,"a",(function(){return E}));var n=r("ar+e"),a=r("VlhU"),i=r("bCrZ"),o=r("Gemh"),s=r("r2h9"),c=r("RlP9"),l=r("sgPk"),u=r("olrR"),p=r("uO/V"),d=r("7pqb"),h=r("s2by"),g=r("19Zc"),m=r("fE8x"),f=r("YrcW"),v=r("JlqV"),b=r("jigW"),y=r("G7N+"),_=r("qC0c"),C=r("cZkS"),S=r("5cS+"),O=r("gBKR"),I=p.x+"."+p.v;function T(e,t,r,n,a,s,u,p,d,m){var f=P(n,u,d),y=Object(c.c)(t,r);if(!y)return Promise.resolve(null);var S=l.a.fromXmlAndSql(y.fetchXML,y.offlineSqlQuery,r).getQueryState(),O=m||Object(o.db)(t,n,u),I=Object(b.c)(a,s),T=!1;Object(v.b)(t)&&Object(b.h)(t,s.relationshipName,!0)&&(T=!0);var E=Object(o.ub)(t,n);if(E||"activitypointer"===n||T){var A=t.user&&t.user.userId,x=Object(_.c)(t,C.Zc),F=Object(h.a)(n,A,s,x,E);return e(F.getFilterOptionsAction()).then((function(r){if(r&&r.length>0){var o=r.filter((function(e){return e.isDefault}));if(o&&o.length>0){var c=F.getFilterExpression(o[0].value);e(Object(g.l)(c,a,s))}}return e(Object(i.d)(S,n,a,s,null,u,O,T,I)).then((function(r){return j(e,r,t,n,a,f,p)}))}))}return e(Object(i.d)(S,n,a,s,null,u,O,void 0,I)).then((function(r){return j(e,r,t,n,a,f,p)}))}function j(e,t,r,n,a,s,c){var l=Object(m.c)(r),u=Object(m.b)(r);return(l||u)&&Object(o.sb)(r,n)&&Object(i.e)(c,e,n,a),c.EventManager.ReportComponentSuccess("Forms.OpenRelatedGrid.initializeRelatedGrid",s),c.EventManager.ReportComponentSuccess(I,s),t}function P(e,t,r){return[{name:d.a.CorrelationId,value:r.correlationId},{name:d.a.ContextId,value:r.contextId},{name:d.a.ActionStack,value:r.stack},{name:"entityName",value:e},{name:"relationshipName",value:t}]}function E(e,t,r){var i=[{name:"EntityName",value:r.entityName}];return{type:"form.related.openGrid",execute:function(i,l,p){var h=i.dispatch,g=i.getState,m=g(),v=Object(n.e)(m,{id:e},t.parentContextToken),b=P(r.entityName,r.relationshipName,p);if(h(Object(a.b)(e,t,r)),null!==v&&v.id===r.id&&v.isSelected===r.isSelected&&v.relationshipName===r.relationshipName||h(Object(a.b)(e,t.parentContextToken,r)),h(Object(f.a)(e,r)),r&&!r.url){var j=function(e,t){return[{name:d.a.CorrelationId,value:e.correlationId},{name:d.a.ContextId,value:e.contextId},{name:d.a.ActionStack,value:e.stack},{name:"hasViewId",value:!0},{name:"entityName",value:t}]}(p,r.entityName);if(!Object(o.v)(m,e,t)){h(Object(u.b)(r.entityName,s.a.MAIN_APPLICATION_VIEW));var E=Object(c.a)(m,r.entityName,s.a.SUB_GRID),A=Object(c.c)(m,E),x=Object(_.c)(m,C.Xc),F=!x||function(e,t){var r,n,a;if(!(null===(n=null===(r=null==t?void 0:t.grid)||void 0===r?void 0:r.rows)||void 0===n?void 0:n.length)||!(null===(a=e.metadata)||void 0===a?void 0:a.entities))return!0;var i=t.grid.rows[0].cells;if(!(null==i?void 0:i.length))return!0;for(var o=0;o<i.length;o++)if(i[o].relatedEntityName&&!e.metadata.entities[i[o].relatedEntityName])return!1;return!0}(m,A);return A&&A.initialized===y.a.Initialized&&F?(T(h,m,E,r.entityName,e,t,r.relationshipName,l,p,r.ordinal).catch((function(e){l.EventManager.ReportComponentFailure(I,e,null,b)})),l.EventManager.ReportComponentSuccess("Forms.OpenRelatedGrid",j),Promise.resolve(E)):h(Object(u.a)(r.entityName,s.a.SUB_GRID)).then((function(n){var a=Promise.resolve();if(x){var i=Object(S.a)(m,n,e);a=h(Object(O.e)(i))}return a.then((function(){var a=g();return T(h,a,n,r.entityName,e,t,r.relationshipName,l,p,r.ordinal).catch((function(e){l.EventManager.ReportComponentFailure(I,e,null,b)})),l.EventManager.ReportComponentSuccess("Forms.OpenRelatedGrid",j),n}))}),(function(e){l.EventManager.ReportComponentFailure(I,e,null,b)}))}}return Promise.resolve(null)},getFailureParameters:function(e,t){return i}}}},"/lKk":function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n=r("UGbr"),a=r("/j9Z"),i=r("71iK"),o=r("RYq1"),s=r("LFYt"),c=r("Ww2r"),l=r("HfRC"),u=r("yOMg"),p=r("VnuK"),d=r("rIXY"),h=r("Sscr"),g=r("HSdq"),m=r("yHpA"),f=r("zsi3"),v=r("+ieV"),b=r("Srej");function y(e){return{type:"saveAndClose.saveAndCloseFormDialogAction.async",execute:function(t,r,y){var _=t.dispatch,C=(0,t.getState)(),S=Object(h.j)(C,e),O=Object(g.zb)(C,e,S),I=Object(g.ac)(C,e,S);if(!(!Object(m.g)(C,I)&&O&&Object.keys(O).length>0))return _(Object(n.e)(e,2)).then((function(t){var n=Object(g.Ib)(C,e),h=n?"Forms.MainFormDialogRoot.SaveAndClose":"Forms.QuickCreateFormRoot.SaveAndClose";if(t){var m=[{name:"isEntityRefNull",value:!1},{name:"entityTypeName",value:t.etn}];return r.EventManager.ReportComponentSuccess(h,m),(n?Promise.resolve(e):_(Object(s.b)(e,t))).then((function(e){return _(Object(i.a)(t.etn)),function(e,t,r){var n="quickcreate_",a=Object(c.e)(t,[d.g,d.c]),i={actionLabel:Object(c.c)(a,d.g),eventHandler:function(){e(Object(l.a)(r)),e(Object(u.removeToastNotification)(n+r.id.guid))}},o=null,s={id:n+r.id.guid,type:1,level:1,message:Object(c.c)(a,d.c),title:null,action:i,onCloseHandler:o};e(Object(p.b)(s))}(_,C,t),_(Object(o.e)(e,"save")).then((function(){return t}))}))}return r.EventManager.ReportComponentSuccess(h,[{name:"isEntityRefNull",value:!0}]),Promise.reject(new a.a("Record is not created"))}));for(var T in O){var j=O[T].label,P=O[T].errorMessage,E=_(Object(v.b)(j,P));_(Object(v.c)(S,e,E,f.a.error,Object(b.d)(e,T)))}}}}},"/wtJ":function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return p}));var n=r("UOiB"),a=r("Sscr"),i=r("HSdq"),o=r("ObKm"),s=r("yHpA"),c=r("sOTk"),l=r("krRo"),u="attribute.precision";function p(e,t,r,p){return{type:"attribute.precision.update",sync:!0,execute:function(d,h){var g,m=d.dispatch,f=d.getState,v=f();m(function(e,t,r,i){if(t&&t.contextTokenType&&t.contextTokenType===n.a.GridRow)return Object(l.e)(e,t,r,i);var o=Object(a.x)(t);return{type:u,payload:i,meta:{pageId:e,contextKey:o,dataFieldName:r}}}(e,t,r,p)),v=f();var b=null,y=null,_=null,C=null;if(t&&t.contextTokenType&&t.contextTokenType===n.a.GridRow)b=t.entityTypeName?t.entityTypeName:null,y=t.recordId?t.recordId:null,_=Object(a.t)(t),C=Object(a.r)(t);else{var S=Object(c.g)(v,e);b=S&&S.entityTypeName?S.entityTypeName:null,y=S&&S.id?S.id:null,_=null,C=t}var O=Object(i.ac)(v,e,t),I=Object(s.d)(v,O,{etn:b,id:y},r),T=((g={})[r]=I,g);m(Object(o.a)(e,T,!0,!0,b,y?y.guid:null,_,C))}}}},"0MLN":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("Sscr"),a="form.setLabel";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function i(e,t,r){var i=Object(n.v)(t);return{type:a,payload:{label:r},meta:{pageId:e,contextKey:i}}}},"0bF2":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("Sscr"),a="grid.updatequerykey";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function i(e,t,r){var i=Object(n.y)(r),o=Object(n.v)(r);return{type:a,payload:e,meta:{pageId:t,contextKey:i,dataSetContextKey:o}}}},"0hCf":function(e,t,r){"use strict";r.d(t,"a",(function(){return F}));var n,a,i=r("HSdq"),o=r("yZTI"),s=r("Zy0S"),c=r("c/eZ"),l=r("FlW1"),u=r("ll2N"),p=r("s0Zj"),d=r("+Z9T"),h=r("w/nD"),g=r("ksD2"),m=r("A8fJ"),f=r("PLtI"),v=r("IiPO"),b=r("ezfI"),y=r("7ipg"),_=function(e){function t(t,r,a,i,o,s){var c=this;return Object(d.g)(o,"ClientApi.XrmTab.constructor","parent"),Object(d.g)(t,"ClientApi.XrmTab.constructor","store"),c=e.call(this,t,r,i,a)||this,n=t,c._parent=o,c._formContext=s,c._iConnectedTabProps={tabName:c.name,tabId:c._getTabId(),id:c.pageId,showTab:!0},c._clientApiExecutor=new y.b(n,"ClientApi.XrmTab.",r),c}return Object(c.__extends)(t,e),Object.defineProperty(t.prototype,"sections",{get:function(){var e="ClientApi.XrmTab.sections";try{if(b.a.instance.reportCall(e),!this._sections){this._sections=new s.a(e);for(var t=n.getState(),r=Object(i.Gc)(t,this.pageId,this.name,this.contextToken),a=0;a<r.Columns.length;a++)for(var o=Object(i.p)(t,{id:this.pageId,tabName:r.Id,columnIndex:a},this.contextToken),c=null,l=0;l<o.SectionNames.length;l++)c=new u.a(n,this.contextToken,this.pageId,o.SectionNames[l],this,this._formContext),this._sections.add(c.getName(),c)}return b.a.instance.reportSuccess(e),this._sections}catch(t){var p=v.a.getInstance().getEventParameters(this.contextToken);throw p.push({name:"controlName",value:this.name}),v.a.getInstance().reportFailure(e,t,null,p),t}},enumerable:!1,configurable:!0}),t.prototype.addTabStateChange=function(e){var t="ClientApi.XrmTab.addTabStateChange";Object(d.g)(e,t,"handler");try{b.a.instance.reportCall(t),n.dispatch(Object(h.s)(this.contextToken,this.pageId,this.name,e)),b.a.instance.reportSuccess(t)}catch(e){var r=v.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.name}),v.a.getInstance().reportFailure(t,e,null,r),e}},t.prototype.removeTabStateChange=function(e){var t="ClientApi.XrmTab.removeTabStateChange";Object(d.g)(e,t,"handler");try{b.a.instance.reportCall(t),n.dispatch(Object(h.N)(this.contextToken,this.pageId,this.name,e)),b.a.instance.reportSuccess(t)}catch(e){var r=v.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.name}),v.a.getInstance().reportFailure(t,e,null,r),e}},t.prototype.getDisplayState=function(){var e="ClientApi.XrmTab.getDisplayState";try{b.a.instance.reportCall(e);var t=Object(i.Dc)(n.getState(),this._getTabId(),this.pageId,this.contextToken)?"collapsed":"expanded";return b.a.instance.reportSuccess(e),t}catch(t){var r=v.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.name}),v.a.getInstance().reportFailure(e,t,null,r),t}},t.prototype.getParent=function(){return b.a.instance.reportUsage("ClientApi.XrmTab.getParent"),this._parent},t.prototype.setDisplayState=function(e){var t="ClientApi.XrmTab.setDisplayState";try{b.a.instance.reportCall(t);var r=!1;switch(e){case"collapsed":r=!0;break;case"expanded":r=!1;break;default:Object(d.h)(t,"TabDisplayState",e)}r||n.dispatch(Object(p.b)(this.pageId,this._getTabId(),this.contextToken)),b.a.instance.reportSuccess(t)}catch(e){var a=v.a.getInstance().getEventParameters(this.contextToken);throw a.push({name:"controlName",value:this.name}),v.a.getInstance().reportFailure(t,e,null,a),e}},t.prototype.setFocus=function(){try{b.a.instance.reportCall("ClientApi.XrmTab.setFocus"),n.dispatch(Object(p.b)(this.pageId,this._getTabId(),this.contextToken)),b.a.instance.reportSuccess("ClientApi.XrmTab.setFocus")}catch(t){var e=v.a.getInstance().getEventParameters(this.contextToken);throw e.push({name:"controlName",value:this.name}),v.a.getInstance().reportFailure("ClientApi.XrmTab.setFocus",t,null,e),t}},t.prototype.setVisible=function(e){var t="ClientApi.XrmTab.setVisible";try{b.a.instance.reportCall(t),n.dispatch(Object(g.b)(this.pageId,this._getTabId(),this.contextToken,!0===e)),b.a.instance.reportSuccess(t)}catch(e){var r=v.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.name}),v.a.getInstance().reportFailure(t,e,null,r),e}},t.prototype.getLabel=function(){try{b.a.instance.reportCall("ClientApi.XrmTab.getLabel");var e=Object(i.Hc)(n.getState(),this._getTabId(),this._iConnectedTabProps.id,this.contextToken)||"";return b.a.instance.reportSuccess("ClientApi.XrmTab.getLabel"),e}catch(e){var t=v.a.getInstance().getEventParameters(this.contextToken);throw t.push({name:"controlName",value:this.name}),v.a.getInstance().reportFailure("ClientApi.XrmTab.getLabel",e,null,t),e}},t.prototype.getVisible=function(){var e="ClientApi.XrmTab.getVisible";try{b.a.instance.reportCall(e);var t=Object(i.Kc)(n.getState(),this._getTabId(),this._iConnectedTabProps.id,this.contextToken);return b.a.instance.reportSuccess(e),t}catch(t){var r=v.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.name}),v.a.getInstance().reportFailure(e,t,null,r),t}},t.prototype.setLabel=function(e){var t="ClientApi.XrmTab.setLabel";Object(d.g)(e,t,"label");try{b.a.instance.reportCall(t),n.dispatch(Object(f.b)(this.pageId,this.contextToken,this._getTabId(),e)),b.a.instance.reportSuccess(t)}catch(e){var r=v.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.name}),v.a.getInstance().reportFailure(t,e,null,r),e}},t.prototype._getTabId=function(){var e=n.getState(),t=Object(i.Gc)(e,this.pageId,this.name,this.contextToken);if(t&&t.Id)return t.Id},t.prototype.setContentType=function(e){var t=this;return this._clientApiExecutor.execute("setContentType",(function(){var r;switch(e){case"default":case"cardSections":r="cardSections";break;case"expandAvailableSpace":case"singleComponent":r="singleComponent";break;default:Object(d.h)("setContentType","TabContentType",e)}n.dispatch(Object(m.b)(t.pageId,t._getTabId(),t.contextToken,r))}),[{name:"tabContentType",value:e,isRequired:!0,expectedDataType:"string"}])},t.prototype.getContentType=function(){var e=this;return this._clientApiExecutor.execute("getContentType",(function(){var t;return null===(t=Object(i.Jc)(n.getState(),e._getTabId(),e._iConnectedTabProps.id,e.contextToken))||void 0===t?void 0:t.contentType}))},t}(l.a),C=r("9r0m"),S=r("tcXs"),O=r("UOiB"),I=r("i8/j"),T=r("sOTk"),j=r("/zIU"),P=r("1z64"),E=r("OTOS"),A=r("uQP8"),x=r("kvLG"),F=function(){function e(e,t,r,n,i,o,s){var c=Object(T.l)(e.getState(),r),l=[{name:"store",value:e,isRequired:!0},{name:"contextToken",value:t,isRequired:!0},{name:"pageId",value:r,isRequired:!0,isEventParam:!0},{name:"pageType",value:c,isEventParam:!0},{name:"formContext",value:n,isRequired:!0},{name:"entityName",value:i,isEventParam:!0},{name:"formSelectorType",value:s,isRequired:!0}];this._clientApiExecutor=new P.a(e,"ClientApi.XrmFormUIBase.",r,t,l),this._pageId=r,a=e,this._formContext=n,this._entityName=i,this._contextToken=t,this._formSelectorType=s,this.xrmControlFactory=o}return Object.defineProperty(e.prototype,"controls",{get:function(){var e=this;return this._clientApiExecutor.execute("controls_get",(function(t,r){if(!e._controls){e._controls=new s.a(t);var n=(h=e.pageId,g=e.contextToken,m=e._controls,f=Object(A.b)(a.getState(),h,g),v=Object(E.b)(a.getState(),h),b=C.a.equals(f,v),y=Object(T.l)(a.getState(),h)===j.a.Dialog,_=Object(I.y)(a.getState(),f),S=_&&_.reduce((function(e,t){return e.add(t),e}),new Set),function(e,t){var r=Object(i.s)(a.getState(),{controlName:e,id:h},g),n=Object(i.Rc)(a.getState(),h,r);b&&n&&!y?S&&S.has(r.DataFieldName)&&Object(i.fd)(a.getState(),h,r,g)&&m.add(e,t):m.add(e,t)}),o=e.getFormDescriptor(t,r);if(o){var c={isEventParam:!0,name:"controlName",value:""},l={isEventParam:!0,name:"controlType",value:""};for(var u in r.push(c),r.push(l),o.Controls){var p=o.Controls[u];c.value=u,l.value=p&&p.ClassId?p.ClassId.guid:"";var d=e.xrmControlFactory.createXrmControl(e.contextToken,p,e._formContext,t,r);d&&n(d.getName(),d)}}}var h,g,m,f,v,b,y,_,S;return e._controls}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"formSelector",{get:function(){var e=this;return this._clientApiExecutor.execute("formSelector_get",(function(t,r){if(!e._formSelector){var n=e.getFormDescriptor(t,r);n&&(e._formSelector=new e._formSelectorType(a,e._contextToken,n.Id,e._entityName,e._pageId))}return e._formSelector}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tabs",{get:function(){var e=this;return this._clientApiExecutor.execute("tabs_get",(function(t,r){if(!e._tabs){e._tabs=new s.a(t);var n=e.getFormDescriptor(t,r);if(n){var i=n.Tabs;for(var o in i){var c=new _(a,e._contextToken,i[o].Name,e._pageId,e,e._formContext);e._tabs.add(c.getName(),c)}}}return e._tabs}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageId",{get:function(){return this._pageId},enumerable:!1,configurable:!0}),e.prototype.refreshRibbon=function(e){var t=this;void 0===e&&(e=!1),this._clientApiExecutor.executeAsync("refreshRibbon",(function(){return a.dispatch(Object(S.a)(t._pageId,null,e))}))},Object.defineProperty(e.prototype,"contextToken",{get:function(){return this._contextToken},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"formContext",{get:function(){var e=this;return this._clientApiExecutor.execute("formContext",(function(){return e._formContext}))},enumerable:!1,configurable:!0}),e.prototype.getControls=function(){if(!this._controls&&this.contextToken.contextTokenType===O.a.GridRow){var e=this._clientApiExecutor.getComponentName("getControls");return this._controls=new s.a(e),this._controls}return this.controls},e.prototype.getFormDescriptor=function(e,t){var r=Object(i.fb)(a.getState(),{id:this._pageId},this._contextToken);if(!r){var n="Form descriptor not found";if(Object(o.n)(a.getState(),this._pageId))x.a.getInstance().traceManager.getTracer(e).error(n+": Page is dead",t);else if(this.contextToken.contextTokenType===O.a.GridRow)x.a.getInstance().traceManager.getTracer(e).error(n,t);else{if(!this._clientApiExecutor.isPageReadyForClientAPIAccess())return null;var s=new Error(n);this._clientApiExecutor.reportFailure(e,s,t)}}return r},e}()},"0rak":function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return s}));var n=r("Sscr"),a=r("uO/V"),i="chart.drilldownparameters.update",o="ChartDrillDownParameters";function s(e,t,r){return{type:"chart.drilldownparameters.update.async",execute:function(s,c){var l=s.dispatch,u=s.getState,p=c.TraceManager.getTracer(a.z),d=a.x+".updateChartDrillDownParametersAction";try{p.info("Updating the chart drilldown parameters"),t||(t=Object(n.k)(u(),e));var h=Object(n.v)(t);return l(function(e,t,r){return{type:i,payload:{name:o,value:r},meta:{pageId:e,dataSetContextKey:t}}}(e,h,r)),c.EventManager.ReportComponentSuccess(d),Promise.resolve()}catch(e){var g="Updatation of the chart drilldown parameters failed with error : "+e.message;c.EventManager.ReportComponentFailure(d,Error(g))}}}}},"19Zc":function(e,t,r){"use strict";r.d(t,"e",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"f",(function(){return c})),r.d(t,"g",(function(){return l})),r.d(t,"d",(function(){return u})),r.d(t,"c",(function(){return d})),r.d(t,"a",(function(){return p})),r.d(t,"l",(function(){return m})),r.d(t,"i",(function(){return f})),r.d(t,"m",(function(){return v})),r.d(t,"n",(function(){return b})),r.d(t,"k",(function(){return y})),r.d(t,"h",(function(){return _})),r.d(t,"o",(function(){return g})),r.d(t,"j",(function(){return C}));var n=r("Sscr"),a=r("uO/V"),i=r("WS0f"),o="grid.applyFilter",s="grid.applyActivityTypeFilter",c="grid.applyJumpBarFilter",l="grid.applyQuickFindFilter",u="grid.applyFilterCurrentValue",p="grid.applyActivityTypeFilterCurrentValue",d="grid.applyAdvancedFindFilter";function h(e,t,r,i){return{type:"grid.applyFilter.async",execute:function(o,s){var c=o.dispatch,l=s.TraceManager.getTracer(a.z),u=a.x+".applyGridFilterAction",p=Object(n.v)(i),d=[];d.push({name:a.n,value:e}),d.push({name:a.e,value:p});try{return l.info("Applying the filter expression to the grid. "),c(function(e,t,r,n){return{type:e,payload:t,meta:{pageId:r,dataSetContextKey:n}}}(e,t,r,p)),s.EventManager.ReportComponentSuccess(u,d),Promise.resolve()}catch(e){s.EventManager.ReportComponentFailure(u,Error("Applying the filter expression to the grid failed "),"",d)}}}}function g(e,t,r){var a=Object(n.v)(r);return{type:c,payload:e,meta:{pageId:t,dataSetContextKey:a}}}var m=function(e,t,r){return h(o,e,t,r)},f=function(e,t,r){return h(s,e,t,r)},v=function(e,t,r){return h(c,e,t,r)},b=function(e,t,r){return h(l,Object(i.a)(e)?e:e.trim(),t,r)},y=function(e,t,r){return h(u,e,t,r)},_=function(e,t,r){return h(p,e,t,r)},C=function(e,t,r){return h(d,e,t,r)}},"1PXy":function(e,t,r){"use strict";r.d(t,"a",(function(){return C}));var n,a=r("c/eZ"),i=r("1z64"),o=r("Gemh"),s=r("YCDx"),c=r("PZxu"),l=r("ildB"),u=r("3OsR"),p=r("+Z9T"),d=r("ME4N"),h=r("IiPO"),g=r("7bez"),m=r("h82J"),f=r("Sscr"),v=r("ezfI"),b=r("gBKR"),y=r("9r0m"),_="ClientApi.XrmControlTimeline.",C=function(e){function t(t,r,a,o,s,c,l,u){var p=e.call(this,t,r,a,o,s,l)||this;return p._defaultLabel=d.u.Timeline,n=t,p._applicationContext=u,p._controlId=c,p._traceManager=u.TraceManager,p._subgridToken=Object(f.p)(r,s),p._clientApiExecutorTimeline=new i.a(t,_,a,r),p._clientApiExecutorTimeline.addEventParameter({name:"controlName",value:s,isEventParam:!0,expectedDataType:"string"}),p._clientApiExecutorTimeline.addEventParameter({name:"controlId",value:c,isEventParam:!0,expectedDataType:"string"}),p._gridControl=new g.a(t,p._subgridToken,a,!1,3,!0,u,s),t.dispatch(Object(m.a)(p,a,p._subgridToken)),p}return Object(a.__extends)(t,e),t.prototype.getControlType=function(){return v.a.instance.reportUsage(_+"getControlType"),"timelinewall"},t.prototype.getName=function(){var e=this;return this.clientApiExecutor.execute("getName",(function(){return e.controlDescriptor&&e.controlDescriptor.Parameters&&e.controlDescriptor.Parameters[d.s.UClientUniqueName]?e.controlDescriptor.Parameters[d.s.UClientUniqueName]:d.u.Timeline}))},t.prototype.getLabel=function(){var e=_+"getLabel";try{v.a.instance.reportCall(e);var t=this.controlDescriptor&&this.controlDescriptor.Parameters&&!Object(p.a)(this.controlDescriptor.Parameters[d.s.Label])?this.controlDescriptor.Parameters[d.s.Label]:this._defaultLabel?this._defaultLabel:"";return v.a.instance.reportSuccess(e),t}catch(t){var r=h.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),h.a.getInstance().reportFailure(e,t,null,r),t}},t.prototype.setLabel=function(t){var r=_+"setLabel";try{v.a.instance.reportCall(r),e.prototype.setLabel.call(this,t),this.controlDescriptor&&this.controlDescriptor.Parameters?this.controlDescriptor.Parameters[d.s.Label]=t:this._defaultLabel=t,v.a.instance.reportSuccess(r)}catch(e){var n=h.a.getInstance().getEventParameters(this.contextToken);throw n.push({name:"controlName",value:this.getName()}),h.a.getInstance().reportFailure(r,e,null,n),e}},t.prototype.openEmail=function(e){var t=_+"openEmail";try{v.a.instance.reportCall(t),n.dispatch(Object(l.t)(this._controlId,e)),n.dispatch(Object(l.o)(this._controlId,u.a.ContextualDialogEntity,2,y.a.toString(y.a.newGuid()))),v.a.instance.reportSuccess(t)}catch(e){var r=h.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),h.a.getInstance().reportFailure(t,e,null,r),e}},t.prototype.refresh=function(e){var t=_+"refresh";e&&e.modules&&(t+="-modules"),e&&e.activities&&(t+="-activities");try{v.a.instance.reportCall(t),e&&this.controlDescriptor&&this.controlDescriptor.Parameters&&(e.modules&&(this.controlDescriptor.Parameters[d.s.UClientModules]=e.modules),e.activities&&(this.controlDescriptor.Parameters[d.s.UClientActivities]=e.activities)),n.dispatch(Object(l.o)(this._controlId,u.a.InitiateRefresh,1,y.a.toString(y.a.newGuid()))),v.a.instance.reportSuccess(t)}catch(e){var r=h.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),h.a.getInstance().reportFailure(t,e,null,r),e}},t.prototype.setTargetEntity=function(e,t,r){var a=this;void 0===r&&(r=!0);var i=_+"setTargetEntity";try{v.a.instance.reportCall(i);var o={etn:e,id:t,isAPI:!0},s={};return s[e]=[],n.dispatch(Object(l.v)(this._controlId,o)),n.dispatch(Object(b.e)(s)).catch((function(t){var r=h.a.getInstance().getEventParameters(a.contextToken);throw r.push({name:"controlName",value:a.getName()}),r.push({name:"entityName",value:e}),h.a.getInstance().reportFailure(i+"-retrieveEntities",t,null,r),t})).then((function(){r&&n.dispatch(Object(l.o)(a._controlId,u.a.InitiateRefresh,1,y.a.toString(y.a.newGuid()))),v.a.instance.reportSuccess(i)}))}catch(e){var c=h.a.getInstance().getEventParameters(this.contextToken);throw c.push({name:"controlName",value:this.getName()}),h.a.getInstance().reportFailure(i,e,null,c),e}},t.prototype.getGrid=function(){var e=_+"getGrid";try{return v.a.instance.reportCall(e),this._grid||(this._grid=new c.a(n,this._applicationContext,this._subgridToken,this.pageId,this.getEntityName(),!1,this.name)),v.a.instance.reportSuccess(e),this._grid}catch(r){var t=h.a.getInstance().getEventParameters(this.contextToken);throw t.push({name:"controlName",value:this.getName()}),h.a.getInstance().reportFailure(e,r,null,t),r}},t.prototype.getRecordSetQueryKey=function(){var e=this;return this.clientApiExecutor.execute("getRecordSetQueryKey",(function(){return Object(o.cb)(n.getState(),e._subgridToken,{id:e.pageId})}))},t.prototype.getGridType=function(){return v.a.instance.reportUsage(_+"getGridType"),3},t.prototype.getRollupType=function(){var e=this;return this.clientApiExecutor.execute("getRollupType",(function(){return Object(o.eb)(n.getState(),e.pageId,e.contextToken)}))},t.prototype.getParentForm=function(){var e=_+"getParentForm";try{v.a.instance.reportCall(e);var t=this._gridControl.getParentForm();return v.a.instance.reportSuccess(e),t}catch(t){var r=h.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),h.a.getInstance().reportFailure(e,t,null,r),t}},t.prototype.refreshRibbon=function(){var e=_+"refreshRibbon";try{v.a.instance.reportCall(e),this._gridControl.refreshRibbon(),v.a.instance.reportSuccess(e)}catch(r){var t=h.a.getInstance().getEventParameters(this.contextToken);throw t.push({name:"controlName",value:this.getName()}),h.a.getInstance().reportFailure(e,r,null,t),r}},t.prototype.getEntityName=function(){return v.a.instance.reportUsage(_+"getEntityName"),"activitypointer"},t.prototype.getUrl=function(){var e=h.a.getInstance().getEventParameters(this.contextToken);return e.push({name:"controlName",value:this.getName()}),e.push({name:"validationError",value:"true"}),this._traceManager.getTracer("ClientApi.XrmControlTimeline.getUrl").warn("Not Supported in Timeline control",e),v.a.instance.reportUsage("ClientApi.XrmControlTimeline.getUrl"),""},t.prototype.getFilterXml=function(){var e=_+"getFilterXml",t=h.a.getInstance().getEventParameters(this.contextToken);return t.push({name:"controlName",value:this.getName()}),t.push({name:"validationError",value:"true"}),this._traceManager.getTracer(e).warn("Not Supported in Timeline control",t),v.a.instance.reportUsage(e),""},t.prototype.getFetchXml=function(){var e=_+"getFetchXml",t=h.a.getInstance().getEventParameters(this.contextToken);return t.push({name:"controlName",value:this.getName()}),t.push({name:"validationError",value:"true"}),this._traceManager.getTracer(e).warn("Not Supported in Timeline control",t),v.a.instance.reportUsage(e),""},t.prototype.getViewSelector=function(){var e=_+"getViewSelector",t=h.a.getInstance().getEventParameters(this.contextToken);return t.push({name:"controlName",value:this.getName()}),t.push({name:"validationError",value:"true"}),this._traceManager.getTracer(e).warn("Not Supported in Timeline control",t),v.a.instance.reportUsage(e),null},t.prototype.getTeamTemplateId=function(){return null},t.prototype.getRelationship=function(){var e=_+"getRelationship",t=h.a.getInstance().getEventParameters(this.contextToken);return t.push({name:"controlName",value:this.getName()}),t.push({name:"validationError",value:"true"}),this._traceManager.getTracer(e).warn("Not Supported in Timeline control",t),v.a.instance.reportUsage(e),null},t.prototype.setFilterXml=function(e){var t=_+"setFilterXml",r=h.a.getInstance().getEventParameters(this.contextToken);r.push({name:"controlName",value:this.getName()}),r.push({name:"validationError",value:"true"}),this._traceManager.getTracer(t).warn("Not Supported in Timeline control",r),v.a.instance.reportUsage(t)},t.prototype.addOnLoad=function(e){var t=h.a.getInstance().getEventParameters(this.contextToken);t.push({name:"controlName",value:this.getName()}),t.push({name:"validationError",value:"true"}),this._traceManager.getTracer("ClientApi.XrmControlTimeline.addOnLoad").warn("Not Supported in Timeline control",t),v.a.instance.reportUsage("ClientApi.XrmControlTimeline.addOnLoad")},t.prototype.removeOnLoad=function(e){var t=_+"removeOnLoad",r=h.a.getInstance().getEventParameters(this.contextToken);r.push({name:"controlName",value:this.getName()}),r.push({name:"validationError",value:"true"}),this._traceManager.getTracer(t).warn("Not Supported in Timeline control",r),v.a.instance.reportUsage(t)},t.prototype.openRelatedGrid=function(){var e=_+"openRelatedGrid",t=h.a.getInstance().getEventParameters(this.contextToken);t.push({name:"controlName",value:this.getName()}),t.push({name:"validationError",value:"true"}),this._traceManager.getTracer(e).warn("Not Supported in Timeline control",t),v.a.instance.reportUsage(e)},t}(s.a)},"4Q7K":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("Sscr"),a="dataset.set.newPageRequested";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function i(e,t,r){var i=Object(n.y)(t),o=Object(n.v)(t);return{type:a,payload:r,meta:{pageId:e,contextKey:i,dataSetContextKey:o}}}},"5cS+":function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return d}));var n=r("c/eZ"),a=r("9r0m"),i=r("gBKR"),o=r("r2h9"),s=r("/j9Z"),c=r("olrR"),l=r("uO/V"),u=r("/45f"),p=r("Gemh");function d(e,t,r){return{type:"datasethost.dependencies.retrieve.async",execute:function(d,g){var m=d.dispatch,f=d.getState,v=g.TraceManager.getTracer(l.z),b=l.x+".loadDataSetHostDependenciesAction";v.info("Retrieving view with ID "+a.a.toString(t)+" for "+e+" entity.");var y=Object(p.pb)(f(),e,t);return m(Object(c.a)(e,o.a.MAIN_APPLICATION_VIEW,y,t)).then((function(o){if(!o){var c="Unable to retrieve DataSetHost dependencies for the grid. Failed to retrieve view with ID "+a.a.toString(t)+" for "+e;return g.EventManager.ReportComponentFailure(b,Error(c)),Promise.reject(new s.a(u.b))}var l=h(f(),t,r);return m(Object(i.e)(l)).then((function(){var r=[{name:"entityTypeName",value:e},{name:"viewId",value:a.a.toString(t)}];return g.EventManager.ReportComponentSuccess(b,r),Promise.resolve()})).catch((function(r){var i=[];for(var o in l)l[o].length&&(i=Object(n.__spreadArrays)(l[o],i));var c="Unable to retrieve DataSetHost dependencies for the grid for view with ID "+a.a.toString(t)+". Failed to retrieve entity with attributes "+i.join()+" for "+e;return g.EventManager.ReportComponentFailure(b,Error(c)),Promise.reject(new s.a(u.a))}))}))}}}function h(e,t,r){var n=Object(p.qb)(e,t,r),a={};if(n&&n.grid&&n.grid.rows&&n.grid.rows[0]&&n.grid.rows[0].cells){var i=[];n.grid.rows[0].cells.forEach((function(e){if(!e.disableMetaDataBinding)if(e.relatedEntityName){if(e.name&&-1!==e.name.indexOf(".")){var t=e.name.split(".")[1];a[e.relatedEntityName]||(a[e.relatedEntityName]=[]),-1===a[e.relatedEntityName].indexOf(t)&&t&&a[e.relatedEntityName].push(t)}}else-1===i.indexOf(e.name)&&i.push(e.name)})),i.length>0&&(a[n.entityLogicalName]=i)}return a}},"7bez":function(e,t,r){"use strict";r.d(t,"a",(function(){return x})),r.d(t,"b",(function(){return F}));var n,a,i=r("1z64"),o=r("sOTk"),s=r("/zIU"),c=r("PZxu"),l=r("9r0m"),u=r("Wye+"),p=r("+Z9T"),d=r("Gemh"),h=r("IiPO"),g=r("HSdq"),m=r("/j9Z"),f=r("Sscr"),v=r("ezfI"),b=r("kvLG"),y=function(){function e(e,t,r,a,o){this._pageId=r,n=e,this._contextToken=t,this._controlName=a,this._gridType=o,this._clientApiExecutor=new i.a(e,"ClientApi.XrmViewSelector.",r,t,[{name:"controlName",value:a,isEventParam:!0},{name:"gridType",value:o,isEventParam:!0,isRequired:!0},{name:"contextToken",value:t,isRequired:!0},{name:"store",value:e,isRequired:!0}])}return e.prototype.setCurrentView=function(e){var t=this;this._clientApiExecutor.executeAsync("setCurrentView",(function(r,a){return e&&e.id?n.dispatch(Object(u.a)(t._pageId,t._contextToken,t._controlName,e.id)):(a.push({name:"validationError",value:"true"}),b.a.getInstance().traceManager.getTracer(r).error("View ID is required",a),Promise.resolve())}))},e.prototype.getCurrentView=function(){var e="ClientApi.XrmViewSelector.getCurrentView";try{v.a.instance.reportCall(e);var t=Object(d.hb)(n.getState(),this._pageId,this._contextToken,this._controlName),r=null,a=null;if(t)a=t.ViewId;else if(3===this._gridType){var i={id:this._pageId},o=Object(g.fb)(n.getState(),i,this._contextToken.parentContextToken);if(!(o&&o.Controls&&o.Controls[this._controlName]&&o.Controls[this._controlName].Parameters&&o.Controls[this._controlName].Parameters.ViewId)){var s=void 0;return o?o.Controls?o.Controls[this._controlName]?o.Controls[this._controlName].Parameters?o.Controls[this._controlName].Parameters.ViewId||(s="formDescriptor.Controls[this._controlName].Parameters[propertyViewId] is null or undefined"):s="formDescriptor.Controls[this._controlName].Parameters is null or undefined":s="formDescriptor.Controls[this._controlName] is null or undefined":s="formDescriptor.Controls is null or undefined":s="formDescriptor is null or undefined",(b=h.a.getInstance().getEventParameters(this._contextToken)).push({name:"controlName",value:this._controlName}),h.a.getInstance().reportFailure(e,new m.a(s),null,b),null}a=o.Controls[this._controlName].Parameters.ViewId}if(a){if(r=Object(d.qb)(n.getState(),l.a.parse(a),this._pageId)){var c={entityType:Object(d.ob)(n.getState(),a,this._pageId),id:l.a.externalGuid(r.viewId),name:r.title};return v.a.instance.reportSuccess(e),c}var u=[];return u.push({name:"controlName",value:this._controlName}),u.push({name:"contextKey",value:Object(f.v)(this._contextToken)}),h.a.getInstance().reportFailure(e,new Error("ViewDescriptor is coming as null"),null,u),null}var p=[];return p.push({name:"controlName",value:this._controlName}),p.push({name:"contextKey",value:Object(f.v)(this._contextToken)}),h.a.getInstance().reportFailure(e,new Error("viewId is coming as null or undefined"),null,p),null}catch(t){var b;throw(b=h.a.getInstance().getEventParameters(this._contextToken)).push({name:"controlName",value:this._controlName}),h.a.getInstance().reportFailure(e,t,null,b),t}},e.prototype.isVisible=function(){var e="ClientApi.XrmViewSelector.isVisible";try{if(v.a.instance.reportCall(e),Object(p.a)(this._isVisible)){var t=Object(d.hb)(n.getState(),this._pageId,this._contextToken,this._controlName);if(t)this._isVisible=t.EnableViewPicker;else{var r={id:this._pageId},a=Object(g.fb)(n.getState(),r,this._contextToken.parentContextToken);if(!(a&&a.Controls&&a.Controls[this._controlName]&&a.Controls[this._controlName].Parameters&&a.Controls[this._controlName].Parameters.EnableViewPicker))return(i=h.a.getInstance().getEventParameters(this._contextToken)).push({name:"controlName",value:this._controlName}),h.a.getInstance().reportFailure(e,new m.a("FormDescriptor is null"),null,i),!1;this._isVisible=a.Controls[this._controlName].Parameters.EnableViewPicker}}return v.a.instance.reportSuccess(e),this._isVisible}catch(t){var i;throw(i=h.a.getInstance().getEventParameters(this._contextToken)).push({name:"controlName",value:this._controlName}),h.a.getInstance().reportFailure(e,t,null,i),t}},e}(),_=r("h82J"),C=r("fW82"),S=r("tcXs"),O=r("Cgjg"),I=r("lMVv"),T=r("r2h9"),j=r("gLMt"),P=r("qC0c"),E=r("cZkS"),A=r("Ka9P"),x=function(){function e(e,t,r,n,o,s,c,l){this._relationship=null;var u="ClientApi.XrmGridControl.constructor";e||Object(p.j)(u,"store"),t||Object(p.j)(u,"contextToken"),r||Object(p.j)(u,"pageId"),a=e,this._pageId=r,this._contextToken=t,this._controlName=l,this._isEditable=n,this._gridType=o,this._applicationContext=c,s||a.dispatch(Object(_.a)(this,r,t)),this._clientApiExecutor=new i.a(e,"ClientApi.XrmGridControl.",r,t),this._clientApiExecutor.addEventParameter({name:"controlName",value:l,isEventParam:!0}),this._clientApiExecutor.addEventParameter({name:"isEditable",value:n,isEventParam:!0}),this._clientApiExecutor.addEventParameter({name:"isCallFromSubgrid",value:s,isEventParam:!0}),this._clientApiExecutor.addEventParameter({name:"gridType",value:o,isEventParam:!0})}return Object.defineProperty(e.prototype,"_connectedControlProps",{get:function(){return{controlName:this._controlName,id:this._pageId}},enumerable:!1,configurable:!0}),e.prototype.setFilterXml=function(e){var t=this;this._clientApiExecutor.executeAsync("setFilterXml",(function(){var r=(new Date).getTime();return a.dispatch(Object(O.b)(e,1,t._pageId,t._contextToken,r))}))},e.prototype.getFilterXml=function(){var e="ClientApi.XrmGridControl.getFilterXml";try{v.a.instance.reportCall(e);var t=Object(d.u)(a.getState(),this._pageId,this._contextToken);return v.a.instance.reportSuccess(e),t}catch(t){var r=h.a.getInstance().getEventParameters(this._contextToken);throw r.push({name:"controlName",value:this._controlName}),h.a.getInstance().reportFailure(e,t,null,r),t}},e.prototype.getFetchXml=function(){var e="ClientApi.XrmGridControl.getFetchXml";try{v.a.instance.reportCall(e);var t=Object(d.A)(a.getState(),this._contextToken,{id:this._pageId});return v.a.instance.reportSuccess(e),t}catch(t){var r=h.a.getInstance().getEventParameters(this._contextToken);throw r.push({name:"controlName",value:this._controlName}),h.a.getInstance().reportFailure(e,t,null,r),t}},e.prototype.getGrid=function(){var e="ClientApi.XrmGridControl.getGrid";try{return v.a.instance.reportCall(e),!this._grid&&this.getEntityName()&&(this._grid=new c.a(a,this._applicationContext,this._contextToken,this._pageId,this.getEntityName(),this._isEditable,this._controlName)),v.a.instance.reportSuccess(e),this._grid}catch(r){var t=h.a.getInstance().getEventParameters(this._contextToken);throw t.push({name:"controlName",value:this._controlName}),h.a.getInstance().reportFailure(e,r,null,t),r}},e.prototype.getViewSelector=function(){var e="ClientApi.XrmGridControl.getViewSelector";try{return v.a.instance.reportCall(e),this._viewSelector||(this._viewSelector=new y(a,this._contextToken,this._pageId,this._controlName,this._gridType)),v.a.instance.reportSuccess(e),this._viewSelector}catch(r){var t=h.a.getInstance().getEventParameters(this._contextToken);throw t.push({name:"controlName",value:this._controlName}),h.a.getInstance().reportFailure(e,r,null,t),r}},e.prototype.getTeamTemplateId=function(){var e="ClientApi.XrmGridControl.getTeamTemplateId";try{v.a.instance.reportCall(e);var t=null,r=a.getState();if(Object(P.c)(r,E.c))if(this.getEntityName()&&3===this._gridType){var n=Object(g.fb)(r,this._connectedControlProps,this._contextToken.parentContextToken);n&&n.Controls&&n.Controls[this._controlName]&&n.Controls[this._controlName].Parameters&&n.Controls[this._controlName].Parameters.TeamTemplateId&&(t=n.Controls[this._controlName].Parameters.TeamTemplateId)}return v.a.instance.reportSuccess(e),t}catch(t){var i=h.a.getInstance().getEventParameters(this._contextToken);throw i.push({name:"controlName",value:this._controlName}),h.a.getInstance().reportFailure(e,t,null,i),t}},e.prototype.getEntityName=function(){var e=this;return this._clientApiExecutor.execute("getEntityName",(function(t,r){if(!e._entityName){if(e._entityName=Object(d.F)(a.getState(),e._pageId,e._contextToken,e._controlName),!e._entityName&&3===e._gridType){var n=Object(g.fb)(a.getState(),e._connectedControlProps,e._contextToken.parentContextToken);if(!(n&&n.Controls&&n.Controls[e._controlName]&&n.Controls[e._controlName].Parameters&&n.Controls[e._controlName].Parameters.TargetEntityType)){var i=void 0;return n?n.Controls?n.Controls[e._controlName]?n.Controls[e._controlName].Parameters?n.Controls[e._controlName].Parameters.TargetEntityType||(i="formDescriptor.Controls[this.name].Parameters[targetEntityType] is null or undefined"):i="formDescriptor.Controls[this.name].Parameters is null or undefined":i="formDescriptor.Controls[this.name] is null or undefined":i="formDescriptor.Controls is null or undefined":i="formDescriptor is null or undefined",e._clientApiExecutor.reportFailure(t,new m.a(i),r),null}e._entityName=n.Controls[e._controlName].Parameters.TargetEntityType}if(!e._entityName)return e._clientApiExecutor.reportFailure(t,new m.a("Logical name of the entity type is coming as null or undefined."),r),null}return e._entityName}))},e.prototype.refresh=function(){var e=this;this._clientApiExecutor.executeAsync("refresh",(function(){return a.dispatch(Object(u.a)(e._pageId,e._contextToken,e._controlName))}))},e.prototype.refreshRibbon=function(){var e=this;this._clientApiExecutor.executeAsync("refreshRibbon",(function(){return a.dispatch(Object(S.a)(e._pageId,Object(d.w)(a.getState(),e._pageId,e._contextToken)))}))},e.prototype.getUrl=function(e){var t="ClientApi.XrmGridControl.getUrl";try{v.a.instance.reportCall(t);var r,n=null,i=this._getCurrentView();n={entityTypeName:this.getEntityName()},i&&(n.viewType="savedquery"===i.entityType?T.b.savedview:T.b.userview,n.viewId=new l.a(i.id)),r=s.a.Grid;var o=null;if(1===e)o=a.dispatch(Object(C.a)(r,n));else{var c=Object(j.a)(a,this._pageId);o=a.dispatch(Object(C.c)(c,r,n))}return v.a.instance.reportSuccess(t),o}catch(e){var u=h.a.getInstance().getEventParameters(this._contextToken);throw u.push({name:"controlName",value:this._controlName}),h.a.getInstance().reportFailure(t,e,null,u),e}},e.prototype.getRecordSetQueryKey=function(){var e=this;return this._clientApiExecutor.execute("getRecordSetQueryKey",(function(){return Object(d.cb)(a.getState(),e._contextToken,{id:e._pageId})}))},e.prototype.getGridType=function(){return v.a.instance.reportUsage("ClientApi.XrmGridControl.getGridType"),this._gridType},e.prototype.getRelationship=function(){var e=this;return this._clientApiExecutor.execute("getRelationship",(function(t,r){if(!e._relationship){var n=Object(d.v)(a.getState(),e._pageId,e._contextToken);if(n){var i=n.relationshipName;if(i&&(e._relationship=F(i,e.getEntityName()),n.relationshipRoleOrdinal)){var o=n.relationshipRoleOrdinal===A.a.Referencing?1:2;e._relationship.roleType=o}}else b.a.getInstance().traceManager.getTracer(t).error("Grid dataset was null",r)}return e._relationship}))},e.prototype.getParentForm=function(){var e="ClientApi.XrmGridControl.getParentForm";try{v.a.instance.reportCall(e);var t=this._contextToken&&this._contextToken.parentContextToken?a.dispatch(Object(_.b)(this._pageId,this._contextToken.parentContextToken)):null;return v.a.instance.reportSuccess(e),t}catch(t){var r=h.a.getInstance().getEventParameters(this._contextToken);throw r.push({name:"controlName",value:this._controlName}),h.a.getInstance().reportFailure(e,t,null,r),t}},e.prototype.getRollupType=function(){var e=this;return this._clientApiExecutor.execute("getRollupType",(function(){return Object(d.eb)(a.getState(),e._pageId,e._contextToken)}))},e.prototype._getCurrentView=function(){var e=null,t=this.getViewSelector().getCurrentView();if(t)return{entityType:e="savedquery"===t.entityType?"savedquery":"userquery",id:t.id};var r=Object(o.g)(a.getState(),this._pageId);if(r.viewType&&r.viewId){var n=r.viewId?l.a.externalGuid(r.viewId):void 0;if((e=r.viewType===T.b.savedview?"savedquery":"userquery")&&n)return{entityType:e,id:n}}return null},e}();function F(e,t){var r={};r.name=e;var n=Object(I.h)(a.getState(),t);if(n){var i=void 0;if(n.OneToManyRelationships&&n.OneToManyRelationships[e]?i=n.OneToManyRelationships[e]:n.ManyToOneRelationships&&n.ManyToOneRelationships[e]&&(i=n.ManyToOneRelationships[e]),i)r.attributeName=i.ReferencingAttribute,r.relationshipType=0,r.navigationPropertyName=i.ReferencingEntityNavigationPropertyName;else if(n.ManyToManyRelationships&&n.ManyToManyRelationships[e]){var o=n.ManyToManyRelationships[e];r.relationshipType=1,1===r.roleType?(r.attributeName=o.Entity1IntersectAttribute,r.navigationPropertyName=o.Entity1NavigationPropertyName):(r.attributeName=o.Entity2IntersectAttribute,r.navigationPropertyName=o.Entity2NavigationPropertyName)}}return r}},"7oc5":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s}));var n=r("Sscr"),a=r("uO/V"),i=r("zETL"),o="grid.toggleRollupView";var s=function(e,t,r){return function(e,t,r,o){return{type:"grid.toggleRollupView.async",execute:function(s,c){var l=s.dispatch,u=c.TraceManager.getTracer(a.z),p=a.x+".toggleRollupViewAction";try{u.info("Setting Toggle value to "+t+" for the grid.");var d=Object(n.v)(o);l(function(e,t,r,n){return{type:e,payload:t,meta:{pageId:r,dataSetContextKey:n}}}(e,t,r,d)),l(Object(i.b)(r,o));var h=[{name:"newValue",value:t}];return c.EventManager.ReportComponentSuccess(p,h),Promise.resolve()}catch(e){c.EventManager.ReportComponentFailure(p,Error("Setting Toggle value to the grid failed"))}}}}(o,e,t,r)}},"8ADW":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"g",(function(){return a})),r.d(t,"h",(function(){return i})),r.d(t,"f",(function(){return o})),r.d(t,"i",(function(){return s})),r.d(t,"d",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return p}));
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
var n="Chart.Component",a="ViewId",i="visualizationId",o="entity Type",s="chart visualization type",c="RETRIEVECHART",l="RETRIEVECHARTTS_RETRIEVECHARTSELECTOR",u="RETRIEVECHARTTS_RETRIEVECHARTDATA",p="RETRIEVECHARTTS_RETRIEVECHARTODATA"},"8Fmj":function(e,t,r){"use strict";r.d(t,"a",(function(){return _}));var n=r("9r0m"),a=r("G7N+"),i=r("KDdL"),o=r("7dGM"),s=r("8ADW"),c=r("z9yS"),l=r("Xlzu"),u=r("t8f4"),p=r("QAhb"),d=r("xhI+"),h=r("/j9Z"),g=r("Fpc+"),m=r("Kn4q"),f=r("zEjV"),v=r("S2mk"),b=r("cZkS"),y=r("qC0c");function _(e,t,r){void 0===t&&(t=c.a.savedvisualization);var d=[];return d.push({name:s.f,value:e}),d.push({name:s.i,value:t}),d.push({name:s.h,value:n.a.toString(r)}),{type:"chart.retrieve.async",execute:function(g,v){var _=g.dispatch,C=g.getState;try{var O=m.a.LocalAndRemote,j=v.TraceManager.getTracer(s.d),A=v.DataSource,x=C(),F=r;if(j.info(s.d+"entityTypeName:"+e+"visualizationType:"+t+"visualizationId:"+r),!e){return v.EventManager.ReportComponentFailure(i.f+".retrieveChart",Error("entityTypeName is null"),s.d,d),Promise.reject("entityTypeName is null")}n.a.isNullOrEmpty(F)&&(F=Object(o.j)(x,e));var w=Object(y.c)(C(),b.A);if(!n.a.isNullOrEmpty(F)){var N=Object(o.f)(x,F),k=Object(o.g)(x,F);if(N===a.a.Initialized){if(function(){var r=Object(o.a)(x,F),n=function(e,t,r,n){var a=c.a[r],i=Object(o.i)(e,t);return i&&i.chartTypes&&i.chartTypes[a]&&i.chartTypes[a][n.guid]}(x,e,t,F),a=n&&!n.IsUserChart;switch(Object(l.d)(x,a,r,(function(){return n}))){case 1:O=m.a.Remote;break;case 2:_(function(e,t,r){var n=[];return n.push({name:"entityTypeName",value:t}),n.push({name:"visualizationType",value:r}),{type:"chartselector.retrieve.async",execute:function(e,a){var o=e.dispatch;e.getState;try{return o(Object(l.b)(c.a[r],null,t,null,!0,f.a.OnDemandWithContext,null,null,[],null,m.a.LocalAndRemote)).catch(h.b)}catch(e){throw a.EventManager.ReportComponentFailure(i.f+"._retrieveChartSelector",Error(e),s.e,n),e}}}}(0,e,t))}}(),O!==m.a.LocalAndRemote)return I(_,A,e,F,t,O,v,d);if(w&&k===a.a.Uninitialized){var D=new p.a(t===c.a.savedvisualization?"savedqueryvisualization":"userqueryvisualization",F),M=Object(o.a)(x,F);return _(S(F,a.a.Initialized)),_(Object(u.d)(D)).catch(h.b).then((function(e){return T(M,e),_(P(e)),v.EventManager.ReportComponentSuccess(i.f+".retrieveChartOData"),Promise.resolve(F)}),(function(e){return E(_,e,F.guid,M,v,d),Promise.resolve(F)}))}return Promise.resolve(F)}return I(_,A,e,F,t,O,v,d)}return I(_,A,e,F,t,O,v,d)}catch(e){throw v.EventManager.ReportComponentFailure(i.f+".retrieveChart",Error(e),s.d,d),e}}}}function C(e){return{type:"chart.dependencies.update.async",execute:function(t,r){var a=t.dispatch,i=t.getState,s=[];for(var c in e)s.push(e[c]+":name");return s.length>0?a(Object(d.a)(s)).then((function(){var t=new Map,r=i();for(var s in e){var c=e[s],l=Object(o.a)(r,new n.a(c));l&&c&&r.metadata.labels&&r.metadata.labels[c]&&r.metadata.labels[c].name&&(l.Name=r.metadata.labels[c].name,t.set(c,l))}t.size>0&&a(function(e){var t={};return e.forEach((function(e,r){t[r]=e})),{type:"chart.descriptor.update",payload:{charts:t}}}(t))}),h.b):Promise.resolve()}}}function S(e,t){var r,i=n.a.isNullOrEmpty(e)?null:{charts:(r={},r[n.a.toString(e)]={initialized:t,oDataInitialized:a.a.Initializing},r)};return{type:g.f,payload:i}}function O(e,t,r,o,d){void 0===o&&(o=c.a.savedvisualization);var g=[];return g.push({name:s.f,value:t}),g.push({name:s.i,value:o}),g.push({name:s.h,value:n.a.toString(r)}),{type:"chart.retrieve.async",execute:function(e,s){var m=e.dispatch,v=e.getState;return Object(y.c)(v(),b.A)?r?function(e,t,r,o,s,d,g){var m=new p.a(o===c.a.savedvisualization?"savedqueryvisualization":"userqueryvisualization",r);return e(S(r,a.a.Initializing)),Promise.all([e(Object(l.b)(c.a[o],null,t,n.a.toLegacyGuid(r),!0,f.a.OnDemandWithContext,null,null,[],null,s)).catch(h.b),e(Object(u.d)(m)).catch(h.c)]).then((function(t){return t[1].constructor===h.a?E(e,t[1],r.guid,t[0].charts[r.guid],d,g):(T(t[0].charts[r.guid],t[1]),e(P(t[1])),d.EventManager.ReportComponentSuccess(i.f+".retrieveChartOData")),t[0]}))}(m,t,r,o,d,s,g):function(e,t,r,o,s,d,g){return e(Object(l.b)(c.a[o],null,t,n.a.toLegacyGuid(r),!0,f.a.OnDemandWithContext,null,null,[],null,s)).catch(h.b).then((function(t){var r=new n.a(Object.keys(t.charts)[0]),s=new p.a(o===c.a.savedvisualization?"savedqueryvisualization":"userqueryvisualization",r);return e(S(r,a.a.Initializing)),e(Object(u.d)(s)).catch(h.b).then((function(n){return T(t.charts[r.guid],n),e(P(n)),d.EventManager.ReportComponentSuccess(i.f+".retrieveChartOData"),t}),(function(n){return E(e,n,r.guid,t.charts[r.guid],d,g),t}))}))}(m,t,r,o,d,s,g):function(e,t,r,a,i){return e(Object(l.b)(c.a[a],null,t,n.a.toLegacyGuid(r),!0,f.a.OnDemandWithContext,null,null,[],null,i)).catch(h.b)}(m,t,r,o,d)}}}function I(e,t,r,o,c,l,u,p){var d,m,f;return e((d=o,f=n.a.isNullOrEmpty(d)?null:{charts:(m={},m[n.a.toString(d)]={initialized:a.a.Initializing},m)},{type:g.b,payload:f})),e(O(0,r,o,c,l)).then((function(t){t&&t.chartSelectors&&!t.chartSelectors[r]&&(t.chartSelectors[r]={initialized:a.a.Initialized,chartTypes:{}});var s=[];for(var c in t.charts)s.push(c);return e(C(s)).then((function(){return e(j(t)),n.a.isNullOrEmpty(o)&&(o=t.chartDefaults[r]),u.EventManager.ReportComponentSuccess(i.f+".retrieveChart"),o}),h.b)}),(function(t){var c,l,d=t&&!Object(v.j)(t.errorCode)&&t.errorCode,g={chartSelectors:(c={},c[r]={initialized:a.a.Initialized,chartTypes:{}},c)};if(e(j(g)),Object(v.j)(d))return u.EventManager.ReportComponentFailure(i.f+".retrieveChart",Error(t),s.d,p),Object(h.b)(t);var m={charts:(l={},l[n.a.toString(o)]={initialized:a.a.Error,errorCode:d},l)};e(j(m))}))}function T(e,t){e.PresentationDescription=t.presentationdescription.replace(/(\r\n\s*)/g,""),e.oDataInitialized=a.a.Initialized}function j(e){return{type:g.b,payload:e}}function P(e){return{type:g.f,payload:e}}function E(e,t,r,n,o,c){var l;e(P({charts:(l={},l[r]={initialized:n.initialized,oDataInitialized:a.a.Error},l)})),o.EventManager.ReportComponentFailure(i.f+".retrieveChartOData",Error(t),s.c,c)}},"8VL5":function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));var n=r("uO/V"),a=r("/j9Z"),i="customcontrol.refreshCustomDataProvider";function o(e,t,r,o){return{type:"customcontrol.refreshCustomDataProvider.async",execute:function(s,c){var l=s.dispatch,u=(s.getState,n.x+".refreshCustomDataProviderAction");return o().then((function(n){return l(function(e,t,r,n){var a=new Array;n&&n.length>0&&(a=n.slice());return{type:i,payload:a,meta:{pageId:e,customControlId:t,dataSetParameterName:r}}}(e,t,r,n)),c.EventManager.ReportComponentSuccess(u),n})).catch((function(e){return c.EventManager.ReportComponentFailure(u,Error(e)),Promise.reject(new a.a(e))}))}}}},"9LTA":function(e,t,r){"use strict";r.d(t,"b",(function(){return Se})),r.d(t,"d",(function(){return Oe})),r.d(t,"e",(function(){return Ie})),r.d(t,"c",(function(){return Te})),r.d(t,"a",(function(){return je}));var n=r("0RbL"),a=r("9r0m"),i=r("G7N+"),o=r("KDdL"),s=r("c/eZ");var c=r("70DF");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */var l=r("QAhb"),u=r("VcAV"),p=r("+h4s"),d=function(){function e(){this._dataPointAggregators=new Array(0),this._dataPointDateTimeRangeAggregatorInfoMap=new Map,this._dataPointFiscalPeriodAggregators=new Array(0),this._dataPointFiscalYearAggregators=new Array(0)}return e.prototype.addAggregator=function(e,t,r,n,i){if(r>=c.a.DAY&&r<c.a.FISCAL_PERIOD)this._addDateTimeRangeAggregatorInfo(e,t,r,n,i);else if(r===c.a.FISCAL_PERIOD)this._addDataPointFiscalPeriodAggregator(e,t,n,i);else if(r===c.a.FISCAL_YEAR)this._addDataPointFiscalYearAggregator(e,t,n,i);else{var o=
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
function(e){return{FieldName:e&&e.FieldName||null,EntityName:e&&e.EntityName||null,LinkEntityExpressionArray:e&&e.LinkEntityExpressionArray||null,Value:e&&e.Value||null,DisplayName:e&&e.DisplayName||null,EntityLogicalName:e&&e.EntityLogicalName||null}}();if(o.FieldName=e,o.EntityName=n,o.LinkEntityExpressionArray=i,Object(u.c)(t))o.Value=null;else if(t instanceof l.a){var s=t;o.Value=s.id.guid,o.DisplayName=s.name,o.EntityLogicalName=s.etn}else t instanceof a.a?o.Value=a.a.toString(t):o.Value=t.toString();this._dataPointAggregators.push(o)}},e._daysInMonth=function(e,t){return new Date(e,t,0).getDate()},e.prototype._addDataPointFiscalPeriodAggregator=function(e,t,r,n){var a=function(e){return{FieldName:e&&e.FieldName||null,EntityName:e&&e.EntityName||null,LinkEntityExpressionArray:e&&e.LinkEntityExpressionArray||null,FiscalType:e&&e.FiscalType||null,Year:e&&e.Year||0,Period:e&&e.Period||0}}();if(a.FiscalType="in-fiscal-period-and-year",a.FieldName=e,a.EntityName=r,a.LinkEntityExpressionArray=n,t){if("string"!=typeof t)throw new Error("value should be string");if(t.indexOf("-")<=0)throw new Error("value should have xxxx-yy format");var i=t.split("-");a.Year=Number(i[0]),a.Period=Number(i[1]),this._dataPointFiscalPeriodAggregators.push(a)}else this._dataPointFiscalPeriodAggregators.push(a)},e.prototype._addDataPointFiscalYearAggregator=function(e,t,r,n){var a=function(e){return{FieldName:e&&e.FieldName||null,EntityName:e&&e.EntityName||null,LinkEntityExpressionArray:e&&e.LinkEntityExpressionArray||null,FiscalType:e&&e.FiscalType||null,Year:e&&e.Year||0}}();if(a.FiscalType="in-fiscal-year",a.FieldName=e,a.EntityName=r,a.LinkEntityExpressionArray=n,t){if("number"!=typeof t)throw new Error("value should be number");a.Year=Number(t),this._dataPointFiscalYearAggregators.push(a)}else this._dataPointFiscalYearAggregators.push(a)},e.prototype._addDateTimeRangeAggregatorInfo=function(e,t,r,n,a){var i=null;switch(this._dataPointDateTimeRangeAggregatorInfoMap.has(e)?i=this._dataPointDateTimeRangeAggregatorInfoMap.get(e):(i=function(e){return{dateTimeAggregatorDay:(null==e?void 0:e.dateTimeAggregatorDay)||null,dateTimeAggregatorWeek:(null==e?void 0:e.dateTimeAggregatorWeek)||null,dateTimeAggregatorMonth:(null==e?void 0:e.dateTimeAggregatorMonth)||null,dateTimeAggregatorYear:(null==e?void 0:e.dateTimeAggregatorYear)||null,dateTimeAggregatorFieldName:(null==e?void 0:e.dateTimeAggregatorFieldName)||null,dateTimeAggregatorEntityName:(null==e?void 0:e.dateTimeAggregatorEntityName)||null,dateTimeAggregatorLinkEntityExpressionArr:(null==e?void 0:e.dateTimeAggregatorLinkEntityExpressionArr)||null,dateTimeAggregatorPrecision:(null==e?void 0:e.dateTimeAggregatorPrecision)||c.a.YEAR}}({dateTimeAggregatorFieldName:e}),this._dataPointDateTimeRangeAggregatorInfoMap.set(e,i)),i.dateTimeAggregatorEntityName||(i.dateTimeAggregatorEntityName=n),i.dateTimeAggregatorLinkEntityExpressionArr||(i.dateTimeAggregatorLinkEntityExpressionArr=a),r){case c.a.DAY:i.dateTimeAggregatorDay=Number(t);break;case c.a.WEEK:i.dateTimeAggregatorWeek=Number(t);break;case c.a.MONTH:i.dateTimeAggregatorMonth=Number(t);break;case c.a.QUARTER:i.dateTimeAggregatorMonth=3*Number(t);break;case c.a.YEAR:i.dateTimeAggregatorYear=Number(t);break;default:throw new Error("DateTime Group type not supported")}i.dateTimeAggregatorPrecision=Math.min(r,i.dateTimeAggregatorPrecision)},e.prototype._getDataPointDateTimeRangeAggregators=function(t,r){var n=new Array(0);return 0===this._dataPointDateTimeRangeAggregatorInfoMap.size||this._dataPointDateTimeRangeAggregatorInfoMap.forEach((function(a,i){var o,s={FieldName:(null==o?void 0:o.FieldName)||null,EntityName:(null==o?void 0:o.EntityName)||null,LinkEntityExpressionArray:(null==o?void 0:o.LinkEntityExpressionArray)||null,MinDate:(null==o?void 0:o.MinDate)||null,MaxDate:(null==o?void 0:o.MaxDate)||null};if(s.FieldName=a.dateTimeAggregatorFieldName,s.EntityName=a.dateTimeAggregatorEntityName,s.LinkEntityExpressionArray=a.dateTimeAggregatorLinkEntityExpressionArr,a.dateTimeAggregatorYear){switch(a.dateTimeAggregatorMonth=a.dateTimeAggregatorMonth?a.dateTimeAggregatorMonth:12,a.dateTimeAggregatorDay=a.dateTimeAggregatorDay?a.dateTimeAggregatorDay:e._daysInMonth(a.dateTimeAggregatorYear,a.dateTimeAggregatorMonth),s.MaxDate=new Date(a.dateTimeAggregatorYear,a.dateTimeAggregatorMonth-1,a.dateTimeAggregatorDay),a.dateTimeAggregatorPrecision){case c.a.DAY:h(s.MaxDate),s.MinDate=new Date(s.MaxDate.getFullYear(),s.MaxDate.getMonth(),s.MaxDate.getDate());break;case c.a.WEEK:r===p.a.FirstFullWeekOfTheYear&&(r=p.a.FirstDayOfTheYear);var l=Object(p.s)(a.dateTimeAggregatorYear,a.dateTimeAggregatorWeek,t,r),u=Object(p.s)(a.dateTimeAggregatorYear,a.dateTimeAggregatorWeek+1,t,r);if(u.setDate(u.getDate()-1),r===p.a.FirstDayOfTheYear)if(u>=new Date(a.dateTimeAggregatorYear+1,0,1))u=new Date(a.dateTimeAggregatorYear+1,0,0);else if(1===a.dateTimeAggregatorWeek){var d=new Date(a.dateTimeAggregatorYear,0,1);l<d&&(l=d)}s.MinDate=l,s.MaxDate=u,h(s.MaxDate),h(s.MinDate);break;case c.a.MONTH:s.MinDate=new Date(s.MaxDate.getFullYear(),s.MaxDate.getMonth()-1,e._daysInMonth(a.dateTimeAggregatorYear,s.MaxDate.getMonth())+1),h(s.MaxDate),h(s.MinDate);break;case c.a.QUARTER:s.MinDate=new Date(s.MaxDate.getFullYear(),s.MaxDate.getMonth()-3,e._daysInMonth(a.dateTimeAggregatorYear,s.MaxDate.getMonth()-2)+1),h(s.MaxDate),h(s.MinDate);break;case c.a.YEAR:h(s.MaxDate),s.MinDate=new Date(s.MaxDate.getFullYear()-1,s.MaxDate.getMonth(),s.MaxDate.getDate()+1);break;default:throw new Error("DateTime Group type not supported")}n.push(s)}else n.push(s)})),n},e.prototype.getAggregators=function(e,t){var r=this._dataPointAggregators,n=this._getDataPointDateTimeRangeAggregators(e,t);return n&&n.length>0&&(r=r.concat(n)),this._dataPointFiscalPeriodAggregators&&this._dataPointFiscalPeriodAggregators.length>0&&(r=r.concat(this._dataPointFiscalPeriodAggregators)),this._dataPointFiscalYearAggregators&&this._dataPointFiscalYearAggregators.length>0&&(r=r.concat(this._dataPointFiscalYearAggregators)),r},e}();function h(e){e.getTimezoneOffset()<0&&e.setDate(e.getDate()+1)}var g=r("Ww2r"),m=r("dUXI"),f=r("7EJx"),v=r("otJc"),b=r("yGoS"),y=r("EGsq"),_=r("F2uj"),C=r("uXKh"),S=r("sRkF");function O(e,t){var r=Object(_.a)(e,t.entity.entityName,t.attributeName),n=r?r.DisplayName:null;n||(n=t.attributeName);var a=n;if(t.dateTimeGrouping){var i=b.c(t.dateTimeGrouping.groupingType).replace("-","").toUpperCase();a=String.format(Object(g.b)(e,m.c),Object(g.b)(e,m.c+"."+i.toUpperCase()),n)}else t.hasAggregate&&t.aggregateType&&(a=String.format(Object(g.b)(e,m.d),Object(g.b)(e,m.d+"."+t.aggregateType.toUpperCase()),n));if(r&&"money"===r.Type){var o="",s=null,c=Object(y.x)(e);r.IsBaseCurrency?c&&c.baseCurrencyId&&c.transactionCurrencyById&&(s=c.transactionCurrencyById[c.baseCurrencyId.guid]):t.hasAggregate&&(s=Object(f.b)(e)),s&&(o=c&&c.currencyDisplayOption===C.a.CurrencyCode?s.currencyCode:s.currencySymbol),o&&(a=String.format(Object(g.b)(e,m.b),a,o))}return a}function I(e,t,r){return r>0?String.format(Object(g.b)(e,m.y),r,t):String.format(Object(g.b)(e,m.w),t)}function T(e,t,r,n,a){var i=a<1&&n>=1&&r<1,o=a<1&&n<1&&r>=1,s=n<1&&r<1;if(a>=1&&n<1&&r>=1){var c=new Date(t,r-1,a),l=Object(f.w)(e),u=l.formatInfoCultureName,p=l.numberFormatInfo,d=l.dateFormatInfo,h=new Sys.CultureInfo(u,p,d);return Object(v.s)(c,h,S.a.None)}return i?String.format(Object(g.b)(e,m.z),n,t):o?String.format("{0} {1}",function(e){var t=Object(g.b)(e,m.e).split(",");if(!t||12!==t.length)throw new Error("Expect 12 months! Actual: "+t.length);return t}(e)[r-1],t):s?String(t):""}function j(e){return Object(g.b)(e,m.v)}var P=r("9rlF"),E=r("+Z9T");function A(e,t,r){var n=!1;return r&&r.groupAttribute&&r.groupAttribute.dateTimeGrouping&&(n=!0),{attribute:t,primaryGroupBy:r,aliasName:t.aliasName||t.attributeName,state:e,isDateTimeChart:n}}function x(e,t){var r=e.isDateTimeChart?function(e,t){if(!t.fields||!Object(P.c)(t.fields[e.aliasName]))return"";switch(e.attribute.dateTimeGrouping.groupingType){case c.a.DAY:return function(e,t){var r=Object(P.e)(t.fields[e.aliasName]),n=Object(P.e)(t.fields[e.primaryGroupBy.extendedGroupBys[0].aliasName]),a=Object(P.e)(t.fields[e.primaryGroupBy.extendedGroupBys[1].aliasName]);return T(e.state,a,n,-1,r)}(e,t);case c.a.WEEK:return function(e,t){var r=Object(P.e)(t.fields[e.aliasName]),n=Object(P.e)(t.fields[e.primaryGroupBy.extendedGroupBys[0].aliasName]);return T(e.state,n,-1,r,-1)}(e,t);case c.a.MONTH:return function(e,t){var r=Object(P.e)(t.fields[e.aliasName]),n=Object(P.e)(t.fields[e.primaryGroupBy.extendedGroupBys[0].aliasName]);return T(e.state,n,r,-1,-1)}(e,t);case c.a.QUARTER:return function(e,t){var r=Object(P.e)(t.fields[e.aliasName]),n=Object(P.e)(t.fields[e.primaryGroupBy.extendedGroupBys[0].aliasName]);return I(e.state,n,r)}
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */(e,t);case c.a.FISCAL_PERIOD:return function(e,t){return Object(P.e)(t.fields[e.aliasName])}(e,t);case c.a.YEAR:return function(e,t){var r=Object(P.e)(t.fields[e.aliasName]);return T(e.state,r,-1,-1,-1)}(e,t);case c.a.FISCAL_YEAR:return function(e,t){var r=Object(P.e)(t.fields[e.aliasName]);return I(e.state,r,-1)}(e,t);default:return Object(P.c)(t.fields[e.attribute.attributeName])}}(e,t):null;return r||(r=(r=Object(P.c)(t.fields[e.aliasName]))||""),0===r.length?Object(g.b)(e.state,m.v):r}function F(e,t){if(!e.attribute||!Object(_.a)(e.state,e.attribute.entity.entityName,e.attribute.attributeName))return x(e,t);switch(Object(_.a)(e.state,e.attribute.entity.entityName,e.attribute.attributeName).Type){case"picklist":case"status":case"state":case"boolean":var r=Object(P.e)(t.fields[e.aliasName]);return r=Object(E.a)(r)?-1:Number(r);case"datetime":return function(e,t){var r=-1,n=-1,a=-1;switch(e.attribute.dateTimeGrouping.groupingType){case c.a.DAY:r=Object(P.e)(t.fields[e.aliasName]),n=Object(P.e)(t.fields[e.primaryGroupBy.extendedGroupBys[0].aliasName]),a=Object(P.e)(t.fields[e.primaryGroupBy.extendedGroupBys[1].aliasName]);break;case c.a.MONTH:n=Object(P.e)(t.fields[e.aliasName]),a=Object(P.e)(t.fields[e.primaryGroupBy.extendedGroupBys[0].aliasName]);break;case c.a.YEAR:a=Object(P.e)(t.fields[e.aliasName]);break;case c.a.QUARTER:n=Object(P.e)(t.fields[e.aliasName]),a=Object(P.e)(t.fields[e.primaryGroupBy.extendedGroupBys[0].aliasName]);break;case c.a.WEEK:r=1+7*(Object(P.e)(t.fields[e.aliasName])-1),a=Object(P.e)(t.fields[e.primaryGroupBy.extendedGroupBys[0].aliasName]);break;default:return x(e,t)}return new Date(a,n-1,r).getTime()}(e,t);default:return x(e,t)}}function w(e){return{Enabled:e&&e.Enabled||!1,X:e&&e.X||0,Y:e&&e.Y||0,Align:e&&e.Align||"left",VerticalAlign:e&&e.VerticalAlign||"middle",LabelFormatter:e&&e.LabelFormatter||null,Color:e&&e.Color||""}}
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function N(e){return{Value:e&&e.Value||0,FormattedValue:e&&e.FormattedValue||null,Aggregators:e&&e.Aggregators||null}}
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
var k=function(e){function t(r,n,a){var i=e.call(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i.title=n,i.description=a,i}return Object(s.__extends)(t,e),t}(Error),D=r("qC0c"),M=r("cZkS"),R=r("glw0"),L=r("scgP"),V=r("WS0f");function G(){return this.point.formattedValue}function B(e){return function(){return Highcharts.numberFormat(parseFloat(this.point.y)/e*100)+"%"}}var X=function(){function e(){this.isInitialized=!1}return Object.defineProperty(e.prototype,"primaryGroupBy",{get:function(){return this.chartDataDescription&&this.chartDataDescription.category&&this.chartDataDescription.category.primaryGroupBy},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"queryModel",{get:function(){return this._queryModel},enumerable:!1,configurable:!0}),e.prototype.initialize=function(e,t,r,n,a,i,o,s,c,l){this.getState=e,this.chartData=t,this.chartDataDescription=r,this.categoryColumn=this.chartDataDescription.categoryColumns,this.chartPresentationSeries=n,this.chartPresentationXAxis=a,this.chartPresentationYAxis=i,this.chartPresentationArea3DStyle=o,this.chartPresentationAreaGradientStyle=s,this._queryModel=c,this.chartPresentationAnnotationList=l,this._isChartCustomizationParityFCBEnabled()&&this._validateChartAggregateAttributes(),this.isInitialized=!0},e.prototype.setXAxisMajorGridAndMajorTickProperties=function(e,t){var r,n,a,i,o,s,c,l;return void 0===t&&(t=0),e.AxisMajorGridColor=null===(n=null===(r=this.chartPresentationXAxis)||void 0===r?void 0:r[t])||void 0===n?void 0:n.AxisMajorGridColor,e.AxisMajorGridEnabled=null===(i=null===(a=this.chartPresentationXAxis)||void 0===a?void 0:a[t])||void 0===i?void 0:i.AxisMajorGridEnabled,e.AxisMajorTickMarkColor=null===(s=null===(o=this.chartPresentationXAxis)||void 0===o?void 0:o[t])||void 0===s?void 0:s.AxisMajorTickMarkColor,e.AxisMajorTickMarkEnabled=null===(l=null===(c=this.chartPresentationXAxis)||void 0===c?void 0:c[t])||void 0===l?void 0:l.AxisMajorTickMarkEnabled,e},e.prototype.setYAxisMajorGridAndMajorTickProperties=function(e,t){var r,n,a,i,o,s,c,l;return void 0===t&&(t=0),e.AxisMajorGridColor=null===(n=null===(r=this.chartPresentationYAxis)||void 0===r?void 0:r[t])||void 0===n?void 0:n.AxisMajorGridColor,e.AxisMajorGridEnabled=null===(i=null===(a=this.chartPresentationYAxis)||void 0===a?void 0:a[t])||void 0===i?void 0:i.AxisMajorGridEnabled,e.AxisMajorTickMarkColor=null===(s=null===(o=this.chartPresentationYAxis)||void 0===o?void 0:o[t])||void 0===s?void 0:s.AxisMajorTickMarkColor,e.AxisMajorTickMarkEnabled=null===(l=null===(c=this.chartPresentationYAxis)||void 0===c?void 0:c[t])||void 0===l?void 0:l.AxisMajorTickMarkEnabled,e},e.prototype.retrieveChartArea3DStyle=function(){var e={};return e.Enable3D=this.chartPresentationArea3DStyle.Enable3D,e},e.prototype.retrieveChartAreaGradientStyle=function(){var e={};return e.BackColor=this.chartPresentationAreaGradientStyle.BackColor,e.BackSecondaryColor=this.chartPresentationAreaGradientStyle.BackSecondaryColor,e.BackGradientStyle=this.chartPresentationAreaGradientStyle.BackGradientStyle,e},e.prototype.setYAxisOppositeProperty=function(e){var t,r,n,a;return this._isChartCustomizationParityFCBEnabled()&&(null===(r=null===(t=this.chartPresentationXAxis)||void 0===t?void 0:t[0])||void 0===r?void 0:r.IsReversed)&&(e.Opposite=null===(a=null===(n=this.chartPresentationXAxis)||void 0===n?void 0:n[0])||void 0===a?void 0:a.IsReversed),e},e.prototype.setXAxisIsReversedProperty=function(e){var t,r,n,a;return this._isChartCustomizationParityFCBEnabled()&&(null===(r=null===(t=this.chartPresentationXAxis)||void 0===t?void 0:t[0])||void 0===r?void 0:r.IsReversed)&&(e.IsReversed=null===(a=null===(n=this.chartPresentationXAxis)||void 0===n?void 0:n[0])||void 0===a?void 0:a.IsReversed),e},e.prototype.retrieveChartYAxis=function(){var e=this,t=new Array(1);if(t[0]={},!this._queryModel.SeriesList)return t;for(var r=function(t,r,n){e.chartPresentationYAxis&&e.chartPresentationYAxis.length>r&&e.chartPresentationYAxis[r]&&e.chartPresentationYAxis[r].Title?t.Title=e.chartPresentationYAxis[r].Title:1===n&&(t.Title=e._queryModel.SeriesList[r].Title)},n=0,a=-1,i=-1,o=!1,s=!1,c=0;c<this.chartPresentationSeries.length;c++)this.chartPresentationSeries[c].SecondaryYAxis?(n++,i=-1===i?c:i,s=s||this.shouldDisableAllowDecimals(c)):(a=-1===a?c:a,o=o||this.shouldDisableAllowDecimals(c));return r(t[0],a,this.chartPresentationSeries.length-n),t[0].Opposite=!1,o&&(t[0].AllowDecimals=!1),0===n&&(t[0]=this.setYAxisOppositeProperty(t[0])),n>0&&(t[1]={},r(t[1],i,n),t[1].Opposite=!0,s&&(t[1].AllowDecimals=!1)),t.forEach((function(t,r){var n,a,i,o,s,c,l,u,p,d,h,g,m,f;t.Disabled=e.chartPresentationYAxis&&e.chartPresentationYAxis[r]&&e.chartPresentationYAxis[r].Disabled,t.LabelForeColor=null===(a=null===(n=e.chartPresentationYAxis)||void 0===n?void 0:n[r])||void 0===a?void 0:a.LabelForeColor,t.AxisLineColor=null===(o=null===(i=e.chartPresentationYAxis)||void 0===i?void 0:i[r])||void 0===o?void 0:o.AxisLineColor,t.AxisTitleForeColor=null===(c=null===(s=e.chartPresentationYAxis)||void 0===s?void 0:s[r])||void 0===c?void 0:c.AxisTitleForeColor,t.LabelDisabled=null===(u=null===(l=e.chartPresentationYAxis)||void 0===l?void 0:l[r])||void 0===u?void 0:u.LabelDisabled,t.AxisInterval=null===(d=null===(p=e.chartPresentationYAxis)||void 0===p?void 0:p[r])||void 0===d?void 0:d.AxisInterval,t.AxisMinimum=null===(g=null===(h=e.chartPresentationYAxis)||void 0===h?void 0:h[r])||void 0===g?void 0:g.AxisMinimum,t.AxisMaximum=null===(f=null===(m=e.chartPresentationYAxis)||void 0===m?void 0:m[r])||void 0===f?void 0:f.AxisMaximum,t=e.setYAxisMajorGridAndMajorTickProperties(t,r)})),this.chartPresentationYAxis&&this.chartPresentationYAxis[0]&&this.chartPresentationYAxis[0].FormatString?t[0].FormatString=this.chartPresentationYAxis[0].FormatString:t[0].FormatterProperties=this.getFormatterPropertiesForAttribute(this.chartDataDescription.category.measureCollections[0].measures[0].measureAttribute),n>0&&(this.chartPresentationYAxis&&this.chartPresentationYAxis[1]&&this.chartPresentationYAxis[1].FormatString?t[1].FormatString=this.chartPresentationYAxis[1].FormatString:t[1].FormatterProperties=this.getFormatterPropertiesForAttribute(this.chartDataDescription.category.measureCollections[i].measures[0].measureAttribute)),t},e.prototype._isChartCustomizationParityFCBEnabled=function(){return Object(D.a)(this.getState(),M.s,M.Lc,M.w)},e.prototype.retrieveChartAnnotations=function(){for(var e=new Array(this.chartPresentationAnnotationList.length),t=0;t<this.chartPresentationAnnotationList.length;t++){var r={};r.X=this.chartPresentationAnnotationList[t].X,r.Y=this.chartPresentationAnnotationList[t].Y,r.Text=this.chartPresentationAnnotationList[t].Text,r.ForeColor=this.chartPresentationAnnotationList[t].ForeColor,e[t]=r}return e},e.prototype.retrieveChartCategory=function(){var e,t,r,n,a,i,o=new Array(1),s=null;this.categoryColumn.length>0&&(s=A(this.getState(),this.categoryColumn[0],this.chartDataDescription.category.primaryGroupBy)),o[0]={};for(var c=new Array(this.chartData.length),l=0;l<this.chartData.length;l++){var u=this.chartData[l];if(s){if(c[l]=x(s,u),"-1"===c[l])c[l]=Object(g.b)(this.getState(),m.f);else if(!s.isDateTimeChart&&"number"==typeof Object(P.e)(u.fields[s.aliasName])&&this.chartPresentationXAxis&&this.chartPresentationXAxis[0]&&this.chartPresentationXAxis[0].FormatString){var p=Object(f.w)(this.getState());c[l]=Object(L.c)(Object(P.e)(u.fields[s.aliasName]),Object(v.d)(p),this.chartPresentationXAxis[0].FormatString)}}else c[l]=j(this.getState())}return o[0].Title=this.retrieveChartCategoryTitle(s),o[0].Values=c,o[0].Disabled=this.chartPresentationXAxis&&this.chartPresentationXAxis[0]&&this.chartPresentationXAxis[0].Disabled,o[0].LabelForeColor=null===(t=null===(e=this.chartPresentationXAxis)||void 0===e?void 0:e[0])||void 0===t?void 0:t.LabelForeColor,o[0].AxisLineColor=null===(n=null===(r=this.chartPresentationXAxis)||void 0===r?void 0:r[0])||void 0===n?void 0:n.AxisLineColor,o[0].AxisTitleForeColor=null===(i=null===(a=this.chartPresentationXAxis)||void 0===a?void 0:a[0])||void 0===i?void 0:i.AxisTitleForeColor,o[0].LabelDisabled=this.chartPresentationXAxis&&this.chartPresentationXAxis[0]&&this.chartPresentationXAxis[0].LabelDisabled,o[0]=this.setXAxisMajorGridAndMajorTickProperties(o[0]),o[0]=this.setXAxisIsReversedProperty(o[0]),o},e.prototype.retrieveChartCategoryTitle=function(e){return this.chartPresentationXAxis&&this.chartPresentationXAxis.length>0&&this.chartPresentationXAxis[0].Title?this.chartPresentationXAxis[0].Title:e?O((t=e).state,t.attribute):"";var t},e.prototype.retrieveChartSeries=function(e){for(var t=new Array(this.chartPresentationSeries.length),r=function(r){var a=n.chartDataDescription.category.measureCollections[r].measures[0].measureAttribute,i=a.aliasName?a.aliasName:a.attributeName,o=n.chartPresentationSeries[r].IsValueShownAsLabel,s=n.chartPresentationSeries[r].LabelFormat,c=null;s&&Object(L.d)(s)&&(c=Object(L.g)(s));var l=!1;n.chartPresentationSeries[r].Label&&"#percent"===n.chartPresentationSeries[r].Label.toLowerCase()&&(l=!0);var u=!1;s&&U(n.chartPresentationSeries[r].ChartType)&&Object(L.e)(s)&&(u=!0);var p=null,d=O(n.getState(),a);t[r]=n.cloneBlueprintSeriesStyle(n.chartPresentationSeries[r]),n.chartPresentationSeries[r].SecondaryYAxis&&(t[r].YAxisNumber=1),n.primaryGroupBy&&((p=[]).push(n.primaryGroupBy.groupAttribute),n.primaryGroupBy.extendedGroupBys&&n.primaryGroupBy.extendedGroupBys.forEach((function(e){p.push(e)})));for(var h=new Array(n.chartData.length),g=i,m=0,b=0;b<n.chartData.length;b++){var y=n.chartData[b];h[b]=N();var _=Object(P.e)(y.fields[i]);if(h[b].Value=_||0,m+=_||0,s){var C=Object(f.w)(n.getState()),S=Object(v.d)(C);Object(L.f)(s)?h[b].FormattedValue=Object(R.b)(h[b].Value,n.chartPresentationSeries[r].LabelFormat,S):Object(L.d)(s)&&!u?h[b].FormattedValue=Object(L.a)(h[b].Value,c,S):h[b].FormattedValue=Object(P.c)(y.fields[g])||0}else h[b].FormattedValue=Object(P.c)(y.fields[g])||0;n.attachAggregators(h[b],y,p)}var I=w();o?(I.Enabled=!0,I.LabelFormatter=G):l&&(I.Enabled=!0,I.LabelFormatter=B(m)),I.Color=n.chartPresentationSeries[r].LabelForeColor,t[r].DataLabels=I,t[r].DataPoints=h,t[r].Title=n.getChartTitleFromPresentationSeries(d,r),t[r].XAxisNumber=e,t[r].HideInLegend=n.chartPresentationSeries[r].HideInLegend,t[r].Stack=n.chartPresentationSeries[r].Stack},n=this,a=0;a<this.chartPresentationSeries.length;a++)r(a);var i=Object(f.w)(this.getState()),o=Object(v.d)(i),s=this.chartPresentationSeries[0].IsValueShownAsLabel,c=this.chartPresentationSeries[0].LabelFormat;if(s&&U(this.chartPresentationSeries[0].ChartType)&&Object(L.e)(c))for(var l=z(c,o),u=0;u<t[0].DataPoints.length;u++)l(0,u,0,t);return t},e.prototype.getChartTitleFromPresentationSeries=function(e,t){return void 0===t&&(t=0),Object(V.b)(this.chartPresentationSeries[t].LegendText)?Object(V.b)(this.chartPresentationSeries[t].Name)?e:this.chartPresentationSeries[t].Name:this.chartPresentationSeries[t].LegendText},e.prototype.shouldDisableAllowDecimals=function(e){var t=this.chartDataDescription.category.measureCollections[e].measures[0].measureAttribute;return"count"===t.aggregateType||"countcolumn"===t.aggregateType},e.prototype.cloneBlueprintSeriesStyle=function(e){var t,r={DataPoints:t&&t.DataPoints||null,DataLabels:t&&t.DataLabels||null,ChartType:t&&t.ChartType||"line",YAxisNumber:t&&t.YAxisNumber||0,XAxisNumber:t&&t.XAxisNumber||0,Title:t&&t.Title||"",Color:t&&t.Color||"",BorderColor:t&&t.BorderColor||"",BorderWidth:t&&t.BorderWidth||0,CustomProperties:t&&t.CustomProperties||null,Stack:t&&t.Stack||null};return r.ChartType=e.ChartType,r.Color=e.Color,r.BorderColor=e.BorderColor,r.BorderWidth=e.BorderWidth,r.CustomProperties=e.CustomProperties,r},e.prototype.attachAggregators=function(t,r,n){if(n){for(var a=new d,i=function(t){var i=n[t],o=new Array;i.entity.baseEntity&&i.entity.baseEntity.linkedEntities&&i.entity.baseEntity.linkedEntities.forEach((function(e){var t,r={name:t&&t.name||null,from:t&&t.from||null,to:t&&t.to||null,linkType:t&&t.linkType||null,alias:t&&t.alias||null};r.name=e.entityName,r.from=e.linkFromAttribute,r.to=e.linkToAttribute,r.linkType=e.joinType.toString(),r.alias=e.alias,o.push(r)})),a.addAggregator(i.attributeName,Object(P.e)(r.fields[e._getFieldName(i)]),i.dateTimeGrouping?i.dateTimeGrouping.groupingType:-1,i.entity.entityName,o)},o=0;o<n.length;o++)i(o);var s=Object(f.w)(this.getState()),c=this._getFirstDayOfWeekFromUserSettings(s),l=this._getCalendarWeekRuleFromUserSettings(s);t.Aggregators=a.getAggregators(c,l)}},e.prototype._getFirstDayOfWeekFromUserSettings=function(e){var t;return(null===(t=e.dateFormatInfo)||void 0===t?void 0:t.FirstDayOfWeek)||0},e.prototype._getCalendarWeekRuleFromUserSettings=function(e){var t;return(null===(t=e.dateFormatInfo)||void 0===t?void 0:t.CalendarWeekRule)||0},e.prototype.getFormatterPropertiesForAttribute=function(e){return Object(v.z)(this.getState(),Object(_.a)(this.getState(),e.entity.entityName,e.attributeName))},e._getFieldName=function(e){return e.aliasName&&e.aliasName.trim()?e.aliasName:e.attributeName},e.prototype.isChartDrillable=function(){if(!this._isGroupByDrillable(this.chartDataDescription.category.primaryGroupBy))return!1;for(var e=0,t=this.chartDataDescription.category.measureCollections;e<t.length;e++)for(var r=0,n=t[e].secondaryGroupBys;r<n.length;r++){var a=n[r];if(!this._isGroupByDrillable(a))return!1}return!!this.chartDataDescription.entityExpression.hasAggregate},e.prototype._isGroupByDrillable=function(e){return!this.chartDataDescription.isGroupByFromNestedLinkEntity()&&(!(!e||!e.groupAttribute.hasGroupBy)&&this._isAttributeDrillable(e.groupAttribute))},e.prototype._isAttributeDrillable=function(e){var t,r=null===(t=null==e?void 0:e.entity)||void 0===t?void 0:t.entityName,n=null==e?void 0:e.attributeName;return"memo"!==Object(_.b)(n,r,this.getState())},e.prototype._validateChartAggregateAttributes=function(){for(var e,t,r,n,a=0;a<(null===(r=null===(t=null===(e=this.chartDataDescription)||void 0===e?void 0:e.entityExpression)||void 0===t?void 0:t.aggregateAttributes)||void 0===r?void 0:r.length);a++){var i=this.chartDataDescription.entityExpression.aggregateAttributes[a],o=null===(n=null==i?void 0:i.entity)||void 0===n?void 0:n.entityName,s=null==i?void 0:i.attributeName,c=Object(_.b)(s,o,this.getState());if(!("date"!==c&&"datetime"!==c||"min"!==i.aggregateType&&"max"!==i.aggregateType)){var l=String.format(Object(g.b)(this.getState(),m.h),s);throw new k("ChartError",l,l)}}},e}();function U(e){return!!e&&("stackedbar100"===e.toLowerCase()||"stackedcolumn100"===e.toLowerCase()||"stackedarea100"===e.toLowerCase())}function z(e,t){return function r(n,a,i,o){if(n===o.length)return i;var s=o[n].DataPoints[a];return i=r(++n,a,i+(s&&s.Value?s.Value:0),o),s&&s.Value&&(s.FormattedValue=Object(L.a)(s.Value/i*100,Object(L.g)(e),t)),i}}var q=r("lMVv"),W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.__extends)(t,e),t.prototype.parse=function(){var e,t,r,n;if(!this.isInitialized)throw new Error("The instance of the ComparisonChartDataParser class is not properly initialized.");var a=new Array(0),i=new Map,o=this.chartDataDescription.category,s=o.measureCollections[0];if(s.secondaryGroupBys.length<=0)throw new Error("Comparison chart can only be plotted with secondary groups's");if(s.measures&&s.measures.length>0&&s.measures[0].parentCategory&&s.measures[0].parentCategory.primaryGroupBy&&(s.measures[0].parentCategory.primaryGroupBy.groupAttribute&&a.push(s.measures[0].parentCategory.primaryGroupBy.groupAttribute),s.measures[0].parentCategory.primaryGroupBy.extendedGroupBys))for(var c=0;c<s.measures[0].parentCategory.primaryGroupBy.extendedGroupBys.length;c++)a.push(s.measures[0].parentCategory.primaryGroupBy.extendedGroupBys[c]);if(1!==this.chartPresentationSeries.length)throw new Error("Comparison chart should have only one series");for(var l=this._addSecondaryGroupByToFieldAggregators(s,a),u=s.measures[0].measureAttribute,p=u.aliasName?u.aliasName:u.attributeName,d=p,h=o.primaryGroupBy.groupAttribute,g=A(this.getState(),this._getGroupByAttribute(h,o.primaryGroupBy),o.primaryGroupBy),m=new Array,b=new Array,y=new Map,_=0;_<this.chartData.length;_++){var C=x(g,M=this.chartData[_]),S=x(l,M),O=void 0;O=null==S?S=j(this.getState()):F(l,M),i.set(O,S),b.indexOf(C)<0&&b.push(C),m.indexOf(O)<0&&m.push(O)}m.forEach((function(e){var t=new Array(b.length);y.set(e,t)}));var I=Object(f.w)(this.getState()),T=this.chartPresentationSeries[0].LabelFormat,k=!1;this.chartPresentationSeries[0].Label&&"#percent"===this.chartPresentationSeries[0].Label.toLowerCase()&&(k=!0);var D=!1;T&&U(this.chartPresentationSeries[0].ChartType)&&Object(L.e)(T)&&(D=!0);for(_=0;_<this.chartData.length;_++){var M,V=F(l,M=this.chartData[_]);Object(E.a)(V)&&(V=j(this.getState()));var X=y.get(V),q=(C=x(g,M),b.indexOf(C));if(this.chartPresentationXAxis&&this.chartPresentationXAxis[0]&&this.chartPresentationXAxis[0].FormatString&&(b[q]=Object(L.c)(Object(P.e)(M.fields[g.aliasName]),Object(v.d)(I),this.chartPresentationXAxis[0].FormatString)),X[q]=N(),X[q].Value=Object(P.e)(M.fields[p]),T){var W=Object(v.d)(I);Object(L.f)(T)?X[q].FormattedValue=Object(R.b)(X[_].Value,T,W):Object(L.d)(T)&&!D?X[q].FormattedValue=Object(L.a)(X[q].Value,Object(L.g)(T),W):X[q].FormattedValue=Object(P.c)(M.fields[d])||0}else X[q].FormattedValue=Object(P.c)(M.fields[d])||0;this.attachAggregators(X[q],M,a)}m.forEach((function(e){for(var t=y.get(e),r=0;r<b.length;r++)t[r]||(t[r]=N())}));var H=new Array(1);H[0]={},H[0].Title=this.retrieveChartCategoryTitle(g),H[0].Values=b,H[0].LabelForeColor=null===(e=this.chartPresentationXAxis[0])||void 0===e?void 0:e.LabelForeColor,H[0].AxisLineColor=null===(t=this.chartPresentationXAxis[0])||void 0===t?void 0:t.AxisLineColor,H[0].AxisTitleForeColor=null===(r=this.chartPresentationXAxis[0])||void 0===r?void 0:r.AxisTitleForeColor,H[0].LabelDisabled=null===(n=this.chartPresentationXAxis[0])||void 0===n?void 0:n.LabelDisabled,H[0]=this.setXAxisMajorGridAndMajorTickProperties(H[0]),H[0]=this.setXAxisIsReversedProperty(H[0]),this._sortComparisonCodes(s,m);for(var Q=new Array(m.length),Y=this.chartPresentationSeries[0]&&this.chartPresentationSeries[0].IsValueShownAsLabel,K=this.chartPresentationSeries[0]?this.chartPresentationSeries[0].LabelForeColor:null,J=this.chartPresentationSeries[0]&&this.chartPresentationSeries[0].HideInLegend,Z=this.getChartTitleFromPresentationSeries(this.chartPresentationSeries[0].Name),$=function(e){var t=m[e];if(Q[e]=ee.cloneBlueprintSeriesStyle(ee.chartPresentationSeries[0]),Q[e].Title=Z||i.get(t),Q[e].DataPoints=y.get(t),Q[e].HideInLegend=J,Y)(r=w()).Enabled=!0,r.LabelFormatter=G,Q[e].DataLabels=r,r.Color=K;else if(k){var r,n=0;Q[e].DataPoints.forEach((function(e){n+=e&&e.Value?e.Value:0})),(r=w()).Enabled=!0,r.LabelFormatter=B(n),Q[e].DataLabels=r,r.Color=K}},ee=this,te=0;te<m.length;te++)$(te);if(Y&&D)for(var re=z(T,W=Object(v.d)(I)),ne=0;ne<H[0].Values.length;ne++)re(0,ne,0,Q);this.queryModel.Area3DStyle=this.retrieveChartArea3DStyle(),this.queryModel.AreaGradientStyle=this.retrieveChartAreaGradientStyle(),this.queryModel.XAxes=H,this.queryModel.YAxes=this._retrieveChartYAxis(u),this.queryModel.SeriesList=Q,this.queryModel.EnableDrilldown=this.isChartDrillable(),this.queryModel.Annotations=this.retrieveChartAnnotations()},t.prototype._sortComparisonCodes=function(e,t){e.secondaryGroupBys[0].descending?t.sort((function(e,t){return"number"==typeof e&&"number"==typeof t?t-e:t.localeCompare(e)})):t.sort((function(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e.localeCompare(t)}))},t.prototype._getGroupByAttribute=function(e,t){return e.attributeName!==Object(q.h)(this.getState(),e.entity.entityName).PrimaryIdAttribute?e:t.extendedGroupBys&&t.extendedGroupBys.length>0?t.extendedGroupBys[0]:e},t.prototype._addSecondaryGroupByToFieldAggregators=function(e,t){var r=e.secondaryGroupBys[0].groupAttribute,n=A(this.getState(),this._getGroupByAttribute(r,e.secondaryGroupBys[0]),e.secondaryGroupBys[0]);if(r&&t.push(r),e.secondaryGroupBys[0].extendedGroupBys)for(var a=0;a<e.secondaryGroupBys[0].extendedGroupBys.length;a++)t.push(e.secondaryGroupBys[0].extendedGroupBys[a]);return n},t.prototype._retrieveChartYAxis=function(e){var t,r,n,a,i,o,s,c,l=new Array(1);return l[0]={},this.chartPresentationYAxis&&this.chartPresentationYAxis.length>0&&this.chartPresentationYAxis[0].Title?l[0].Title=this.chartPresentationYAxis[0].Title:l[0].Title=O(this.getState(),e),this.chartPresentationYAxis[0].FormatString?l[0].FormatString=this.chartPresentationYAxis[0].FormatString:l[0].FormatterProperties=this.getFormatterPropertiesForAttribute(this.chartDataDescription.category.measureCollections[0].measures[0].measureAttribute),this.chartPresentationYAxis[0]&&this.chartPresentationYAxis[0].LabelForeColor&&(l[0].LabelForeColor=this.chartPresentationYAxis[0].LabelForeColor),this.chartPresentationYAxis[0]&&this.chartPresentationYAxis[0].AxisLineColor&&(l[0].AxisLineColor=this.chartPresentationYAxis[0].AxisLineColor),this.chartPresentationYAxis[0]&&this.chartPresentationYAxis[0].AxisTitleForeColor&&(l[0].AxisTitleForeColor=this.chartPresentationYAxis[0].AxisTitleForeColor),this.chartPresentationYAxis[0]&&this.chartPresentationYAxis[0].LabelDisabled&&(l[0].LabelDisabled=null===(r=null===(t=this.chartPresentationYAxis)||void 0===t?void 0:t[0])||void 0===r?void 0:r.LabelDisabled),l[0].AxisInterval=null===(a=null===(n=this.chartPresentationYAxis)||void 0===n?void 0:n[0])||void 0===a?void 0:a.AxisInterval,l[0].AxisMinimum=null===(o=null===(i=this.chartPresentationYAxis)||void 0===i?void 0:i[0])||void 0===o?void 0:o.AxisMinimum,l[0].AxisMaximum=null===(c=null===(s=this.chartPresentationYAxis)||void 0===s?void 0:s[0])||void 0===c?void 0:c.AxisMaximum,this.shouldDisableAllowDecimals(0)&&(l[0].AllowDecimals=!1),l[0]=this.setYAxisMajorGridAndMajorTickProperties(l[0]),l[0]=this.setYAxisOppositeProperty(l[0]),l},t}(X),H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.__extends)(t,e),t.prototype.parse=function(){if(!this.isInitialized)throw new Error("The instance of the DateTimeChartDataParser class is not properly initialized.");this.categoryColumn&&0!==this.categoryColumn.length&&(this.queryModel.Area3DStyle=this.retrieveChartArea3DStyle(),this.queryModel.AreaGradientStyle=this.retrieveChartAreaGradientStyle(),this.queryModel.XAxes=this.retrieveChartCategory(),this.queryModel.SeriesList=this.retrieveChartSeries(0),this.queryModel.YAxes=this.retrieveChartYAxis(),this.queryModel.EnableDrilldown=this.isChartDrillable(),this.queryModel.Annotations=this.retrieveChartAnnotations())},t.prototype.retrieveChartCategory=function(){var e,t,r,n,a,i,o,s,c=new Array(1);if(this.chartData.length<1)return c;var l=this.primaryGroupBy.groupAttribute;c[0]={};var u=new Array(this.chartData.length),p=A(this.getState(),l,this.primaryGroupBy);c[0].Title=this.retrieveChartCategoryTitle(p),c[0].LabelForeColor=null===(t=null===(e=this.chartPresentationXAxis)||void 0===e?void 0:e[0])||void 0===t?void 0:t.LabelForeColor,c[0].AxisLineColor=null===(n=null===(r=this.chartPresentationXAxis)||void 0===r?void 0:r[0])||void 0===n?void 0:n.AxisLineColor,c[0].AxisTitleForeColor=null===(i=null===(a=this.chartPresentationXAxis)||void 0===a?void 0:a[0])||void 0===i?void 0:i.AxisTitleForeColor,c[0].LabelDisabled=null===(s=null===(o=this.chartPresentationXAxis)||void 0===o?void 0:o[0])||void 0===s?void 0:s.LabelDisabled,c[0]=this.setXAxisMajorGridAndMajorTickProperties(c[0]),c[0]=this.setXAxisIsReversedProperty(c[0]);for(var d=0;d<this.chartData.length;d++){var h=this.chartData[d];u[d]=x(p,h),p.isDateTimeChart&&this.chartPresentationXAxis&&this.chartPresentationXAxis[0]&&this.chartPresentationXAxis[0].FormatString&&u[d]!==Object(g.b)(p.state,m.v)&&(u[d]=Object(L.b)(new Date(u[d]),Object(v.d)(Object(f.w)(this.getState())),this.chartPresentationXAxis[0].FormatString))}return c[0].Values=u,c},t}(X),Q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.__extends)(t,e),t.prototype.parse=function(){if(!this.isInitialized)throw new Error("The instance of the NormalChartDataParser class is not properly initialized.");this.categoryColumn&&0!==this.categoryColumn.length&&(this.queryModel.Area3DStyle=this.retrieveChartArea3DStyle(),this.queryModel.AreaGradientStyle=this.retrieveChartAreaGradientStyle(),this.queryModel.XAxes=this.retrieveChartCategory(),this.queryModel.SeriesList=this.retrieveChartSeries(0),this.queryModel.YAxes=this.retrieveChartYAxis(),this.queryModel.EnableDrilldown=this.isChartDrillable(),this.queryModel.Annotations=this.retrieveChartAnnotations())},t}(X);
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */var Y=r("Je7O");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function K(e){var t={};try{if(e){var r=/\w+=\w+/;e.split(/\s*,\s*/).forEach((function(e){if(e&&r.test(e)){var n=e.split("="),a=n[0],i=n[1];t[a]=i}}))}}catch(t){throw"Failed to parse chart custom properties, value: "+e+" "}return{FunnelNeckHeight:t&&Number(t.FunnelNeckHeight)||0,FunnelNeckWidth:t&&Number(t.FunnelNeckWidth)||10,StackedGroupName:t&&t.StackedGroupName||null}}var J=r("S2mk"),Z=["COLUMN","STACKEDCOLUMN","STACKEDCOLUMN100","BAR","STACKEDBAR","STACKEDBAR100","AREA","STACKEDAREA","STACKEDAREA100","LINE","PIE","FUNNEL","TAG","DOUGHNUT","POINT"];
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function $(e,t,r){var n=(new DOMParser).parseFromString(t,"text/xml");return function(e,t){var r=e.getElementsByTagName("parsererror");if(r&&r.length>0)throw new k("ChartError",Object(g.b)(t,m.t),Object(g.b)(t,m.s))}(n,e),{chartPresentationSeries:ee(e,n,r),chartPresentationLegendList:ne(n),colorsList:re(n),chartPresentationArea3DStyle:ce(n),chartPresentationAreaGradientStyle:le(n),chartPresentationXAxis:ie(n),chartPresentationYAxis:oe(n),chartPresentationAnnotationList:ae(n)}}function ee(e,t,r){for(var n=new Array,a=t.querySelectorAll("Chart Series Series"),i=new XMLSerializer,o=0;o<a.length;o++){var s=a[o],c={},l=s.getAttribute("ChartType")||"Column";if(-1===Z.indexOf(l.toUpperCase()))throw new k("ChartError",Object(g.b)(e,m.t),Object(g.b)(e,m.t));c.ChartType=l;var u=s.getAttribute("Color");c.Color=u?ue(u):null;var p=s.getAttribute("LegendText");c.LegendText=p||null;var d=s.getAttribute("CustomProperties");c.CustomProperties=K(d);var h=s.getAttribute("BorderColor");c.BorderColor=h?ue(h):null;var f=s.getAttribute("BorderWidth");c.BorderWidth=f?Number(f):null;var v=s.getAttribute("IsValueShownAsLabel");c.IsValueShownAsLabel=v&&"true"===v.toLowerCase()||!1,c.Label=s.getAttribute("Label");var b=s.getAttribute("YAxisType");c.SecondaryYAxis=b&&"secondary"===b.toLowerCase();var y=s.getAttribute("IsVisibleInLegend");c.HideInLegend=y&&"false"===y.toLowerCase();var _=s.getAttribute("LabelForeColor");c.LabelForeColor=_?ue(_):null,c.LabelFormat=s.getAttribute("LabelFormat");var C=te(e,s.outerHTML||i.serializeToString(s),r);c.Name=C||null,c.Stack=c.CustomProperties.StackedGroupName,n.push(c)}return n}function te(e,t,r){var n=Object(o.a)(t);if(Object(J.j)(n)||n.length<5)return"";var a=n[2].toLowerCase(),i=n[4],s="",c=a.substring(0,r.length);if(c!==r)return"";var l=a.substring(r.length+1,a.length),u=Object(_.a)(e,c,l);return u&&u.OptionSet&&(s=u.OptionSet.filter((function(e){return e.Value.toString().toLowerCase()===i.toLowerCase()}))[0].Label),s}function re(e){var t=new Array,r=e.querySelector("Chart").getAttribute("PaletteCustomColors");return null!==r&&r.split(";").forEach((function(e){if(e){var r=ue(e);t.push(r)}})),t}function ne(e){for(var t=new Array,r=e.querySelectorAll("Chart Legends Legend"),n=0;n<r.length;n++){var a={},i=r[n].getAttribute("Enabled");a.Enabled=null===i||"True"===i,t.push(a)}return t}function ae(e){for(var t=new Array,r=e.querySelectorAll("Chart Annotations TextAnnotation"),n=0;n<r.length;n++){var a=r[n],i={},o=a.getAttribute("X");i.X=o?Number(o):null;var s=a.getAttribute("Y");i.Y=s?Number(s):null,i.Text=a.getAttribute("Text");var c=a.getAttribute("ForeColor");i.ForeColor=c?ue(c):null,t.push(i)}return t}function ie(e){for(var t=new Array,r=e.querySelectorAll("Chart ChartAreas ChartArea AxisX"),n=0;n<r.length;n++){var a=r[n],i={};se(i,e.querySelectorAll("Chart ChartAreas ChartArea AxisX MajorGrid")[0],e.querySelectorAll("Chart ChartAreas ChartArea AxisX MajorTickMark")[0]),i.Title=a.getAttribute("Title");var o=e.querySelectorAll("Chart ChartAreas ChartArea AxisX LabelStyle")[0];if(o){var s=null==o?void 0:o.getAttribute("ForeColor"),c=null==o?void 0:o.getAttribute("Enabled");i.LabelForeColor=s?ue(s):null,i.LabelDisabled=c&&"false"===c.toLowerCase(),i.FormatString=o.getAttribute("Format")}var l=a.getAttribute("Enabled"),u=a.getAttribute("LineColor"),p=a.getAttribute("TitleForeColor");i.Disabled=l&&"false"===l.toLowerCase(),i.AxisLineColor=u?ue(u):null,i.AxisTitleForeColor=p?ue(p):null,i.Disabled=l&&"false"===l.toLowerCase();var d=a.getAttribute("IsReversed");i.IsReversed=d&&"true"===d.toLowerCase(),t.push(i)}return t}function oe(e){var t=new Array,r=function(e,r){var n,a,i={};if(e){var o=e;i.Title=o.getAttribute("Title"),se(i,o.querySelectorAll("MajorGrid")[0],o.querySelectorAll("MajorTickMark")[0]);var s=o.getAttribute("Enabled");i.Disabled=s&&"false"===s.toLowerCase();var c=o.getAttribute("Interval"),l=o.getAttribute("Minimum"),u=o.getAttribute("Maximum");i.AxisInterval=c?Number(c):null,i.AxisMinimum=l?Number(l):null,i.AxisMaximum=u?Number(u):null;var p=o.querySelectorAll("LabelStyle");p&&p[0]&&p[0].getAttribute("Format")&&(i.FormatString=p[0].getAttribute("Format"));var d=null===(n=null==p?void 0:p[0])||void 0===n?void 0:n.getAttribute("ForeColor");i.LabelForeColor=d?ue(d):null;var h=null===(a=null==p?void 0:p[0])||void 0===a?void 0:a.getAttribute("Enabled");i.LabelDisabled=h&&"false"===h.toLowerCase();var g=o.getAttribute("LineColor");i.AxisLineColor=g?ue(g):null;var m=o.getAttribute("TitleForeColor");i.AxisTitleForeColor=m?ue(m):null,t.splice(r,0,i)}else t.splice(r,0,i)},n=e.querySelectorAll("Chart ChartAreas ChartArea AxisY");return n&&r(n[0],0),(n=e.querySelectorAll("Chart ChartAreas ChartArea AxisY2"))&&r(n[0],1),t}function se(e,t,r){if(e){if(t){var n=t.getAttribute("LineColor"),a=t.getAttribute("Enabled");e.AxisMajorGridColor=n?ue(n):null,e.AxisMajorGridEnabled=a&&"true"===a.toLowerCase()}if(r){var i=r.getAttribute("LineColor"),o=r.getAttribute("Enabled");e.AxisMajorTickMarkColor=i?ue(i):null,e.AxisMajorTickMarkEnabled=o&&"true"===o.toLowerCase()}return e}}function ce(e){var t=e.querySelector("Chart ChartAreas ChartArea Area3DStyle"),r={};return r.Enable3D=!!t&&"true"===t.getAttribute("Enable3D").toLowerCase(),r}function le(e){var t=e.querySelector("Chart ChartAreas ChartArea"),r={};return r.BackColor=t?t.getAttribute("BackColor"):"",r.BackSecondaryColor=t?t.getAttribute("BackSecondaryColor"):"",r.BackGradientStyle=t?t.getAttribute("BackGradientStyle"):"",r}function ue(e){if(!e)return null;if(function(e){return/^([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])\s*,\s*([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])\s*,\s*([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])$/.test(e)}(e=e.trim()))return String.format("rgb({0})",e);if(function(e){return/#[0-9a-fA-F]{6}/.test(e)}(e))return e;if(function(e){return/^([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])\s*,(\s*([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])\s*,){2}\s*([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])$/.test(e)}(e)){var t=[];e.split(",").forEach((function(e){return t.push(e.trim())}));var r=t.shift(),n=parseFloat(r)/255,a=t.slice();return a.push(n.toString()),String.format("rgba({0})",a.join(","))}return e}var pe=r("BuSU");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function de(e){return{Text:e&&e.Text||"",HorizontalAlignment:e&&e.HorizontalAlignment||"center",VerticalAlignment:e&&e.VerticalAlignment||null}}
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */var he=function(){function e(e,t,r,n,a,i,o,s){this._getState=e,this._chartData=a,this._viewRecord=t,this._visualizationRecord=r,this._chartDataDescription=n,this._chartPresentationXML=i,this._drilldownChartType=o,this._entityLogicalName=s}return e.prototype.buildChartModel=function(){if(this._chartQueryModel=Object(pe.a)(),this._chartData.length>0){this._buildChartHeading();try{this._buildChartPresentation(),this._buildChart()}catch(e){if(!(e instanceof k))throw e;this._buildErrorMessage(e)}}else this._buildDataEmptyMessage();return this._chartQueryModel},e.prototype._buildDataEmptyMessage=function(){var e=Object(g.b)(this._getState(),m.m),t=de();t.Text=this._visualizationRecord&&this._visualizationRecord.get_DisplayName()?this._visualizationRecord.get_DisplayName():e,t.HorizontalAlignment="center",t.VerticalAlignment="middle",this._chartQueryModel.Title=t,this._chartQueryModel.SubTitle=this._viewRecord.get_DisplayName(),this._chartQueryModel.DisplayMode=1,this._chartQueryModel.ErrorInformation=new Y.a,this._chartQueryModel.ErrorInformation.set_ErrorType(null),this._chartQueryModel.ErrorInformation.set_ErrorDescription(e)},e.prototype._buildErrorMessage=function(e){this._chartQueryModel.Title=de(),this._chartQueryModel.SubTitle=this._viewRecord.get_DisplayName(),this._chartQueryModel.DisplayMode=1,this._chartQueryModel.ErrorInformation=new Y.a,this._chartQueryModel.ErrorInformation.set_ErrorType(e.title),this._chartQueryModel.ErrorInformation.set_ErrorDescription(e.description)},e.prototype._buildChartHeading=function(){var e=this._visualizationRecord.get_DisplayName();this._chartQueryModel.Title=de(),this._chartQueryModel.Title.Text=e,this._chartQueryModel.SubTitle=this._viewRecord.get_DisplayName()},e.prototype._buildChartPresentation=function(){var e,t=this;this._chartPresentationParser=$(this._getState(),this._chartPresentationXML,this._entityLogicalName),this._drilldownChartType&&this._chartPresentationParser.chartPresentationSeries.forEach((function(e){e.ChartType=t._drilldownChartType})),this._chartPresentationSeries=this._chartPresentationParser.chartPresentationSeries,this._chartPresentationXAxis=this._chartPresentationParser.chartPresentationXAxis,this._chartPresentationYAxis=this._chartPresentationParser.chartPresentationYAxis,this._chartPresentationAnnotationList=this._chartPresentationParser.chartPresentationAnnotationList,this._chartPresentationArea3DStyle=this._chartPresentationParser.chartPresentationArea3DStyle,this._chartPresentationAreaGradientStyle=this._chartPresentationParser.chartPresentationAreaGradientStyle,this._chartQueryModel.Legend={Enabled:e&&e.Enabled||!1},this._chartPresentationParser.chartPresentationLegendList.length>0?this._chartQueryModel.Legend.Enabled=this._chartPresentationParser.chartPresentationLegendList[0].Enabled:this._chartQueryModel.Legend.Enabled=!1,this._colors=this._chartPresentationParser.colorsList},e.prototype._buildChart=function(){this._chartParserType=this._getChartParserType();var e=function(e){var t=null;switch(e){case 2:t=new W;break;case 3:t=new H;break;case 1:default:t=new Q}return t}(this._chartParserType);e.initialize(this._getState,this._chartData,this._chartDataDescription,this._chartPresentationSeries,this._chartPresentationXAxis,this._chartPresentationYAxis,this._chartPresentationArea3DStyle,this._chartPresentationAreaGradientStyle,this._chartQueryModel,this._chartPresentationAnnotationList),this._chartQueryModel.Colors=this._colors,e.parse()},e.prototype._getChartParserType=function(){return this._chartDataDescription.isComparisonChart?2:this._chartDataDescription.category.primaryGroupBy.groupAttribute.dateTimeGrouping?3:1},e}(),ge=r("8ADW"),me=r("y5DA"),fe=r("kKaT"),ve=r("TbLg"),be=r("z8lM"),ye=r("Fpc+"),_e=r("ZZrQ"),Ce=r("AhDg");function Se(e,t,r){return{type:"chartData.retrieve.core.async",execute:function(n,i,s){var c=n.dispatch,l=n.getState,u=[];try{var p=l();if(!Object(o.b)(l,c,i,u,e,t,r,!0))return Promise.resolve();var d=new _e.a(e.fetchXml);d.set_NoLock(!0),d.set_PageSize(e.dataDefinition.entityExpression.top);var h=function(e){var t={};if(null!=e){var r=new _e.a(e);r.set_PageSize(0),r.set_NoLock(!0),t[""]=r}return t}(e.viewXml);return function(e,t,r,n){var i=new Ce.a(a.a.toString(a.a.newGuid()),n&&n.isPreloadCall);return e.retrieveEntitiesForAggregateQuery(t,r,i).nativePromise()}(i.DataSource,d,h,s).then((function(n){var i=function(t,r,n){var a=new Pe(e.viewTitle,e.viewEntityLogicalName),i=new Pe(e.chartName,e.chartPrimaryEntityTypeCode),s=e.dataDefinition,c=Object(be.a)(t);Object(o.e)(s,c,r());var l=e;return new he(r,a,i,s,c,e.presentationXml,l.drillDownChartType?l.drillDownChartType:null,n).buildChartModel()}(n,l,t);Object(D.c)(p,M.rd)?(c(je(e.getStorageKey(),i)),Ie(p,c,e.getStorageKey(),r)):(c(Te(a.a.toString(e.visualizationId),a.a.toString(e.viewId),i)),Oe(p,c,a.a.toString(e.visualizationId),a.a.toString(e.viewId),r))})).catch((function(t){Object(me.c)(p,c,t,e,r)}))}catch(e){return i.EventManager.ReportComponentFailure(o.f+".retrieveChartDataCore",Error(e),ge.b,u),Promise.reject(e)}}}}function Oe(e,t,r,i,o){if(e){var s=new a.a(r),c=a.a.toString(s),l=new a.a(i),u=a.a.toString(l),p={},d={};if(d[u]=function(e,t,r,a){if(!e)return null;if(a&&""!==a){var i=Object(ve.c)(e,t,r),o=i&&i.slice();return Object(n.a)(o,a)}return null}(e,c,u,o),d[u]){p[c]=d;var h={entities:null,lists:null,charts:p};t(Object(fe.b)(h))}}}function Ie(e,t,r,a){if(e){var i={};if(i[r]=function(e,t,r){if(!e)return null;if(r){var a=Object(ve.b)(e,t),i=a&&a.slice();return Object(n.a)(i,r)}return null}(e,r,a),i[r]){var o={entities:null,lists:null,charts:null,chartData:i};t(Object(fe.b)(o))}}}function Te(e,t,r){var n,o,s=new a.a(e),c=a.a.toString(s),l=new a.a(t),u=a.a.toString(l),p={charts:(n={},n[c]=(o={},o[u]={initialized:i.a.Initialized,chartConfigObject:r},o),n)};return{type:ye.d,payload:p}}function je(e,t){var r,n={chartData:(r={},r[e]={initialized:i.a.Initialized,chartConfigObject:t},r)};return{type:ye.d,payload:n}}var Pe=function(){function e(e,t){this._displayName=e,this._associatedEntityLogicalName=t,Object.freeze(this)}return e.prototype.get_DisplayName=function(){return this._displayName},e.prototype.get_AssociatedEntityLogicalName=function(){return this._associatedEntityLogicalName},e}()},A8fJ:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("Sscr"),a="tab.contentType";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function i(e,t,r,i){var o=Object(n.v)(r);return{type:a,payload:i,meta:{pageId:e,tabId:t,contextKey:o}}}},ABRM:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("Sscr"),a="attribute.format";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function i(e,t,r,i){var o=Object(n.x)(t);return{type:a,payload:i,meta:{pageId:e,contextKey:o,dataFieldName:r}}}},AVer:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return u}));var n=r("G7N+"),a=r("Sscr"),i=r("c56u"),o=r("kJGL"),s=r("tNVD");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
function c(e,t,r,i,o,c,u,p){var d,h=Object(a.v)(o),g=function(e,t){var r;if(!e)return null;var n=new DOMParser,a=e?n.parseFromString(e,"text/xml"):null;if(!a)return null;var i=a.documentElement?a.documentElement.children?a.documentElement.children:a.documentElement.childNodes:void 0;if(!i)return null;for(var o=i,s=[],c=0;c<o.length;c++)if(o[c].getAttribute){for(var u=o[c]?o[c].children?o[c].children:o[c].childNodes:void 0,p=[],d=null,h=0;h<u.length;h++){var g=u[h];if(g.getAttribute){var m=g.getAttribute("name"),f=void 0;f=(r=l(m,d,n,t)).relatedEntityName,d=r.fetchXmlDocument,p.push({name:m,width:parseInt(g.getAttribute("width"),10),relatedEntityName:f,disableMetaDataBinding:"1"===g.getAttribute("disableMetaDataBinding"),labelId:g.getAttribute("labelId"),isHidden:"1"===g.getAttribute("isHidden"),disableSorting:"1"===g.getAttribute("disableSorting"),addedBy:g.getAttribute("addedBy"),desc:g.getAttribute("desc"),cellType:g.getAttribute("cellType"),imageProviderWebresource:g.getAttribute("imageProviderWebresource"),imageProviderFunctionName:g.getAttribute("imageProviderFunctionName")})}}var v={name:o[c].getAttribute("name"),id:o[c].getAttribute("id"),cells:p,multiObjectIdField:o[c].getAttribute("multiObjectIdField"),layoutStyle:o[c].getAttribute("multiObjectIdField")};s.push(v)}return{name:a.documentElement.getAttribute("name"),object:parseInt(a.documentElement.getAttribute("object"),10),rows:s,customControlDescriptions:null,jump:a.documentElement.getAttribute("jump"),select:"1"===a.documentElement.getAttribute("select"),icon:"1"===a.documentElement.getAttribute("icon"),preview:"1"===a.documentElement.getAttribute("preview"),iconRenderer:null}}(p,u),m={initialized:n.a.Initialized,viewId:r,fetchXML:u,entityLogicalName:i,title:c,layoutXML:p,grid:g,isCustomView:!0};return{type:s.a,payload:{views:(d={},d[r.guid]=m,d)},meta:{pageId:e,controlName:t,contextKey:h}}}function l(e,t,r,n){var a="";if(e.indexOf(".")>0){var i=e.split(".")[0];t||(t=r.parseFromString(n,"text/xml"));var o=t.querySelector('link-entity[alias="'+i+'"]');o&&(a=o.getAttribute("name")||"")}return{relatedEntityName:a,fetchXmlDocument:t}}function u(e){return{type:s.f,execute:function(t,r){return(Object(i.w)(t.getState())?o.a.createSqlfromFetchXMLAsync(t,e.fetchXML):Promise.resolve(null)).then((function(t){return e.offlineSqlQuery=t}))}}}},BWVO:function(e,t,r){"use strict";r.d(t,"a",(function(){return De})),r.d(t,"b",(function(){return Me}));var n,a,i,o,s,c,l,u,p,d=r("1z64"),h=r("9r0m"),g=r("9rlF"),m=r("QAhb"),f=r("ezfI"),v=r("F2uj"),b=r("iutC"),y=r("yHpA"),_=r("FuJ2"),C=r("o0+l"),S=r("HSdq"),O=r("5jMY"),I=r("Zy0S"),T=r("ObKm"),j=r("w/nD"),P=r("+Z9T"),E=r("IiPO"),A=r("Sscr"),x=r("lMVv"),F=r("zsi3"),w=r("xirW"),N=r("hCnb"),k=r("2p2B"),D=r("uQP8"),M=r("r0s4"),R=r("Srej"),L="ClientApi.XrmEntityAttribute.",V=function(){function e(e,t,r,a,i,o){n=e,this._clientApiExecutorAttribute=new d.a(e,L,r,t),this._clientApiExecutorAttribute.addEventParameter({name:"attributeName",value:a,isEventParam:!0});var s=this._clientApiExecutorAttribute.getComponentName("constructor");a||Object(P.j)(s,"attributeName"),e||Object(P.j)(s,"store"),r||Object(P.j)(s,"pageId"),t||Object(P.j)(s,"contextToken"),o||Object(P.j)(s,"xrmFormUi"),this._attributeName=a,this._parentEntity=i,this._pageId=r,this.xrmFormUi=o,this._contextToken=t}return Object.defineProperty(e.prototype,"controls",{get:function(){var e=this;return this._clientApiExecutorAttribute.execute("controls",(function(t,r){if(!e._controls){e._controls=new I.a(t);var a=Object(S.z)(n.getState(),e._pageId,e.contextToken,e._attributeName);if(a){e.xrmFormUi.getControls();for(var i=e.xrmFormUi.controls,o=0;o<a.length;o++){var s=a[o],c=i.get(s);c&&e._controls.add(s,c)}}}return e._controls}))},enumerable:!1,configurable:!0}),e.prototype.addOnChange=function(e){var t=L+"addOnChange";e||Object(P.j)(t,"handler");try{f.a.instance.reportCall(t),n.dispatch(Object(j.a)(this.contextToken,this._pageId,this.getName(),e)),f.a.instance.reportSuccess(t)}catch(e){var r=E.a.getInstance().getEventParameters(this._contextToken);throw r.push({name:"attributeName",value:this._attributeName}),E.a.getInstance().reportFailure(t,e,null,r),e}},e.prototype.fireOnChange=function(){var e=L+"fireOnChange";try{f.a.instance.reportCall(e),n.dispatch(Object(j.P)(this.contextToken,this._pageId,this.getName())),f.a.instance.reportSuccess(e)}catch(r){var t=E.a.getInstance().getEventParameters(this._contextToken);throw t.push({name:"attributeName",value:this._attributeName}),E.a.getInstance().reportFailure(e,r,null,t),r}},e.prototype.getAttributeType=function(){var e=L+"getAttributeType";try{f.a.instance.reportCall(e);var t=this.getAttrDescriptor().Type;return f.a.instance.reportSuccess(e),t}catch(t){var r=E.a.getInstance().getEventParameters(this._contextToken);throw r.push({name:"attributeName",value:this._attributeName}),E.a.getInstance().reportFailure(e,t,null,r),t}},e.prototype.getFormat=function(){var e=this;return this._clientApiExecutorAttribute.execute("getFormat",(function(){var t=e.getAttrDescriptor();if(!t||!t.Format)return null;var r=t.Format.toLowerCase(),n=r;switch(e.getAttrDescriptor().Type){case"string":"text"===n||"email"===n||"phone"===n||"url"===n||"tickersymbol"===n||"1"!==r&&"2"!==r||(n="textarea");break;case"integer":"duration"!==n&&(n="none");break;case"lookup":"0"===r&&(n="none");break;case"memo":"2"!==r&&"1"!==r||(n="textarea");break;default:"0"===r?n="none":void 0===n&&(n=null)}return n}))},e.prototype.getIsDirty=function(){var e=L+"getIsDirty";try{f.a.instance.reportCall(e);var t=Object(S.Jb)(n.getState(),this.getPageId(),this.dataContextToken,this.getName())&&Object(y.e)(n.getState(),Object(S.ac)(n.getState(),this.getPageId(),this.dataContextToken),this.getName());return f.a.instance.reportSuccess(e),t}catch(t){var r=E.a.getInstance().getEventParameters(this._contextToken);throw r.push({name:"attributeName",value:this._attributeName}),E.a.getInstance().reportFailure(e,t,null,r),t}},e.prototype.getName=function(){return f.a.instance.reportUsage(L+"getName"),this._attributeName},e.prototype.getParent=function(){return f.a.instance.reportUsage(L+"getParent"),this._parentEntity},e.prototype.getRequiredLevel=function(){var e=L+"getRequiredLevel";try{f.a.instance.reportCall(e);var t=Object(S.pc)(n.getState(),this._pageId,this.dataContextToken,this.getName()),r=void 0;switch(t){case 2:case 1:r="required";break;case-1:case 0:r="none";break;case 3:r="recommended";break;default:Object(P.h)(e,"RequiredLevel",t)}return f.a.instance.reportSuccess(e),r}catch(t){var a=E.a.getInstance().getEventParameters(this._contextToken);throw a.push({name:"attributeName",value:this._attributeName}),E.a.getInstance().reportFailure(e,t,null,a),t}},e.prototype.getSubmitMode=function(){var e=L+"getSubmitMode";try{f.a.instance.reportCall(e);var t=Object(S.zc)(n.getState(),this._pageId,this.contextToken,this.getName()),r=void 0;switch(t){case O.a.Dirty:r="dirty";break;case O.a.Always:r="always";break;case O.a.Never:r="never";break;default:Object(P.h)(e,"SubmitMode",t)}return f.a.instance.reportSuccess(e),r}catch(t){var a=E.a.getInstance().getEventParameters(this._contextToken);throw a.push({name:"attributeName",value:this._attributeName}),E.a.getInstance().reportFailure(e,t,null,a),t}},e.prototype.getUserPrivilege=function(){var e=L+"getUserPrivilege";try{f.a.instance.reportCall(e);var t=null;if(n.getState()&&this._parentEntity&&this._attributeName){var r=Object(b.a)(n.getState(),this._parentEntity.getEntityName(),h.a.fromExternalGuid(this._parentEntity.getId()),this._attributeName);r&&(t={canCreate:r.canCreate,canRead:r.canRead,canUpdate:r.canUpdate})}return f.a.instance.reportSuccess(e),t}catch(t){var a=E.a.getInstance().getEventParameters(this._contextToken);throw a.push({name:"attributeName",value:this._attributeName}),E.a.getInstance().reportFailure(e,t,null,a),t}},e.prototype.getValue=function(){var e=L+"getValue";try{f.a.instance.reportCall(e);var t=this.getValueInternal(),r=null;return Object(P.a)(t)||(Object(g.j)(t)?r=t.value:Object(P.k)(e,"isPlainValue","value")),f.a.instance.reportSuccess(e),r}catch(t){var n=E.a.getInstance().getEventParameters(this._contextToken);throw n.push({name:"attributeName",value:this._attributeName}),E.a.getInstance().reportFailure(e,t,null,n),t}},e.prototype.removeOnChange=function(e){var t=L+"removeOnChange";e||Object(P.j)(t,"handler");try{f.a.instance.reportCall(t),n.dispatch(Object(j.v)(this.contextToken,this._pageId,this.getName(),e)),f.a.instance.reportSuccess(t)}catch(e){var r=E.a.getInstance().getEventParameters(this._contextToken);throw r.push({name:"attributeName",value:this._attributeName}),E.a.getInstance().reportFailure(t,e,null,r),e}},e.prototype.setRequiredLevel=function(e){var t=L+"setRequiredLevel";e||Object(P.j)(t,"requiredLevel"),"none"!==e&&"recommended"!==e&&"required"!==e&&Object(P.h)(t,"RequiredLevel",e);try{f.a.instance.reportCall(t);var r=void 0;switch(e){case"none":r=0;break;case"recommended":r=3;break;case"required":r=2}n.dispatch(Object(_.b)(this._pageId,this.dataContextToken,this._attributeName,r)),f.a.instance.reportSuccess(t)}catch(e){var a=E.a.getInstance().getEventParameters(this._contextToken);throw a.push({name:"attributeName",value:this._attributeName}),E.a.getInstance().reportFailure(t,e,null,a),e}},e.prototype.setSubmitMode=function(e){var t=L+"setSubmitMode";e||Object(P.j)(t,"mode"),"dirty"!==e&&"always"!==e&&"never"!==e&&Object(P.h)(t,"SubmitMode",e);try{f.a.instance.reportCall(t);var r=void 0;switch(e){case"dirty":r=O.a.Dirty;break;case"always":r=O.a.Always;break;case"never":r=O.a.Never}n.dispatch(Object(C.b)(this._pageId,this.contextToken,this.getName(),r)),f.a.instance.reportSuccess(t)}catch(e){var a=E.a.getInstance().getEventParameters(this._contextToken);throw a.push({name:"attributeName",value:this._attributeName}),E.a.getInstance().reportFailure(t,e,null,a),e}},e.prototype.setValue=function(e){var t=L+"setValue";try{f.a.instance.reportCall(t),this.setValueInternal(e),f.a.instance.reportSuccess(t)}catch(e){var r=E.a.getInstance().getEventParameters(this._contextToken);throw r.push({name:"attributeName",value:this._attributeName}),E.a.getInstance().reportFailure(t,e,null,r),e}},e.prototype.setIsValid=function(e,t){var r=this;return this._clientApiExecutorAttribute.execute("setIsValid",(function(a,i){e?(n.dispatch(Object(N.b)(r._pageId,r._attributeName,!0,r.contextToken)),n.dispatch(Object(k.b)(r.contextToken,r._pageId,Object(R.d)(r._pageId,r._attributeName))),n.dispatch(Object(w.b)(n.getState(),r._pageId,r._attributeName,null,r.contextToken))):r._addNotification(t)}))},e.prototype._addNotification=function(e){n.dispatch(Object(N.b)(this._pageId,this._attributeName,!1,this.contextToken));var t={messages:[e],notificationLevel:F.a.error};n.dispatch(Object(w.b)(n.getState(),this._pageId,this._attributeName,t,this.contextToken))},e.prototype.isValid=function(){var e=L+"isValid";try{f.a.instance.reportCall(e);var t=this.getValueInternal(),r=this.getParent();if(r){var a=Object(x.h)(n.getState(),r.getEntityName());if(a&&a.PrimaryIdAttribute!==this.getName()&&r.getId()!==h.a.EMPTYSTRING&&"required"===this.getRequiredLevel()&&Object(P.a)(t))return f.a.instance.reportSuccess(e),!1}var i=!0;return this.hasErrorNotification()?i=!1:t&&t.validationResult&&(i=t.validationResult.isValueValid),f.a.instance.reportSuccess(e),i}catch(t){var o=E.a.getInstance().getEventParameters(this._contextToken);throw o.push({name:"attributeName",value:this._attributeName}),E.a.getInstance().reportFailure(e,t,null,o),t}},e.prototype.hasErrorNotification=function(){var e=Object(A.v)(this.contextToken),t=n.getState(),r=Object(D.a)(t,this._pageId);return!(!r.forms||!r.forms[e]||!r.forms[e].invalidControls&&!r.forms[e].invalidAttributes)&&(!0===r.forms[e].invalidControls[this.getName()]||!0===r.forms[e].invalidAttributes[this.getName()])},e.prototype.getPageId=function(){return this._pageId},e.prototype.getAttrDescriptor=function(){if(this.getParent()){var e=Object(S.r)(n.getState(),this.getParent().getEntityName(),this.getName(),this._pageId,this.contextToken);return e||(e=Object(v.a)(n.getState(),this.getParent().getEntityName(),this.getName())),e}return Object(S.Nc)(n.getState(),this.getPageId(),this.getName())},e.prototype.getDataXmlInternal=function(){var e="";return e=e+"<"+Object(M.CrmXmlEncode)(this.getName())+">"+Object(M.CrmXmlEncode)(this.getValue())+"</"+Object(M.CrmXmlEncode)(this.getName())+">"},e.prototype.setValueInternal=function(e){var t=this.getName(),r={};r[t]={fieldName:t,value:e},n.dispatch(Object(T.a)(this._pageId,r,!1,!0,this.getParent()?this.getParent().getEntityName():null,this.getParent()?this.getParent().getId():null,Object(A.t)(this._contextToken),this.contextToken))},Object.defineProperty(e.prototype,"parentEntityReference",{get:function(){var e,t;return this.getParent()?(e=this.getParent().getEntityName(),t=this.getParent().getId()):this.contextToken.formId&&(e=this.contextToken.formId.guid),t?new m.a(e,new h.a(t)):new m.a(e)},enumerable:!1,configurable:!0}),e.prototype.getValueInternal=function(){var e=Object(S.ac)(n.getState(),this.getPageId(),this.dataContextToken);return Object(S.X)(n.getState(),this._pageId,this._contextToken,e,this.parentEntityReference,this._attributeName,n.dispatch)},Object.defineProperty(e.prototype,"contextToken",{get:function(){return Object(A.r)(this._contextToken)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataContextToken",{get:function(){return this._contextToken},enumerable:!1,configurable:!0}),e}(),G=r("c/eZ"),B=r("TCcM"),X=r("TV33"),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(G.__extends)(t,e),t.prototype.getOption=function(e){var t="ClientApi.XrmEntityAttributeOptionSetBase.getOption";if(Object(P.a)(e))return null;var r="number"==typeof e?e:parseInt(e,10);isNaN(r)&&Object(P.k)(t,"number","value");try{f.a.instance.reportCall(t);for(var n=this.getAttrDescriptor().OptionSet,a=null,i=0;i<n.length;i++)n[i].Value===e&&(a={text:n[i].Label,value:n[i].Value});return f.a.instance.reportSuccess(t),a}catch(e){throw E.a.getInstance().getEventParameters(this.contextToken).push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(t,e),e}},t.prototype.getOptions=function(){var e="ClientApi.XrmEntityAttributeOptionSetBase.getOptions";try{f.a.instance.reportCall(e);var t=this.getAttrDescriptor().OptionSet.map((function(e){return{text:e.Label,value:e.Value}}));return f.a.instance.reportSuccess(e),t}catch(t){throw E.a.getInstance().getEventParameters(this.contextToken).push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(e,t),t}},t}(V),z=function(e){function t(t,r,n,i,o,s){var c=e.call(this,t,r,n,i,o,s)||this;return a=t,c}return Object(G.__extends)(t,e),t.prototype.getInitialValue=function(){var e="ClientApi.XrmEntityAttributeBoolean.getInitialValue";try{f.a.instance.reportCall(e);var t=Object(B.j)(a.getState(),this.parentEntityReference,this.getName()),r=t?parseInt(t.valueString,10):null;return f.a.instance.reportSuccess(e),r}catch(t){var n=E.a.getInstance().getEventParameters(this.contextToken);throw n.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(e,t,null,n),t}},t.prototype.getValue=function(){var e="ClientApi.XrmEntityAttributeBoolean.getValue";try{f.a.instance.reportCall(e);var t=this.getValueInternal(),r=Object(X.a)(t);return f.a.instance.reportSuccess(e),r}catch(t){var n=E.a.getInstance().getEventParameters(this.contextToken);throw n.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(e,t,null,n),t}},t.prototype.setValue=function(e){var t="ClientApi.XrmEntityAttributeBoolean.setValue";Object(P.a)(e)||"boolean"!=typeof e&&Object(P.k)(t,"boolean","value");try{f.a.instance.reportCall(t),this.setValueInternal(e),f.a.instance.reportSuccess(t)}catch(e){var r=E.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(t,e,null,r),e}},t.prototype.getAttributeType=function(){return f.a.instance.reportUsage("ClientApi.XrmEntityAttributeBoolean.getAttributeType"),"boolean"},t}(U),q=function(e){function t(t,r,n,a,o,s){var c=e.call(this,t,r,n,a,o,s)||this;return i=t,c}return Object(G.__extends)(t,e),t.prototype.getInitialValue=function(){var e="ClientApi.XrmEntityAttributeMultiSelectOptionSet.getInitialValue";try{f.a.instance.reportCall(e);var t=Object(B.j)(i.getState(),this.parentEntityReference,this.getName()),r=Object(X.e)(t);return f.a.instance.reportSuccess(e),r}catch(t){var n=E.a.getInstance().getEventParameters(this.contextToken);throw n.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(e,t,null,n),t}},t.prototype.getSelectedOption=function(){var e=this,t="ClientApi.XrmEntityAttributeMultiSelectOptionSet.getSelectedOption";try{f.a.instance.reportCall(t);var r=null,n=this.getValue();return n&&(r=[],n.forEach((function(t){var n=e.getOption(t);n&&r.push(n)}))),f.a.instance.reportSuccess(t),r}catch(e){var a=E.a.getInstance().getEventParameters(this.contextToken);throw a.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(t,e,null,a),e}},t.prototype.getText=function(){var e="ClientApi.XrmEntityAttributeMultiSelectOptionSet.getText";try{f.a.instance.reportCall(e);var t=null,r=this.getSelectedOption();return r&&(t=[],r.forEach((function(e){t.push(e.text)}))),f.a.instance.reportSuccess(e),t}catch(t){var n=E.a.getInstance().getEventParameters(this.contextToken);throw n.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(e,t,null,n),t}},t.prototype.getValue=function(){var e="ClientApi.XrmEntityAttributeMultiSelectOptionSet.getValue";try{f.a.instance.reportCall(e);var t=this.getValueInternal(),r=null;return t&&(r=Object(X.e)(t)),f.a.instance.reportSuccess(e),r}catch(t){var n=E.a.getInstance().getEventParameters(this.contextToken);throw n.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(e,t,null,n),t}},t.prototype.getAttributeType=function(){return f.a.instance.reportUsage("ClientApi.XrmEntityAttributeMultiSelectOptionSet.getAttributeType"),"multiselectoptionset"},t.prototype.setValue=function(e){var t="ClientApi.XrmEntityAttributeMultiSelectOptionSet.setValue";try{f.a.instance.reportCall(t),Array.isArray(e)?this.setValueInternal(e):this.setValueInternal([]),f.a.instance.reportSuccess(t)}catch(e){var r=E.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(t,e,null,r),e}},t}(U),W=r("otJc"),H=r("dl9j"),Q=r("+h4s"),Y=r("sRkF"),K=function(e){function t(t,r,n,a,i,s){var c=e.call(this,t,r,n,a,i,s)||this;return o=t,c}return Object(G.__extends)(t,e),t.prototype.getDataXmlInternal=function(){var e=this.getValue();null!==e&&(e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()));var t=Object(M.CrmXmlEncode)(this.getName()),r="";return r+="<"+t+">",r+=""+(null===e?"":Object(M.CrmXmlEncode)(e.format("s"))),r+="</"+t+">"},t.prototype.getValue=function(){var e="ClientApi.XrmEntityAttributeDateTime.getValue";try{f.a.instance.reportCall(e);var t=this.getValueInternal(),r=null;if(Object(g.j)(t)&&!Object(P.a)(t.formatted)){var n=this.getAttrDescriptor();r=Object(X.b)(o.getState(),n,t)}return f.a.instance.reportSuccess(e),r}catch(t){var a=E.a.getInstance().getEventParameters(this.contextToken);throw a.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(e,t,null,a),t}},t.prototype._userSettings=function(){return this.xrmFormUi.formContext.context?this.xrmFormUi.formContext.context.userSettings:new H.a(o)},t.prototype.getUtcValue=function(){var e="ClientApi.XrmEntityAttributeDateTime.getUtcValue";try{f.a.instance.reportCall(e);var t=this.getValue();return f.a.instance.reportSuccess(e),t}catch(t){var r=E.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(e,t,null,r),t}},t.prototype.setValue=function(e){var t="ClientApi.XrmEntityAttributeDateTime.setValue";Object(P.a)(e)||"[object Date]"!==Object.prototype.toString.call(e)&&Object(P.k)(t,"Date","value");try{if(f.a.instance.reportCall(t),Object(P.a)(e))this.setValueInternal(e);else if("[object Date]"===Object.prototype.toString.call(e)){var r=new Date,n=this.getAttrDescriptor(),a=Object(W.z)(o.getState(),n),i=6e4*this._userSettings().getTimeZoneOffsetMinutes(),s=Object(Q.o)(new Date(r.getFullYear(),r.getMonth(),r.getDate()),a.userSettings.timeZoneAdjusters)-Object(Q.o)(e,a.userSettings.timeZoneAdjusters),c=6e4*e.getTimezoneOffset(),l=null;switch(a.controlAttributes.Behavior){case Y.a.UserLocal:l=new Date(e.getTime()+c+i-s);break;default:l=new Date(e.getTime())}this.setValueInternal(l)}f.a.instance.reportSuccess(t)}catch(e){var u=E.a.getInstance().getEventParameters(this.contextToken);throw u.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(t,e,null,u),e}},t.prototype.setUtcValue=function(e){var t="ClientApi.XrmEntityAttributeDateTime.setUtcValue";try{f.a.instance.reportCall(t),this.setValue(e),f.a.instance.reportSuccess(t)}catch(e){var r=E.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(t,e,null,r),e}},t.prototype.getAttributeType=function(){return f.a.instance.reportUsage("ClientApi.XrmEntityAttributeDateTime.getAttributeType"),"datetime"},t}(V),J=function(e){function t(t,r,n,a,i,o){var c=e.call(this,t,r,n,a,i,o)||this;return s=t,c}return Object(G.__extends)(t,e),t.prototype.getIsPartyList=function(){return f.a.instance.reportUsage("ClientApi.XrmEntityAttributeLookup.getIsPartyList"),!1},t.prototype.getDataXmlInternal=function(){var e=this.getValue(),t="";if(null!==e&&e.length>0)t+=this.getLookupDataXml(this.getName(),e[0]);else{var r=Object(M.CrmXmlEncode)(this.getName());t+="<"+r+">",t+="</"+r+">"}return t.toString()},t.prototype.getLookupDataXml=function(e,t){var r=Object(M.CrmXmlEncode)(e),n="<"+r,a=this.getEntityTypeCode(t.entityType);return a>0&&(n+=' type="'+Object(M.CrmXmlAttributeEncode)(a.toString())+'"'),t.entityType&&(n+=' typeName="'+Object(M.CrmXmlAttributeEncode)(t.entityType)+'"'),Object(P.a)(t.name)||(n+=' name="'+Object(M.CrmXmlAttributeEncode)(t.name)+'"'),n+=">"+Object(M.CrmXmlEncode)(t.id)+"</"+r+">"},t.prototype.getEntityTypeCode=function(e){return Object(x.p)(s.getState(),e)},t.prototype.setValue=function(e){var t="ClientApi.XrmEntityAttributeLookup.setValue",r=null;if(e&&Array.isArray(e)&&e.length>0){e.length>1?Object(P.k)(t,"LookupValue[] of size not more than one.","value"):e[0].entityType?e[0].id?h.a.tryParseOrNull(e[0].id)||Object(P.h)(t,"guid",e[0].id):Object(P.j)(t,"value[0].id"):Object(P.j)(t,"value[0].entityType");var n=void 0;try{n=Object(S.Ob)(s.getState(),this.getPageId(),this.dataContextToken,this.getName())}catch(e){throw(a=E.a.getInstance().getEventParameters(this.contextToken)).push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(t+".getLookupTargets",e,null,a),e}if(n)if(!(n.indexOf(e[0].entityType)>-1))(a=E.a.getInstance().getEventParameters(this.contextToken)).push({name:"attributeName",value:this.getName()}),a.push({name:"actualValue",value:e[0].entityType}),Object(P.k)(t,"entityType","value[0].entityType",a);try{f.a.instance.reportCall(t),n?n.indexOf(e[0].entityType)>-1&&(r=new m.a(e[0].entityType,new h.a(e[0].id),e[0].name),this.setValueInternal(r)):this.setValueInternal(r),f.a.instance.reportSuccess(t)}catch(e){var a;throw(a=E.a.getInstance().getEventParameters(this.contextToken)).push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(t,e,null,a),e}}else this.setValueInternal(r)},t.prototype.getValue=function(){var e="ClientApi.XrmEntityAttributeLookup.getValue";try{f.a.instance.reportCall(e);var t=this.getValueInternal(),r=Object(X.d)(t);return f.a.instance.reportSuccess(e),r}catch(t){var n=E.a.getInstance().getEventParameters(this.contextToken);throw n.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(e,t,null,n),t}},t.prototype.getAttributeType=function(){return f.a.instance.reportUsage("ClientApi.XrmEntityAttributeLookup.getAttributeType"),"lookup"},t}(V),Z=r("/wtJ"),$=r("kvLG"),ee=function(e){function t(t,r,n,a,i,o){var s=e.call(this,t,r,n,a,i,o)||this;return c=t,s._clientApiExecutorAttributeNumber=new d.a(t,"ClientApi.XrmEntityAttributeNumber.",n,r,[{name:"attributeName",value:a,isEventParam:!0}]),s}return Object(G.__extends)(t,e),t.prototype.getMax=function(){var e=this;return this._clientApiExecutorAttributeNumber.execute("getMax",(function(){return e.getAttrDescriptor().MaxValue}))},t.prototype.getMin=function(){var e=this;return this._clientApiExecutorAttributeNumber.execute("getMin",(function(){return e.getAttrDescriptor().MinValue}))},t.prototype.getPrecision=function(){var e=this;return this._clientApiExecutorAttributeNumber.execute("getPrecision",(function(){return Object(S.k)(c.getState(),e.getPageId(),e.dataContextToken,e.getName())}))},t.prototype.setPrecision=function(e){var t=this;return this._clientApiExecutorAttributeNumber.execute("setPrecision",(function(r,n){"integer"===t.getAttributeType()&&Object(P.e)(r,"setPrecision is not valid on integer attributes",void 0,n);var a=Object(v.a)(c.getState(),t.getParent().getEntityName(),t.getName());(e<0||e>a.Precision)&&(n.push({name:"metadataPrecision",value:a.Precision}),Object(P.h)(r,"precision",e.toString(),n)),c.dispatch(Object(Z.b)(t.getPageId(),t.dataContextToken,t.getName(),e))}),[{name:"precision",value:e,isRequired:!0,expectedDataType:"number"}])},t.prototype.getValue=function(){var e=this;return this._clientApiExecutorAttributeNumber.execute("getValue",(function(){var t=e.getValueInternal();return Object(X.f)(t,e.getAttributeType(),e.getPrecision())}))},t.prototype.setValue=function(e){var t=this;return this._clientApiExecutorAttributeNumber.execute("setValue",(function(){t.setValueInternal(e)}),[{name:"value",value:e,expectedDataType:"number"}])},t.prototype.getAttributeType=function(){var t=this;return this._clientApiExecutorAttributeNumber.execute("getAttributeType",(function(r,n){var a=t.getAttrDescriptor().Type;switch(a){case"decimal":return"decimal";case"double":return"double";case"integer":return"integer";case"money":return"money";default:return n.push({name:"attributeType",value:a}),a?t._clientApiExecutorAttributeNumber.reportFailure(r,new Error("Unexpected number attribute type."),n):$.a.getInstance().traceManager.getTracer(r).error("Number attribute type was not defined in metadata.",n),e.prototype.getAttributeType.call(t)}}))},t}(V),te=r("sOTk"),re=function(e){function t(t,r,n,a,i,o){var s=e.call(this,t,r,n,a,i,o)||this;return l=t,s}return Object(G.__extends)(t,e),t.prototype.getInitialValue=function(){var e="ClientApi.XrmEntityAttributeOptionSet.getInitialValue";try{f.a.instance.reportCall(e);var t=Object(B.j)(l.getState(),this.parentEntityReference,this.getName()),r=Object(te.m)(l.getState(),this.getPageId()),n=void 0;if(r){var a=this.getAttrDescriptor();n=Object(X.g)(t)||a&&a.DefaultFormValue?a.DefaultFormValue:null}else n=Object(X.g)(t);return f.a.instance.reportSuccess(e),n}catch(t){var i=E.a.getInstance().getEventParameters(this.contextToken);throw i.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(e,t,null,i),t}},t.prototype.getSelectedOption=function(){var e="ClientApi.XrmEntityAttributeOptionSet.getSelectedOption";try{f.a.instance.reportCall(e);var t=this.getOption(this.getValue());return f.a.instance.reportSuccess(e),t}catch(t){var r=E.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(e,t,null,r),t}},t.prototype.getText=function(){var e="ClientApi.XrmEntityAttributeOptionSet.getText";try{f.a.instance.reportCall(e);var t=this.getSelectedOption(),r=null;return t&&(r=t.text),f.a.instance.reportSuccess(e),r}catch(t){var n=E.a.getInstance().getEventParameters(this.contextToken);throw n.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(e,t,null,n),t}},t.prototype.getValue=function(){var e="ClientApi.XrmEntityAttributeOptionSet.getValue";try{f.a.instance.reportCall(e);var t=this.getValueInternal(),r=Object(X.g)(t),n=Object(P.a)(r)?Object(X.f)(t,this.getAttributeType(),0):r;return f.a.instance.reportSuccess(e),n}catch(t){var a=E.a.getInstance().getEventParameters(this.contextToken);throw a.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(e,t,null,a),t}},t.prototype.setValue=function(e){var t="ClientApi.XrmEntityAttributeOptionSet.setValue";e&&isNaN(e)&&Object(P.k)(t,"number","value");var r=!1;try{if(e&&this.getParent()){var n=this.getAttrDescriptor();for(var a in n.OptionSet)if(e===n.OptionSet[a].Value){r=!0;break}}else r=!0}catch(e){throw(i=E.a.getInstance().getEventParameters(this.contextToken)).push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(t+".getAttributeDescriptor",e,null,i),e}r||Object(P.h)(t,"OptionSetValue",e);try{f.a.instance.reportCall(t),this.setValueInternal(e),f.a.instance.reportSuccess(t)}catch(e){var i;throw(i=E.a.getInstance().getEventParameters(this.contextToken)).push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(t,e,null,i),e}},t.prototype.getAttributeType=function(){return f.a.instance.reportUsage("ClientApi.XrmEntityAttributeOptionSet.getAttributeType"),"optionset"},t}(U),ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(G.__extends)(t,e),t.prototype.getMaxLength=function(){var e="ClientApi.XrmEntityAttributeString.getMaxLength";try{f.a.instance.reportCall(e);var t=this.getAttrDescriptor().MaxLength;return f.a.instance.reportSuccess(e),t}catch(t){var r=E.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(e,t,null,r),t}},t.prototype.getValue=function(){var e="ClientApi.XrmEntityAttributeString.getValue";try{f.a.instance.reportCall(e);var t=this.getValueInternal(),r=Object(X.i)(t);return f.a.instance.reportSuccess(e),r}catch(t){var n=E.a.getInstance().getEventParameters(this.contextToken);throw n.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(e,t,null,n),t}},t.prototype.setValue=function(e){var t="ClientApi.XrmEntityAttributeString.setValue";Object(P.a)(e)||"string"!=typeof e&&Object(P.k)(t,"string","value");try{f.a.instance.reportCall(t),this.setValueInternal(e),f.a.instance.reportSuccess(t)}catch(e){var r=E.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(t,e,null,r),e}},t.prototype.getAttributeType=function(){var t="ClientApi.XrmEntityAttributeString.getAttributeType";try{f.a.instance.reportCall(t);var r=void 0,n=this.getAttrDescriptor().Type;switch(n){case"memo":r="memo";break;case"string":r="string";break;default:(a=E.a.getInstance().getEventParameters(this.contextToken)).push({name:"attributeName",value:this.getName()}),a.push({name:"attributeType",value:n}),E.a.getInstance().reportFailure(t,new Error("Unexpected string attribute type."),null,a),r=e.prototype.getAttributeType.call(this)}return f.a.instance.reportSuccess(t),r}catch(e){var a;throw(a=E.a.getInstance().getEventParameters(this.contextToken)).push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(t,e,null,a),e}},t}(V),ae=function(e){function t(t,r,n,a,i,o){var s=e.call(this,t,r,n,a,i,o)||this;return s._clientApiExecutor=new d.a(t,"ClientApi.XrmEntityAttributeUniqueIdentifier.",n,r),s._clientApiExecutor.addEventParameter({name:"attributeName",value:a,isEventParam:!0}),s}return Object(G.__extends)(t,e),t.prototype.setValue=function(e){var t=this;this._clientApiExecutor.execute("setValue",(function(){t.setValueInternal(h.a.tryParseOrNull(e))}),[{name:"value",value:e,expectedDataType:"guid"}])},t.prototype.getValue=function(){var e=this;return this._clientApiExecutor.execute("getValue",(function(){var t=e.getValueInternal();return Object(X.j)(t)}))},t.prototype.getAttributeType=function(){return this._clientApiExecutor.execute("getAttributeType",(function(){return"string"}))},t}(V),ie=r("nVTU"),oe=function(e){function t(t,r,n,a,i,o){var s=e.call(this,t,r,n,a,i,o)||this;return u=t,s}return Object(G.__extends)(t,e),t.prototype.getDataXmlInternal=function(){var e=this,t=Object(M.CrmXmlEncode)(this.getName()),r=this.getValue(),n="";return n+="<"+t+">",r.forEach((function(t){n+="<activityparty>",n+=e.getLookupDataXml("partyid",t),n+="</activityparty>"})),(n+="</"+t+">").toString()},t.prototype.setValue=function(e){var t,r="ClientApi.XrmEntityAttributePartyList.setValue",n=E.a.getInstance().getEventParameters(this.contextToken);n.push({name:"attributeName",value:this.getName()}),e&&(Array.isArray(e)||Object(P.k)(r,"LookupValue[]","value",n));var a=new Array;try{t=Object(S.Ob)(u.getState(),this.getPageId(),this.dataContextToken,this.getName())}catch(e){throw E.a.getInstance().reportFailure(r+".getLookupTargets",e,null,n),e}e&&t&&(t.push("unresolvedaddress"),e.forEach((function(e){t.indexOf(e.entityType)>-1||(n.push({name:"entityType",value:e.entityType}),Object(P.e)(r,'LookupValue[] with invalid entity type. Entity type "'+e.entityType+'" is invalid.',"LookupValue[] with invalid entity type",n))})));try{f.a.instance.reportCall(r),e?(t?e.forEach((function(e){t.indexOf(e.entityType)>-1&&a.push(new ie.a(e.entityType,e.id,e.name))})):e.forEach((function(e){a.push(new ie.a(e.entityType,e.id,e.name))})),this.setValueInternal(a)):this.setValueInternal([]),f.a.instance.reportSuccess(r)}catch(e){throw E.a.getInstance().reportFailure(r,e,null,n),e}},t.prototype.getValue=function(){var e="ClientApi.XrmEntityAttributePartyList.getValue";try{f.a.instance.reportCall(e);var t=this.getValueInternal(),r=Object(X.h)(t);return f.a.instance.reportSuccess(e),r}catch(t){var n=E.a.getInstance().getEventParameters(this.contextToken);throw n.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(e,t,null,n),t}},t.prototype.getIsPartyList=function(){return f.a.instance.reportUsage("ClientApi.XrmEntityAttributePartyList.getIsPartyList"),!0},t}(J),se=function(e){function t(t,r,n,a,i,o){var s=e.call(this,t,r,n,a,i,o)||this;return s._clientApiExecutorAttributeFile=new d.a(t,"ClientApi.XrmEntityFile.",n,r,[{name:"attributeName",value:a,isEventParam:!0}]),s}return Object(G.__extends)(t,e),t.prototype.getValue=function(){var e=this;return this._clientApiExecutorAttributeFile.execute("getValue",(function(){var t=e.getValueInternal();return Object(X.c)(t)}))},t.prototype.setValue=function(e){var t=this;this._clientApiExecutorAttributeFile.execute("setValue",(function(){t.setValueInternal(e)}))},t}(V),ce=function(e){function t(t,r,n,a,i,o){var s=e.call(this,t,r,n,a,i,o)||this;return p=t,s}return Object(G.__extends)(t,e),t.prototype.getValue=function(){var e="ClientApi.XrmEntityAttributeEntityName.getValue";try{f.a.instance.reportCall(e);var t=this.getValueInternal(),r=Object(v.a)(p.getState(),this.getParent().getEntityName(),this.getName()),n=null;return r.IsEntityReferenceStored&&Object(g.j)(t)&&(n=t.value),f.a.instance.reportSuccess(e),n}catch(t){var a=E.a.getInstance().getEventParameters(this.contextToken);throw a.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(e,t,null,a),t}},t.prototype.setValue=function(e){var t="ClientApi.XrmEntityAttributeEntityName.setvalue";Object(P.a)(e)||"string"==typeof e||Object(P.k)(t,"string","value");try{f.a.instance.reportCall(t),this.setValueInternal(e),f.a.instance.reportSuccess(t)}catch(e){var r=E.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(t,e,null,r),e}},t.prototype.getAttributeType=function(){return f.a.instance.reportUsage("ClientApi.XrmEntityAttributeEntityName.getAttributeType"),"entityname"},t}(V),le=r("r529"),ue=r("Xia5"),pe=r("jJRu"),de=r("Cfob"),he=r("cAHA"),ge=r("8aRo"),me=r("+P1Q"),fe=r("qYad"),ve=r("9qYn"),be=r("yZTI"),ye=r("Z1aD"),_e=r("xc1f"),Ce=r("Gemh");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
function Se(e,t,r,n){var a=Object(S.z)(e,t,r,n,r.relationshipName);if(!a||0===a.length)return!0;for(var i=0;i<a.length;i++)if(!Object(S.t)(e,{controlName:a[i],id:t},r))return!0;return!1}function Oe(e,t,r,n,a,i){if(!Object(Ce.K)(e,t,r,n,null==i?void 0:i.id))return!1;var o=Object(Ce.y)(e,r,t);if(!a||!o)return!1;if(o&&0===o[n])return!1;if(null===a.ParentPicklistLogicalName)return!0;var s=Object(S.ac)(e,t,r),c=Object(S.X)(e,t,r,s,i,a.ParentPicklistLogicalName);return!(!c||!c.label)}var Ie,Te,je,Pe=r("UOiB"),Ee=function(e){function t(t,r,n,a,i,o){var s=e.call(this,t,r,n,a,i,o)||this;return Ie=t,s}return Object(G.__extends)(t,e),t.prototype.setValue=function(t){var r,n="ClientApi.XrmEntityAttributeDependentOptionSet.setValue";try{f.a.instance.reportCall(n),r=this.contextToken.contextTokenType===Pe.a.MainGrid||this.contextToken.contextTokenType===Pe.a.SubGrid||this.contextToken.contextTokenType===Pe.a.AssociatedGrid?Oe(Ie.getState(),this.getPageId(),this.contextToken,this.getName(),this.getAttrDescriptor(),this.parentEntityReference):Se(Ie.getState(),this.getPageId(),this.contextToken,this.getName()),f.a.instance.reportSuccess(n)}catch(e){var a=E.a.getInstance().getEventParameters(this.contextToken);throw a.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(n,e,null,a),e}r?e.prototype.setValue.call(this,t):Object(P.e)("ClientApi.XrmEntityAttributeDependentOptionSet.setValue","Can not execute setValue for dependent option set attribute since it is disabled.")},t}(re),Ae=function(e){function t(t,r,n,a,i,o){var s=e.call(this,t,r,n,a,i,o)||this;return Te=t,s}return Object(G.__extends)(t,e),t.prototype.setValue=function(t){var r,n="ClientApi.XrmEntityAttributeMultiSelectDependentOptionSet.setValue";try{f.a.instance.reportCall(n),r=this.contextToken.contextTokenType===Pe.a.MainGrid||this.contextToken.contextTokenType===Pe.a.SubGrid||this.contextToken.contextTokenType===Pe.a.AssociatedGrid?Oe(Te.getState(),this.getPageId(),this.contextToken,this.getName(),this.getAttrDescriptor(),this.parentEntityReference):Se(Te.getState(),this.getPageId(),this.contextToken,this.getName()),f.a.instance.reportSuccess(n)}catch(e){var a=E.a.getInstance().getEventParameters(this.contextToken);throw a.push({name:"attributeName",value:this.getName()}),E.a.getInstance().reportFailure(n,e,null,a),e}r?e.prototype.setValue.call(this,t):Object(P.e)(n,"Can not execute setValue for dependent option set attribute since it is disabled.")},t}(q),xe=r("cZkS"),Fe=r("qC0c"),we=r("3ZuC"),Ne=r("WVwd"),ke=r("RK8T"),De=function(){function e(e,t,r,n,a,i,o,s){je=e;var c=[{name:"pageId",value:r,isEventParam:!0,isRequired:!0,expectedDataType:"string"},{name:"entityType",value:a,isEventParam:!0,isRequired:!1,expectedDataType:"string"},{name:"store",value:e,isRequired:!0},{name:"contextToken",value:t,isRequired:!0},{name:"xrmForm",value:n,isRequired:!0}];this._clientApiExecutor=new d.a(e,"ClientApi.XrmEntity.",r,t,c),this._pageId=r,this._xrmForm=n,this._contextToken=t,this._entityType=a,this._entityId=i,this._getAttributeNames=o,this._applicationContext=s}return Object.defineProperty(e.prototype,"attributes",{get:function(){var e=this;return this._clientApiExecutor.execute("attributes",(function(t,r){if(!e._attributes){e._attributes=new I.a(t);var n=e._getAttributeNames(e._applicationContext,e._contextToken,e._pageId);if(!n)return e._clientApiExecutor.reportFailure(t,new Error("Entity attribute names array was null or undefined"),r),e._attributes;0===n.length&&e._clientApiExecutor.reportFailure(t,new Error("Entity attribute names array was empty."),r),n.forEach((function(t){var r=Object(v.a)(je.getState(),e.getEntityName(),t);if(r){var n=Me(je,e._contextToken,e._pageId,t,e,e._xrmForm.ui,r);e._attributes.add(t,n)}}))}return e._attributes}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"relatedEntities",{get:function(){var t=this,r="ClientApi.XrmEntity.relatedEntities";try{if(f.a.instance.reportCall(r),!this._relatedEntities){this._relatedEntities=new I.a(r);var n=Object(S.oc)(je.getState(),{id:this._pageId},this._contextToken);for(var a in n)if(n[a]){var i=Object(A.m)(this._contextToken,a),o=new e(je,i,this._pageId,this._xrmForm,n[a].etn,n[a].id,this._getAttributeNames,this._applicationContext);this._relatedEntities.add(a,o),this._updateControl(o,a)}var s=Object(S.nc)(je.getState(),{id:this._pageId}),c={};for(var a in s){var l=s[a];c[l.referencingAttribute]||(c[l.referencingAttribute]={}),c[l.referencingAttribute][l.referencedEntity]=a}var u=function(r){je.dispatch(Object(j.a)(p._contextToken,p._pageId,r,(function(n){for(var a in c[r]){var i=t._relatedEntities.get(c[r][a]);i&&t._relatedEntities.remove(i)}var o=n.getEventSource().getValue();if(o&&o.length>0){var s=o[0],l=c[r][s.entityType],u=Object(A.m)(t._contextToken,l),p=new e(je,u,t._pageId,t._xrmForm,s.entityType,h.a.tryParse(s.id),t._getAttributeNames,t._applicationContext);t._relatedEntities.add(l,p),t._updateControl(p,l)}}),!0))},p=this;for(var d in c)u(d)}return f.a.instance.reportSuccess(r),this._relatedEntities}catch(e){var g=E.a.getInstance().getEventParameters(this._contextToken);throw g.push({name:"entityName",value:this.getEntityName()}),E.a.getInstance().reportFailure(r,e,null,g),e}},enumerable:!1,configurable:!0}),e.prototype._updateControl=function(e,t){this._xrmForm&&this._xrmForm.ui&&this._xrmForm.ui.controls&&this._xrmForm.ui.controls.forEach((function(r){r instanceof me.a&&r.updateAttribute(e,t)}))},e.prototype.addOnSave=function(e){var t="ClientApi.XrmEntity.addOnSave";e||Object(P.j)(t,"handler");try{f.a.instance.reportCall(t),je.dispatch(Object(j.o)(this._contextToken,this._pageId,e)),f.a.instance.reportSuccess(t)}catch(e){var r=E.a.getInstance().getEventParameters(this._contextToken);throw r.push({name:"entityName",value:this.getEntityName()}),E.a.getInstance().reportFailure(t,e,null,r),e}},e.prototype.getDataXml=function(){var e="ClientApi.XrmEntity.getDataXml";try{f.a.instance.reportCall(e);var t="";return this.attributes.forEach((function(e){e.getIsDirty()&&(t+=e.getDataXmlInternal())})),t="<"+Object(M.CrmXmlEncode)(this.getEntityName())+">"+t+"</"+Object(M.CrmXmlEncode)(this.getEntityName())+">",f.a.instance.reportSuccess(e),t}catch(t){var r=E.a.getInstance().getEventParameters(this._contextToken);throw r.push({name:"entityName",value:this.getEntityName()}),E.a.getInstance().reportFailure(e,t,null,r),t}},e.prototype.getEntityReference=function(){var e="ClientApi.XrmEntity.getEntityReference";try{f.a.instance.reportCall(e);var t={entityType:this.getEntityName(),id:this.getId(),name:this.getPrimaryAttributeValue()};return f.a.instance.reportSuccess(e),t}catch(t){var r=E.a.getInstance().getEventParameters(this._contextToken);throw r.push({name:"entityName",value:this.getEntityName()}),E.a.getInstance().reportFailure(e,t,null,r),t}},e.prototype.getEntityName=function(){var e="ClientApi.XrmEntity.getEntityName";try{return f.a.instance.reportCall(e),f.a.instance.reportSuccess(e),this._entityType}catch(r){var t=E.a.getInstance().getEventParameters(this._contextToken);throw t.push({name:"entityName",value:this.getEntityName()}),E.a.getInstance().reportFailure(e,r,null,t),r}},e.prototype.getId=function(){var e="ClientApi.XrmEntity.getId";try{if(f.a.instance.reportCall(e),!this._entityId||this._entityId&&this._entityId.guid===h.a.EMPTYGUIDSTRING){var t=Object(te.i)(je.getState(),this._pageId);if(t&&t.value){var r=t.value;this._entityId=r.id}else{var n=Object(S.ac)(je.getState(),this._pageId,this._contextToken);if(n){var a=Object(y.b)(je.getState(),n);a&&a.identifier&&(this._entityId=a.identifier.id)}}}return this._entityId&&this._entityId.guid===h.a.EMPTYGUIDSTRING?(f.a.instance.reportSuccess(e),h.a.EMPTYSTRING):(f.a.instance.reportSuccess(e),h.a.externalGuid(this._entityId))}catch(t){var i=E.a.getInstance().getEventParameters(this._contextToken);throw i.push({name:"entityName",value:this.getEntityName()}),E.a.getInstance().reportFailure(e,t,null,i),t}},e.prototype.getPrimaryAttributeValue=function(){var e=this;return this._clientApiExecutor.execute("getPrimaryAttributeValue",(function(t,r){var n="",a=Object(x.h)(je.getState(),e.getEntityName());if(a){if(!a.PrimaryNameAttribute)return n="PrimaryNameAttribute was not defined",$.a.getInstance().traceManager.getTracer(t).error(n,r),"";var i=Object(S.ac)(je.getState(),e._pageId,e._contextToken),o=e.getId()?new m.a(e.getEntityName(),new h.a(e.getId())):new m.a(e.getEntityName()),s=Object(S.X)(je.getState(),e._pageId,e._contextToken,i,o,a.PrimaryNameAttribute);if(!s)return"";if(Object(g.j)(s))return s.value;n="PrimaryAttribute value was not an IPlainValue"}else n="Entity descriptor could not be retrieved.";return E.a.getInstance().reportFailure(t,new Error(n),null,r),""}))},e.prototype.getIsDirty=function(){var e="ClientApi.XrmEntity.getIsDirty";try{f.a.instance.reportCall(e);for(var t=0;t<this.attributes.getLength();t++){var r=this.attributes.get(t);if("never"!==r.getSubmitMode()&&r.getIsDirty())return f.a.instance.reportSuccess(e),!0}for(t=0;t<this.relatedEntities.getLength();t++){if(this.relatedEntities.get(t).getIsDirty())return f.a.instance.reportSuccess(e),!0}return f.a.instance.reportSuccess(e),!1}catch(t){var n=E.a.getInstance().getEventParameters(this._contextToken);throw n.push({name:"entityName",value:this.getEntityName()}),E.a.getInstance().reportFailure(e,t,null,n),t}},e.prototype.removeOnSave=function(e){var t="ClientApi.XrmEntity.removeOnSave";e||Object(P.j)(t,"handler");try{f.a.instance.reportCall(t),je.dispatch(Object(j.J)(this._contextToken,this._pageId,e)),f.a.instance.reportSuccess(t)}catch(e){var r=E.a.getInstance().getEventParameters(this._contextToken);throw r.push({name:"entityName",value:this.getEntityName()}),E.a.getInstance().reportFailure(t,e,null,r),e}},e.prototype.save=function(e){var t=this;this._clientApiExecutor.executeAsync("save",(function(r,n){var a=1;if(e)if("string"==typeof e)switch(e){case"save":a=1;break;case"saveandclose":a=2;break;case"saveandnew":a=59}else e.saveMode&&(a=e.saveMode);var i=je.getState();return Object(Ne.b)(t._pageId,je,a,n,t._contextToken,t,!1,"saveandclose"!==e).then((function(r){return t._performAfterSaveLogic(i,r,e)}))}))},e.prototype.isValid=function(){var e="ClientApi.XrmEntity.isValid";try{if(f.a.instance.reportCall(e),this.attributes)for(var t=0;t<this.attributes.getLength();t++){var r=this.attributes.get(t);if(this._attributeHasActiveControl(r)&&!r.isValid()||r.hasErrorNotification())return f.a.instance.reportSuccess(e),!1}if(this.relatedEntities)for(t=0;t<this.relatedEntities.getLength();t++)if(!this.relatedEntities.get(t).isValid())return f.a.instance.reportSuccess(e),!1;return f.a.instance.reportSuccess(e),!0}catch(t){var n=E.a.getInstance().getEventParameters(this._contextToken);throw n.push({name:"entityName",value:this.getEntityName()}),E.a.getInstance().reportFailure(e,t,null,n),t}},e.prototype.setRecordId=function(e){var t=this,r="ClientApi.XrmEntity.setRecordId";e||Object(P.j)(r,"id");try{if(f.a.instance.reportCall(r),this.getId()&&this._entityId.guid!==h.a.EMPTYGUIDSTRING)f.a.instance.reportSuccess(r);else{var n=h.a.tryParse(e);h.a.isNullOrEmpty(n)&&Object(P.j)(r,"id");var a=je.getState(),i=Object(S.ac)(a,this._pageId,this._contextToken),o=Object(A.x)(this._contextToken);if(i){var s=new m.a(this.getEntityName(),n);je.dispatch(Object(ue.b)(i,s)),f.a.instance.reportSuccess(r)}else{var c=Object(pe.b)(a,new m.a(this.getEntityName(),n),{},o,he.a.Create),l=c.payload.snapshotId;je.dispatch(c),je.dispatch(Object(de.b)(this._pageId,l,this._contextToken)).then((function(){f.a.instance.reportSuccess(r)})).catch((function(e){var n=E.a.getInstance().getEventParameters(t._contextToken);n.push({name:"entityName",value:t.getEntityName()}),E.a.getInstance().reportFailure(r+".setDataSnapshotId",e,null,n)}))}}}catch(e){var u=E.a.getInstance().getEventParameters(this._contextToken);throw u.push({name:"entityName",value:this.getEntityName()}),E.a.getInstance().reportFailure(r,e,null,u),e}},e.prototype.refresh=function(){var e=this,t="ClientApi.XrmEntity.refresh";try{if(f.a.instance.reportCall(t),this.getId()){for(var r=new m.a(this.getEntityName(),new h.a(this.getId())),n=[],a=[],i=0;i<this.attributes.getLength();i++)a.push(this.attributes.get(i).getName());var o=Object(ge.a)(je.getState(),r.etn);if(o&&a.push.apply(a,o),n.push(je.dispatch(Object(fe.a)(this._pageId,r,a,new ke.a(m.a.toLegacyEntityReference(r),null,null)))),this.relatedEntities)for(i=0;i<this.relatedEntities.getLength();i++)n.push(this.relatedEntities.get(i).refresh());return Promise.all(n).then((function(){Object(ve.b)(e),f.a.instance.reportSuccess(t)})).catch((function(r){var n=E.a.getInstance().getEventParameters(e._contextToken);return n.push({name:"entityName",value:e.getEntityName()}),Object(P.d)(je,r,t,n)}))}return f.a.instance.reportSuccess(t),Promise.resolve(null)}catch(e){var s=E.a.getInstance().getEventParameters(this._contextToken);return s.push({name:"entityName",value:this.getEntityName()}),Object(P.d)(je,e,t,s)}},e.prototype._attributeHasActiveControl=function(e){if(e&&e.controls)for(var t=e.controls.getLength(),r=0;r<t;r++)if(!e.controls.get(r).getDisabled())return!0;return!1},e.prototype._performAfterSaveLogic=function(e,t,r){var n=Object(S.kb)(je.getState(),{id:this._pageId},this._contextToken);if(t||!this.getIsDirty()||n)if(Object(ve.b)(this),"saveandclose"===r){if(!Object(ve.a)(Object(be.b)(je.getState())===this._pageId)){var a=Object(S.Kb)(e,this._pageId),i=Object(S.Ib)(e,this._pageId);if(!a&&!i){var o=Object(we.a)(je.getState(),this._pageId);return je.dispatch(Object(le.b)(o))}}}else if("saveandnew"===r){var s={entityTypeName:this.getEntityName()};return je.dispatch(Object(ye.a)(_e.a,s,this._pageId))}return Promise.resolve()},e}();
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function Me(e,t,r,n,a,i,o){var s=null;switch(o.Type){case"datetime":s=new K(e,t,r,n,a,i);break;case"decimal":case"double":case"integer":case"money":s=new ee(e,t,r,n,a,i);break;case"lookup":case"owner":case"customer":s=new J(e,t,r,n,a,i);break;case"partylist":s=new oe(e,t,r,n,a,i);break;case"memo":case"string":s=new ne(e,t,r,n,a,i);break;case"picklist":if(Object(Fe.c)(e.getState(),xe.L)&&Object(v.l)(e.getState(),o.EntityLogicalName,n)){s=new Ee(e,t,r,n,a,i);break}case"optionset":case"state":case"status":s=new re(e,t,r,n,a,i);break;case"boolean":s=new z(e,t,r,n,a,i);break;case"entityname":s=new ce(e,t,r,n,a,i);break;case"uniqueidentifier":s=new ae(e,t,r,n,a,i);break;case"multiselectpicklist":s=Object(Fe.c)(e.getState(),xe.L)&&Object(v.l)(e.getState(),o.EntityLogicalName,n)?new Ae(e,t,r,n,a,i):new q(e,t,r,n,a,i);break;case"file":s=new se(e,t,r,n,a,i);break;default:s=new V(e,t,r,n,a,i)}return s}},Baft:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a}));
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
var n="polite",a="assertive"},BuSU:function(e,t,r){"use strict";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
function n(e){return{Title:e&&e.Title||null,Legend:e&&e.Legend||null,Area3DStyle:e&&e.Area3DStyle||null,AreaGradientStyle:e&&e.AreaGradientStyle||null,XAxes:e&&e.XAxes||null,YAxes:e&&e.YAxes||null,SeriesList:e&&e.SeriesList||null,SubTitle:e&&e.SubTitle||null,Colors:e&&e.Colors||null,DisplayMode:e&&e.DisplayMode||0,ErrorInformation:e&&e.ErrorInformation||null,EnableDrilldown:e&&e.EnableDrilldown||!0,Annotations:e&&e.Annotations||null}}r.d(t,"a",(function(){return n}))},Cgjg:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));var n=r("Sscr"),a=r("uO/V"),i="grid.setCustomFilter";function o(e,t,r,o,s){return{type:"grid.setCustomFilter.async",execute:function(c,l){var u=c.dispatch,p=(c.getState,l.TraceManager.getTracer(a.z)),d=a.x+".setCustomFilterAction";try{return p.info("Adding a custom filter for the grid. "),u(function(e,t,r,a,o){var s=null;if(null!=e){s={customFilterXml:e,source:t,timeStamp:o||null}}var c=Object(n.y)(a),l=Object(n.v)(a);return{type:i,payload:s,meta:{pageId:r,contextKey:c,dataSetContextKey:l}}}(e,t,r,o,s)),l.EventManager.ReportComponentSuccess(d),Promise.resolve()}catch(e){l.EventManager.ReportComponentFailure(d,Error("Adding a custom filter for the grid failed"))}}}}},"Dlr/":function(e,t,r){"use strict";r.d(t,"a",(function(){return C}));var n,a=r("c/eZ"),i=r("1z64"),o=r("Gemh"),s=r("9r0m"),c=r("YCDx"),l=r("w/nD"),u=r("Sscr"),p=r("/W63"),d=r("IiPO"),h=r("ar+e"),g=r("QUnS"),m=r("Ka9P"),f=r("7bez"),v=r("h82J"),b=r("ezfI"),y=r("kvLG"),_="ClientApi.XrmControlSubGrid.",C=function(e){function t(t,r,a,o,s,c,l,p){var d=e.call(this,t,r,a,l,o,c)||this;return d._relationship=null,n=t,d._subgridToken=Object(u.p)(r,o),d._clientApiExecutorSubGrid=new i.a(t,_,a,d._subgridToken),d.clientApiExecutor.addEventParameter({name:"controlName",value:o,isEventParam:!0}),d.clientApiExecutor.addEventParameter({name:"isEditable",value:s,isEventParam:!0}),d._gridControl=new f.a(t,d._subgridToken,a,s,3,!0,p,o),t.dispatch(Object(v.a)(d,a,d._subgridToken)),d}return Object(a.__extends)(t,e),Object.defineProperty(t.prototype,"clientApiExecutor",{get:function(){return this._clientApiExecutorSubGrid},enumerable:!1,configurable:!0}),t.prototype.setFilterXml=function(e){var t=_+"setFilterXml";try{b.a.instance.reportCall(t),this._gridControl.setFilterXml(e),b.a.instance.reportSuccess(t)}catch(e){var r=d.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),d.a.getInstance().reportFailure(t,e,null,r),e}},t.prototype.getFilterXml=function(){var e=_+"getFilterXml";try{b.a.instance.reportCall(e);var t=this._gridControl.getFilterXml();return b.a.instance.reportSuccess(e),t}catch(t){var r=d.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),d.a.getInstance().reportFailure(e,t,null,r),t}},t.prototype.refresh=function(){var e=_+"refresh";try{b.a.instance.reportCall(e),this._gridControl.refresh(),b.a.instance.reportSuccess(e)}catch(r){var t=d.a.getInstance().getEventParameters(this.contextToken);throw t.push({name:"controlName",value:this.getName()}),d.a.getInstance().reportFailure(e,r,null,t),r}},t.prototype.getFetchXml=function(){var e=_+"getFetchXml";try{b.a.instance.reportCall(e);var t=this._gridControl.getFetchXml();return b.a.instance.reportSuccess(e),t}catch(t){var r=d.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),d.a.getInstance().reportFailure(e,t,null,r),t}},t.prototype.getGrid=function(){var e=_+"getGrid";try{b.a.instance.reportCall(e);var t=this._gridControl.getGrid();return b.a.instance.reportSuccess(e),t}catch(t){var r=d.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),d.a.getInstance().reportFailure(e,t,null,r),t}},t.prototype.getViewSelector=function(){var e=_+"getViewSelector";try{b.a.instance.reportCall(e);var t=this._gridControl.getViewSelector();return b.a.instance.reportSuccess(e),t}catch(t){var r=d.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),d.a.getInstance().reportFailure(e,t,null,r),t}},t.prototype.getTeamTemplateId=function(){var e=_+"getTeamTemplateId";try{b.a.instance.reportCall(e);var t=this._gridControl.getTeamTemplateId();return b.a.instance.reportSuccess(e),t}catch(t){var r=d.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.name}),d.a.getInstance().reportFailure(e,t,null,r),t}},t.prototype.addOnLoad=function(e){var t=this;this.clientApiExecutor.execute("addOnLoad",(function(){n.dispatch(Object(l.d)(t._subgridToken,t.pageId,e,t.name))}),[{name:"handler",value:e,isRequired:!0,isEventParam:!1}])},t.prototype.removeOnLoad=function(e){var t=this;this.clientApiExecutor.execute("removeOnLoad",(function(){n.dispatch(Object(l.y)(t._subgridToken,t.pageId,e,t.name))}),[{name:"handler",value:e,isRequired:!0,isEventParam:!1}])},t.prototype.getEntityName=function(){var e=_+"getEntityName";try{b.a.instance.reportCall(e);var t=this._gridControl.getEntityName();return b.a.instance.reportSuccess(e),t}catch(t){var r=d.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),d.a.getInstance().reportFailure(e,t,null,r),t}},t.prototype.getControlType=function(){var e=this;return this.clientApiExecutor.execute("getControlType",(function(){var t=Object(g.a)(n.getState(),e.controlDescriptor,e.pageId,e.contextToken);return t?"customsubgrid:"+t.Name:"subgrid"}))},t.prototype.getRelationship=function(){var e=this;return this.clientApiExecutor.execute("getRelationship",(function(t,r){var n,a;if(!e._relationship){if(null===(a=null===(n=e.controlDescriptor)||void 0===n?void 0:n.Parameters)||void 0===a?void 0:a.RelationshipName){var i=e.controlDescriptor.Parameters.RelationshipName,o=e.controlDescriptor.Parameters.RelationshipRoleOrdinal,s=e.controlDescriptor.Parameters.TargetEntityType;e._relationship=Object(f.b)(i,s),e._relationship.roleType=o}e._relationship||(e._relationship=e._gridControl.getRelationship())}return e._relationship}))},t.prototype.getRecordSetQueryKey=function(){var e=this;return this.clientApiExecutor.execute("getRecordSetQueryKey",(function(){return Object(o.cb)(n.getState(),e._subgridToken,{id:e.pageId})}))},t.prototype.getGridType=function(){return b.a.instance.reportUsage(_+"getGridType"),3},t.prototype.getRollupType=function(){var e=this;return this.clientApiExecutor.execute("getRollupType",(function(){return Object(o.eb)(n.getState(),e.pageId,e.contextToken)}))},t.prototype.openRelatedGrid=function(){var e=this;this.clientApiExecutor.executeAsync("openRelatedGrid",(function(t,r){var a=e.getRelationship();if(!a)return y.a.getInstance().traceManager.getTracer(t).error("Can't open related grid: the relationship was not retrieved from the inner grid.",r),Promise.resolve(s.a.EMPTY);for(var i=Object(h.c)(n.getState(),e.pageId),o=null,c=0;c<i.length;c++)if(i[c].relationshipName===a.name){o=i[c];break}if(!o)return r.push({name:"relationshipName",value:a.name}),y.a.getInstance().traceManager.getTracer(t).error("Can't open related grid: no relationship was found with the specified name.",r),Promise.resolve(s.a.EMPTY);var l={id:o.id,title:o.title,entityName:e.getEntityName(),relationshipName:a.name,isSelected:!0,show:o.show},d=Object(u.a)(e._subgridToken.parentContextToken,a.name,a.roleType?1===a.roleType?m.a.Referencing:m.a.AssociationEntity:void 0);return n.dispatch(Object(p.a)(e.pageId,d,l))}))},t.prototype.refreshRibbon=function(){var e=_+"refreshRibbon";try{b.a.instance.reportCall(e),this._gridControl.refreshRibbon(),b.a.instance.reportSuccess(e)}catch(r){var t=d.a.getInstance().getEventParameters(this.contextToken);throw t.push({name:"controlName",value:this.getName()}),d.a.getInstance().reportFailure(e,r,null,t),r}},t.prototype.getUrl=function(){var e=_+"getUrl";try{b.a.instance.reportCall(e);var t=this._gridControl.getUrl();return b.a.instance.reportSuccess(e),t}catch(t){var r=d.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),d.a.getInstance().reportFailure(e,t,null,r),t}},t.prototype.getParentForm=function(){var e=_+"getParentForm";try{b.a.instance.reportCall(e);var t=this._gridControl.getParentForm();return b.a.instance.reportSuccess(e),t}catch(t){var r=d.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),d.a.getInstance().reportFailure(e,t,null,r),t}},t}(c.a)},DqrG:function(e,t,r){"use strict";r.r(t),r.d(t,"KbArticle",(function(){return F}));var n=r("seOv"),a=r("c/eZ"),i=r("2OIc"),o=r("RXRQ"),s=r("sOTk"),c=r("XNwl"),l=r("Eoze"),u=r("TCcM"),p=r("zpQF"),d=r("T2Xs"),h="CustomControlFramework.Selectors.DynamicDataSelectors.CustomControlKbArticleSelector";var g=r("455M"),m=r("ZEX9"),f=r("QAhb"),v=r("9r0m"),b=r("NzyT");function y(e){return{type:"kbarticle.initialize.async",execute:function(t,r){var n=t.dispatch,y=t.getState;Object(m.b)((function(){var e={};return function(t,r,n,a,i,o){d.a.info(n.controlId+"."+h+": createGetKbArticleData started");var s={knowledgeArticleId:i.articleId,rating:i.rating,content:i.content,title:i.title,knowledgeArticleViews:i.views,modifiedOn:i.modifiedOn,isAssociated:!1,articlePublicNumber:i.articlePublicNumber,stateCode:i.stateCode};return e.hasOwnProperty(t)&&e[t]&&e[t]===s||(e[t]=s),d.a.info(n.controlId+"."+h+": createGetKbArticleData finished"),e[t]}}),g.a.KbArticle,g.a.KbContent);var _=Object(s.g)(y(),e),C=new f.a(b.h,new v.a(_.articleId)),S=[b.l,b.b,b.j,b.m,b.i,b.a,b.k],O=n(Object(l.d)(C,S)),I=b.d,T=b.f,j=n(Object(o.c)(I)),P=n(Object(o.c)(T));return Promise.all([O,j,P]).then((function(){if(!Object(i.e)(y(),I)||!Object(i.e)(y(),T))throw new Error("Manifest not found");var t=_.articleId.toLowerCase(),r=Object(u.h)(y(),b.h,t),o=Object(a.__assign)(Object(a.__assign)({},_),{title:r.fields[b.l].value,content:r.fields[b.b]?r.fields[b.b].value:"",rating:r.fields[b.j]?r.fields[b.j].value:0,views:r.fields[b.m]?r.fields[b.m].value:0,modifiedOn:r.fields[b.i].value,articlePublicNumber:r.fields[b.a].value,stateCode:r.fields[b.k]?parseInt(r.fields[b.k].valueString,10):-1});n(Object(p.b)(o,e)),n(Object(c.c)(e,null))}))}}}var _=r("ASFs"),C=Object(_.c)([],{}),S=r("nuS9"),O=r("YWpA"),I=r("NJzV"),T=r("Sscr"),j=r("qC0c"),P=r("cZkS"),E=r("4E+q"),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype._getKbArticleInfoControlDefaultConfig=function(){return{FormFactor:2,CustomControlId:b.d,Name:b.e,Version:b.c,Parameters:{article:{Primary:!1,Type:"KbArticle"}},ShouldOverrideControlVisible:!1}},t.prototype._getKbArticleInfoControlDescriptor=function(){return{Id:"",Label:"",Name:"",ShowLabel:!0,Visible:!0,Disabled:!1}},t.prototype._getKbContentControlDefaultConfig=function(){return{FormFactor:2,CustomControlId:b.f,Name:b.g,Version:b.c,Parameters:{record:{Primary:!1,Type:"KbContent"}},ShouldOverrideControlVisible:!1}},t.prototype._getKbContentControlDescriptor=function(){return{Id:"",Label:"",Name:"",ShowLabel:!0,Visible:!0,Disabled:!1}},t.prototype.render=function(){if(!(this.props.kbContentControlId&&this.props.kbContentControlManifest&&this.props.kbArticleInfoControlId&&this.props.kbArticleInfoControlManifest&&this.props.title))return null;var e=this.props.isSearchUIEnhancementEnabled?"#ffffff":"unset";return S.createElement(O.a,{key:"customControlRoot",style:{display:"flex",flexDirection:"column",height:"100%",backgroundColor:e,overflowY:"auto"}},S.createElement(O.a,{key:"KbArticleControlRoot",style:{display:"flex",flexShrink:"0",flexDirection:"row",height:"auto",margin:"14px 21px 0"}},S.createElement(I.c,{key:this.props.kbArticleInfoControlId,id:this.props.id,controlId:this.props.kbArticleInfoControlId,configuration:this._getKbArticleInfoControlDefaultConfig(),descriptor:this._getKbArticleInfoControlDescriptor(),parentContextToken:this.props.kbArticleInfoControlContextToken})),S.createElement(O.a,{key:"KbContentControlRoot",style:{display:"flex",flexDirection:"row",height:"100%",margin:"0 21px 14px"}},S.createElement(I.c,{key:this.props.kbContentControlId,id:this.props.id,controlId:this.props.kbContentControlId,configuration:this._getKbContentControlDefaultConfig(),descriptor:this._getKbContentControlDescriptor(),parentContextToken:this.props.kbContentControlContextToken})))},t}(S.Component);
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */var x=Object(E.a)((function(){var e,t,r,n,a,o,c,l,u,p,d;return function(h,g){var m=Object(s.g)(h,g.id),f=m.articleId,v=m.title,y=m.content,_=m.rating,C=m.views,S=m.modifiedOn,O=b.f,I=b.d,E=Object(j.a)(h,P.bc,P.h),A=Object(i.e)(h,O),x=Object(i.e)(h,I),F=e||Object(T.e)(void 0,O),w=t||Object(T.e)(void 0,I);return A===r&&F===e&&x===n&&w===t&&f===a&&v===o&&y===c&&_===l&&C===u&&S===p||(d={kbContentControlId:O,kbArticleInfoControlId:I,articleId:a=f,title:o=v,content:c=y,rating:l=_,views:u=C,modifiedOn:p=S,kbContentControlManifest:r=A,kbContentControlContextToken:e=F,kbArticleInfoControlManifest:n=x,kbArticleInfoControlContextToken:t=w,isSearchUIEnhancementEnabled:E}),d}}))(A),F=function(){function e(e){this._id=e,this._initializationAction=y(this._id)}return e.prototype.getName=function(){return n.a},e.prototype.getId=function(){return this._id},e.prototype.getInitializationAction=function(){return this._initializationAction},e.prototype.getRootReducer=function(){return C},e.prototype.getRootComponent=function(){return x},e.prototype.getCloseAction=function(e){},e}();
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */},Ds7n:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return f}));var n=r("9r0m"),a=r("Sscr"),i=r("uO/V"),o=r("Gemh"),s=r("F2uj"),c=r("VWqI"),l=r("wUng"),u=r("QAhb"),p=r("cZkS"),d=r("qC0c"),h=r("yHpA"),g=r("+Xnp"),m="dataset.row.properties";function f(e,t,r){return{type:"row.properties.async",execute:function(l,h){var f,b,y,_=l.dispatch,C=l.getState,S=h.TraceManager.getTracer(i.z),O=i.x+".RowPropertiesAction",I=Object(d.c)(C(),p.L);try{var T=Object(a.v)(t),j=Object(o.P)(C(),t,{id:e});if(j){var P=null,E=Object(o.Q)(C(),e,t);if(E)P=E;else{var A=Object(o.S)(C(),{id:e},t);A&&A.entityLogicalName&&(P=A.entityLogicalName)}if(P){var x=Object(s.d)(C(),P),F=Object(o.y)(C(),t,e);if(x){for(var w=[],N=0,k=Object.keys(x);N<k.length;N++){var D=x[k[N]],M=Object(c.f)(C(),P,D.LogicalName,g.a.CanUpdate),R=!0;I&&F&&0===F[D.LogicalName]&&(R=!1),w.push(((f={})[D.LogicalName]={requiredLevel:D.RequiredLevel,isDisabled:!(D.IsValidForUpdate&&M&&R),notifications:{}},f))}for(var L=function(e){var t;if(0===j.records.filter((function(t){return Object.keys(t)[0]===n.a.toString(e)})).length)j.records.push(((t={})[n.a.toString(e)]=w,t));else{var r=j.records.find((function(t){return Object.keys(t)[0]===n.a.toString(e)}))[n.a.toString(e)],a=JSON.parse(JSON.stringify(w));r&&r.forEach((function(e){var t=e[Object.keys(e)[0]];t&&Object.keys(t.notifications).length>0&&(a.find((function(t){return Object.keys(t)[0]===Object.keys(e)[0]}))[Object.keys(e)[0]].notifications=t.notifications)})),j.records.find((function(t){return Object.keys(t)[0]===n.a.toString(e)}))[n.a.toString(e)]=a}},V=0,G=r;V<G.length;V++){L(G[V])}}}if(_(function(e,t,r){return{type:m,payload:r,meta:{pageId:e,dataSetContextKey:t}}}(e,T,j)),I&&P){x=Object(s.d)(C(),P),F=Object(o.y)(C(),t,e);for(var B=0,X=r;B<X.length;B++){var U=X[B],z=(C(),b=U,y=P,new u.a(y,b)),q=Object(a.f)(t,U,P);if(x)for(var W=0,H=Object.keys(x);W<H.length;W++){D=x[H[W]];F&&1===F[D.LogicalName]&&null===D.ParentPicklistLogicalName&&v(C(),_,e,z,D.LogicalName,q)}}}S.info("creating the rowproperties for {0} rows"+r.length),h.EventManager.ReportComponentSuccess(O)}return Promise.resolve()}catch(e){var Q="creating the rowproperties for {0} rows"+r.length+"failed";h.EventManager.ReportComponentFailure(O,Error(Q))}}}}function v(e,t,r,n,a,i){var s={},c=Object(o.R)(e,r,i),u=Object(h.d)(e,c,n,a);s[a]=u,Object.keys(s).length>0&&t(Object(l.b)(r,i,!1,s))}},FGem:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("Sscr"),a="attribute.options.clear";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function i(e,t,r){var i=Object(n.x)(t);return{type:a,payload:void 0,meta:{pageId:e,contextKey:i,dataFieldName:r}}}},FPMG:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));var n=r("Sscr"),a=r("uO/V"),i="dataset.update.pagingdata";function o(e,t,r){return{type:"dataset.update.pagingdata.async",execute:function(o,s){var c=o.dispatch,l=(o.getState,s.TraceManager.getTracer(a.z)),u=a.x+".updatePagingDataAction";try{return l.info("Updating the paging data for the grid."),c(function(e,t,r){var a=Object(n.y)(t),o=Object(n.v)(t);return{type:i,payload:r,meta:{pageId:e,contextKey:a,dataSetContextKey:o}}}(e,t,r)),s.EventManager.ReportComponentSuccess(u),Promise.resolve()}catch(e){var p="Updation of paging data for the grid failed with error : "+e.message;s.EventManager.ReportComponentFailure(u,Error(p))}}}}},FuJ2:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return d}));var n=r("sOTk"),a=r("UOiB"),i=r("Sscr"),o=r("krRo"),s=r("HSdq"),c=r("ObKm"),l=r("yHpA"),u=r("9rlF"),p="attribute.requiredLevel";function d(e,t,r,d){return{type:"attribute.requiredLevel.validation",sync:!0,execute:function(h,g){var m,f=h.getState();if(d!==Object(s.pc)(f,e,t,r)){h.dispatch(function(e,t,r,n){if(t&&t.contextTokenType&&t.contextTokenType===a.a.GridRow)return Object(o.f)(e,t,r,n);var s=Object(i.x)(t);return{type:p,payload:n,meta:{pageId:e,contextKey:s,dataFieldName:r}}}(e,t,r,d));var v=Object(s.ac)(f,e,t),b=Object(l.b)(f,v);if((0===d||3===d)&&b&&b.activeChanges&&b.activeChanges[r]||t&&t.contextTokenType&&t.contextTokenType===a.a.GridRow){var y=null,_=null,C=null,S=null;if(t&&t.contextTokenType&&t.contextTokenType===a.a.GridRow)y=t.entityTypeName?t.entityTypeName:null,_=t.recordId?t.recordId:null,C=Object(i.t)(t),S=Object(i.r)(t);else{var O=Object(n.g)(f,e);y=O&&O.entityTypeName?O.entityTypeName:null,_=O&&O.id?O.id:null,C=null,S=t}var I=Object(l.d)(f,v,{etn:y,id:_},r);if(Object(s.Uc)(I)){var T=((m={})[r]={fieldName:r,value:I?I.formatted?I:Object(u.e)(I):I},m);h.dispatch(Object(c.a)(e,T,!0,!0,y,_?_.guid:null,C,S))}}}}}}},G9wF:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return u}));var n,a=r("c/eZ"),i=r("Zy0S"),o=r("ixd0"),s=r("i8/j"),c=r("9r0m"),l=r("1z64"),u=function(){function e(e,t,r,a,i,c,u){void 0===c&&(c=s.n),void 0===u&&(u=o.a),this._formId=r,n=e,this._entityName=a,this._pageId=i,this._getSelectorItems=c,this._selectorItemType=u,this._clientApiExecutor=new l.a(e,"ClientApi.XrmControlFormSelector.",i,t)}return Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._clientApiExecutor.execute("items_get",(function(t){if(!e._items){e._items=new i.a(t);var r=e._getSelectorItems(n.getState(),e._entityName);if(r)for(var a in r){var o=r[a],s=o.name||o.DisplayName,l=new e._selectorItemType(new c.a(a),s,n,e._pageId);e._items.add(l.getId(),l)}}return e._items}))},enumerable:!1,configurable:!0}),e.prototype.getCurrentItem=function(){var e=this;return this._clientApiExecutor.execute("getCurrentItem",(function(){for(var t=e.items,r=0;r<t.getLength();r++){var n=t.get(r);if(n.getId()===c.a.toString(e._formId))return n}return null}))},e}(),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t}(u)},GueY:function(e,t,r){"use strict";r.d(t,"a",(function(){return te}));var n=r("c/eZ"),a=r("1z64"),i=r("HSdq"),o=r("ezfI"),s=r("Zy0S"),c=r("+ieV"),l=r("2p2B"),u=r("0MLN"),p=r("9r0m"),d=r("G9wF"),h=r("ar+e"),g=r("PhZR"),m=r("YOvo"),f=r("+Z9T"),v=r("IiPO"),b=r("/W63"),y=r("s0Zj"),_=r("Sscr");var C,S,O,I,T,j,P=r("7EJx"),E=function(){function e(e,t,r,n){var a="ClientApi.XrmNavigationItem.constructor";e||Object(f.j)(a,"store"),r||Object(f.j)(a,"pageId"),t||Object(f.j)(a,"contextToken"),Object(f.a)(n)&&Object(f.j)(a,"id"),C=e,this._pageId=r,this._id=n,this._contextToken=t}return e.prototype.getId=function(){return o.a.instance.reportUsage("ClientApi.XrmNavigationItem.getId"),this._id},e.prototype.getLabel=function(){var e="ClientApi.XrmNavigationItem.getLabel";try{o.a.instance.reportCall(e);var t=Object(i.Rb)(C.getState(),this._pageId,this._id);return o.a.instance.reportSuccess(e),t}catch(t){var r=v.a.getInstance().getEventParameters(this._contextToken);throw v.a.getInstance().reportFailure(e,t,null,r),t}},e.prototype.getVisible=function(){var e="ClientApi.XrmNavigationItem.getVisible";try{o.a.instance.reportCall(e);var t=Object(i.Ub)(C.getState(),this._pageId,this._id);return o.a.instance.reportSuccess(e),t}catch(t){var r=v.a.getInstance().getEventParameters(this._contextToken);throw v.a.getInstance().reportFailure(e,t,null,r),t}},e.prototype.setFocus=function(){var e,t,r,n="ClientApi.XrmNavigationItem.setFocus";try{o.a.instance.reportCall(n),C.dispatch((e=this._pageId,t=this._contextToken,r=this._id,{type:"forms.selectnavigationtab",sync:!0,execute:function(n,a,i){var o=n.dispatch,s=n.getState,c=Object(h.d)(s(),e,r);if(c){c.isSelected=!0;var l=Object(_.a)(t,c.relationshipName,c.ordinal);o(Object(y.b)(e,void 0,t)),o(Object(b.a)(e,l,c))}else a.TraceManager.getTracer("Forms.SelectNavigationTab").error("Could not find relatedEntityInfo to select")}})),o.a.instance.reportSuccess(n)}catch(e){var a=v.a.getInstance().getEventParameters(this._contextToken);throw v.a.getInstance().reportFailure(n,e,null,a),e}},e.prototype.setLabel=function(e){var t="ClientApi.XrmNavigationItem.setLabel";try{if(o.a.instance.reportCall(t),!Object(f.a)(e)){var r=Object(P.s)(C.getState());C.dispatch(Object(g.b)(this._pageId,this._id,e,r))}o.a.instance.reportSuccess(t)}catch(e){var n=v.a.getInstance().getEventParameters(this._contextToken);throw v.a.getInstance().reportFailure(t,e,null,n),e}},e.prototype.setVisible=function(e){var t="ClientApi.XrmNavigationItem.setVisible";try{o.a.instance.reportCall(t),C.dispatch(Object(m.b)(this._pageId,this._id,!0===e)),o.a.instance.reportSuccess(t)}catch(e){var r=v.a.getInstance().getEventParameters(this._contextToken);throw v.a.getInstance().reportFailure(t,e,null,r),e}},e}(),A=function(){function e(e,t,r){r||Object(f.j)("ClientApi.XrmFormNavigation.constructor","pageId"),e||Object(f.j)("ClientApi.XrmFormNavigation.constructor","store"),S=e,this._pageId=r,this._contextToken=t}return Object.defineProperty(e.prototype,"items",{get:function(){var e=this,t="ClientApi.XrmFormNavigation.items";try{if(o.a.instance.reportCall(t),!this._items){this._items=new s.a(t);var r=Object(h.f)()(S.getState(),{id:this._pageId});r&&r.forEach((function(t){t&&t.relatedItems&&t.relatedItems.forEach((function(t){t&&t.id&&e._items.add(t.id,new E(S,e._contextToken,e._pageId,t.id))}))}))}return o.a.instance.reportSuccess(t),this._items}catch(e){var n=v.a.getInstance().getEventParameters(this._contextToken);throw v.a.getInstance().reportFailure(t,e,null,n),e}},enumerable:!1,configurable:!0}),e}(),x=r("ll2N"),F=r("oPeH"),w=r("e2rP"),N=r("SdPQ"),k=r("lwSE"),D=r("7ipg"),M=function(e){function t(r,n,a,i){var o=e.call(this,r,n,a,t.NAME,null,i)||this;return O=r,o._clientApiExecutor=new D.b(O,"ClientApi.XrmHeaderSection.",n),o}return Object(n.__extends)(t,e),t.prototype.getLabel=function(){return o.a.instance.reportUsage("ClientApi.XrmHeaderSection.getLabel"),""},t.prototype.getVisible=function(){return o.a.instance.reportUsage("ClientApi.XrmHeaderSection.getVisible"),!0},t.prototype.setLabel=function(e){o.a.instance.reportUsage("ClientApi.XrmHeaderSection.setLabel")},t.prototype.setVisible=function(e){o.a.instance.reportUsage("ClientApi.XrmHeaderSection.setVisible")},t.prototype.getControlsDescriptor=function(e){var t=Object(i.tb)(e,{id:this.pageId},this.contextToken),r={};if(t)for(var n=0;n<t.length;n++){var a=t[n];r[a.Name]=a}return r},t.prototype.setCommandBarVisible=function(e){var t=this;this._clientApiExecutor.execute("setCommandBarVisible",(function(){O.dispatch(Object(w.b)(t.pageId,t.contextToken,e))}),[{name:"visible",value:e,isRequired:!0,expectedDataType:"boolean"}])},t.prototype.getCommandBarVisible=function(){var e=this;return this._clientApiExecutor.execute("getCommandBarVisible",(function(){var t;return null===(t=Object(F.f)(O.getState(),e.pageId,e.contextToken))||void 0===t?void 0:t.commandBarVisible}))},t.prototype.setBodyVisible=function(e){var t=this;this._clientApiExecutor.execute("setBodyVisible",(function(){O.dispatch(Object(N.b)(t.pageId,t.contextToken,e))}),[{name:"visible",value:e,isRequired:!0,expectedDataType:"boolean"}])},t.prototype.getBodyVisible=function(){var e=this;return this._clientApiExecutor.execute("getCommandBarVisible",(function(){var t;return null===(t=Object(F.f)(O.getState(),e.pageId,e.contextToken))||void 0===t?void 0:t.bodyVisible}))},t.prototype.setTabNavigatorVisible=function(e){var t=this;this._clientApiExecutor.execute("setTabNavigatorVisible",(function(){O.dispatch(Object(k.b)(t.pageId,t.contextToken,e))}),[{name:"visible",value:e,isRequired:!0,expectedDataType:"boolean"}])},t.prototype.getTabNavigatorVisible=function(){var e=this;return this._clientApiExecutor.execute("getTabNavigatorVisible",(function(){var t;return null===(t=Object(F.f)(O.getState(),e.pageId,e.contextToken))||void 0===t?void 0:t.tabNavigatorVisible}))},t.NAME="Header",t}(x.a),R=r("cQE4"),L=r("uCYK"),V=function(e){function t(r,n,a,i){var o=e.call(this,r,n,a,t.NAME,null,i)||this;return I=r,o._clientApiExecutor=new D.b(I,"ClientApi.XrmFooterSection.",n),o}return Object(n.__extends)(t,e),t.prototype.getLabel=function(){return o.a.instance.reportUsage("ClientApi.XrmFooterSection.getLabel"),""},t.prototype.getVisible=function(){var e=this;return this._clientApiExecutor.execute("getVisible",(function(){var t;return null===(t=Object(R.a)(I.getState(),e.pageId,e.contextToken))||void 0===t?void 0:t.visible}))},t.prototype.setLabel=function(e){o.a.instance.reportUsage("ClientApi.XrmFooterSection.setLabel")},t.prototype.setVisible=function(e){var t=this;this._clientApiExecutor.execute("setVisible",(function(){I.dispatch(Object(L.b)(t.pageId,t.contextToken,e))}),[{name:"visible",value:e,isRequired:!0,expectedDataType:"boolean"}])},t.prototype.getControlsDescriptor=function(e){var t=Object(i.Z)(e,{id:this.pageId},this.contextToken),r={};if(t)for(var n=0;n<t.length;n++){var a=t[n];r[a.Name]=a}return r},t.NAME="Footer",t}(x.a),G=r("RYq1"),B=r("sOTk"),X=r("gk6Q"),U=r("m8A1"),z=r("03gN"),q=r("kvLG"),W=function(){function e(e,t,r,n){var a="ClientApi.XrmProcessControlUI.constructor";n||Object(f.j)(a,"entity"),t||Object(f.j)(a,"contextToken"),r||Object(f.j)(a,"pageId"),e||Object(f.j)(a,"store"),T=e,this._pageId=r;var i=!1;if(Object(U.d)(T.getState(),this._pageId,a)){var o=Object(B.g)(T.getState(),this._pageId);this._processManager=Object(X.b)(this._pageId,o),i=!0}this._contextToken=t;var s=Object(U.b)(r,e.getState(),i);q.a.getInstance().eventManager.ReportComponentSuccess(a,s)}return e.prototype.getDisplayState=function(){var e="ClientApi.XrmProcessControlUI.getDisplayState";try{if(o.a.instance.reportCall(e),!Object(U.d)(T.getState(),this._pageId,e))return o.a.instance.reportSuccess(e),null;var t=this._getProcessManager().getDisplayState();return o.a.instance.reportSuccess(e),t}catch(t){var r=v.a.getInstance().getEventParameters(this._contextToken);throw v.a.getInstance().reportFailure(e,t,null,r),t}},e.prototype.getVisible=function(){var e="ClientApi.XrmProcessControlUI.getVisible";try{if(o.a.instance.reportCall(e),!Object(U.d)(T.getState(),this._pageId,e))return o.a.instance.reportSuccess(e),!1;var t=this._getProcessManager().isVisible();return o.a.instance.reportSuccess(e),t}catch(t){var r=v.a.getInstance().getEventParameters(this._contextToken);throw v.a.getInstance().reportFailure(e,t,null,r),t}},e.prototype.setDisplayState=function(e){var t="ClientApi.XrmProcessControlUI.setDisplayState";try{if(o.a.instance.reportCall(t),!Object(U.d)(T.getState(),this._pageId,t))return void o.a.instance.reportSuccess(t);e!==z.a.collapsed&&e!==z.a.expanded&&e!==z.a.floating||this._getProcessManager().setDisplayState(e),o.a.instance.reportSuccess(t)}catch(e){var r=v.a.getInstance().getEventParameters(this._contextToken);throw v.a.getInstance().reportFailure(t,e,null,r),e}},e.prototype.setVisible=function(e){var t="ClientApi.XrmProcessControlUI.setVisible";try{if(o.a.instance.reportCall(t),!Object(U.d)(T.getState(),this._pageId,t))return void o.a.instance.reportSuccess(t);this._getProcessManager().setVisible(e),o.a.instance.reportSuccess(t)}catch(e){var r=v.a.getInstance().getEventParameters(this._contextToken);throw v.a.getInstance().reportFailure(t,e,null,r),e}},e.prototype.reflow=function(e,t,r){var n="ClientApi.XrmProcessControlUI.reflow";try{if(o.a.instance.reportCall(n),!Object(U.d)(T.getState(),this._pageId,n))return void o.a.instance.reportSuccess(n);this._getProcessManager().reflow(e,t,r),o.a.instance.reportSuccess(n)}catch(e){var a=v.a.getInstance().getEventParameters(this._contextToken);throw v.a.getInstance().reportFailure(n,e,null,a),e}},e.prototype._getProcessManager=function(){return this._processManager||(this._processManager=Object(U.c)(this._processManager,T,this._pageId,"ClientApi.XrmProcessControlUI.getProcessManager")),this._processManager},e}(),H=r("w/nD"),Q=r("UGbr"),Y=r("yHpA"),K=r("cAHA"),J=r("9qYn"),Z=r("yZTI"),$=r("0hCf"),ee=r("zPLw"),te=function(e){function t(t,r,n,i,o,s){var c=this;return j=t,(c=e.call(this,t,r,n,i,o,s,d.a)||this)._clientApiExecutorFormUI=new a.a(t,"ClientApi.XrmFormUI.",n,r),c._clientApiExecutorFormUI.addEventParameter({name:"entityName",value:o,isEventParam:!0}),c}return Object(n.__extends)(t,e),Object.defineProperty(t.prototype,"headerSection",{get:function(){var e="ClientApi.XrmFormUI.headerSection";try{return o.a.instance.reportCall(e),this._headerSection||(this._headerSection=new M(j,this.contextToken,this.pageId,this.formContext)),o.a.instance.reportSuccess(e),this._headerSection}catch(t){throw this._reportFailure(e,t)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerSection",{get:function(){var e="ClientApi.XrmFormUI.footerSection";try{return o.a.instance.reportCall(e),this._footerSection||(this._footerSection=new V(j,this.contextToken,this.pageId,this.formContext)),o.a.instance.reportSuccess(e),this._footerSection}catch(t){throw this._reportFailure(e,t)}},enumerable:!1,configurable:!0}),t.prototype.addControls=function(e){var t=v.a.getInstance().getEventParameters(this.contextToken),r={name:"controlName",value:""};for(var n in t.push(r),e)if(e[n]){r.value=n;var a=this.xrmControlFactory.createXrmControl(this.contextToken,e[n],this.formContext,"ClientApi.XrmFormUI.addControls",t);a&&this.controls.add(a.getName(),a)}},Object.defineProperty(t.prototype,"navigation",{get:function(){var e="ClientApi.XrmFormUI.navigation";try{return o.a.instance.reportCall(e),this._navigation||(this._navigation=new A(j,this.contextToken,this.pageId)),o.a.instance.reportSuccess(e),this._navigation}catch(t){throw this._reportFailure(e,t)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"process",{get:function(){var e="ClientApi.XrmFormUI.process_get";try{o.a.instance.reportCall(e);var t=!!this._process;!this._process&&this.formContext.data&&this.formContext.data.entity&&(this._process=new W(j,this.contextToken,this.pageId,this.formContext.data.entity));var r=Object(U.a)(this.pageId,j.getState(),t,!(!this.formContext.data||!this.formContext.data.entity));return q.a.getInstance().eventManager.ReportComponentSuccess(e,r),o.a.instance.reportSuccess(e),this._process}catch(t){throw this._reportFailure(e,t)}},set:function(e){var t=Object(U.a)(this.pageId,j.getState(),!!this._process,!(!this.formContext.data||!this.formContext.data.entity));q.a.getInstance().eventManager.ReportComponentSuccess("ClientApi.XrmFormUI.process_set",t),this._process=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quickForms",{get:function(){var e="ClientApi.XrmFormUI.quickForms";try{return o.a.instance.reportCall(e),this._quickForms||(this._quickForms=new s.a(e),this.controls),o.a.instance.reportSuccess(e),this._quickForms}catch(t){throw this._reportFailure(e,t)}},enumerable:!1,configurable:!0}),t.prototype.clearFormNotification=function(e){var t="ClientApi.XrmFormUI.clearFormNotification";try{o.a.instance.reportCall(t);var r=j.dispatch(Object(l.b)(this.contextToken,this.pageId,e));return o.a.instance.reportSuccess(t),r}catch(e){throw this._reportFailure(t,e)}},t.prototype.close=function(){try{o.a.instance.reportCall("ClientApi.XrmFormUI.close"),Object(J.a)(Object(Z.b)(j.getState())===this.pageId)||j.dispatch(Object(G.e)(this.pageId)),o.a.instance.reportSuccess("ClientApi.XrmFormUI.close")}catch(e){throw this._reportFailure("ClientApi.XrmFormUI.close",e)}},t.prototype.getFormType=function(){var e=this;return this._clientApiExecutorFormUI.execute("getFormType",(function(t,r){var n=e.getFormDescriptor(t,r);if(n){var a=e.formContext;if(a&&a.data&&a.data.entity&&Object(i.Lb)(j.getState(),a.data.entity.getEntityName(),p.a.tryParse(a.data.entity.getId())))return 4;if(Object(i.kb)(j.getState(),{id:e.pageId},e.contextToken))return 3;if(6===n.FormType)return 3;var o=Object(i.ac)(j.getState(),e.pageId,e.contextToken);if(o){var s=Object(Y.b)(j.getState(),o);return s?s.mode===K.a.Create?1:2:(r.push({name:"snapshotID",value:o}),e._clientApiExecutorFormUI.reportFailure(t+".getSnapshot",new Error("Snapshot is null or undefined"),r),0)}return a&&a.data&&a.data.entity&&!p.a.tryParseOrNull(a.data.entity.getId())?1:2}return 0}))},t.prototype.isDialog=function(){var e=this;return this._clientApiExecutorFormUI.execute("isDialog",(function(){return Object(B.f)(j.getState(),e.pageId)}))},t.prototype.getViewPortHeight=function(){var e="ClientApi.XrmFormUI.getViewPortHeight";try{o.a.instance.reportCall(e);var t=Object(i.qb)(j.getState(),{id:this.pageId},this.contextToken);return o.a.instance.reportSuccess(e),t}catch(t){throw this._reportFailure(e,t)}},t.prototype.getViewPortWidth=function(){var e="ClientApi.XrmFormUI.getViewPortWidth";try{o.a.instance.reportCall(e);var t=Object(i.rb)(j.getState(),{id:this.pageId},this.contextToken);return o.a.instance.reportSuccess(e),t}catch(t){throw this._reportFailure(e,t)}},t.prototype.setFormEntityName=function(e){var t="ClientApi.XrmFormUI.setFormEntityName";Object(f.g)(e,t,"name");try{o.a.instance.reportCall(t),j.dispatch(Object(u.b)(this.pageId,this.contextToken,e)),o.a.instance.reportSuccess(t)}catch(e){throw this._reportFailure(t,e)}},t.prototype.setFormNotification=function(e,t,r,n,a){var i=this;return this._clientApiExecutorFormUI.execute("setFormNotification",(function(o,s){var l;switch(Object(f.a)(r)&&(r="Random_String_"+Math.random()),t){case"ERROR":l=ee.a;break;case"WARNING":l=ee.e;break;case"INFORMATION":case"INFO":l=ee.b;break;default:Object(f.h)(o,"notificationLevel",t,s)}return!Object(f.a)(e)&&"string"==typeof e&&(j.dispatch(Object(c.c)(i.contextToken,i.pageId,e,l,r,n,a)),!0)}))},t.prototype.addOnLoad=function(e){var t="ClientApi.XrmFormUI.addOnLoad";Object(f.g)(e,t,"handler");try{o.a.instance.reportCall(t),j.dispatch(Object(H.f)(this.contextToken,this.pageId,e)),o.a.instance.reportSuccess(t)}catch(e){throw this._reportFailure(t,e)}},t.prototype.removeOnLoad=function(e){var t="ClientApi.XrmFormUI.removeOnLoad";Object(f.g)(e,t,"handler");try{o.a.instance.reportCall(t),j.dispatch(Object(H.A)(this.contextToken,this.pageId,e)),o.a.instance.reportSuccess(t)}catch(e){throw this._reportFailure(t,e)}},t.prototype.refresh=function(){var e=this,t="ClientApi.XrmFormUI.refresh";try{o.a.instance.reportCall(t);var r=Object(B.l)(j.getState(),this.pageId);return j.dispatch(Object(Q.f)(this.pageId,r,!0,1,!0,!0)).then((function(r){return Object(J.b)(e.formContext.data.entity),o.a.instance.reportSuccess(t),r})).catch((function(r){var n=v.a.getInstance().getEventParameters(e.contextToken);return Object(f.d)(j,r,t+".saveFormAndNavigate",n)}))}catch(e){var n=v.a.getInstance().getEventParameters(this.contextToken);return Object(f.d)(j,e,t,n)}},t.prototype._reportFailure=function(e,t){var r=v.a.getInstance().getEventParameters(this.contextToken);return v.a.getInstance().reportFailure(e,t,null,r),t},t}($.a);
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */},HfRC:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("xc1f"),a=r("Z1aD");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
function i(e,t,r,i,o,s,c,l,u){var p={entityTypeName:e.etn,id:e.id,formId:r,data:i,processId:o,processInstanceId:s,selectedStageId:c,isCrossEntityNavigate:l,recordSetQueryKey:u};return Object(a.a)(n.a,p,t)}},I6xF:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n="powerbi.signedin.state";function a(e,t){return{type:n,payload:t,meta:{pageId:e}}}},Ini7:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("Sscr"),a="attribute.removeOption";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function i(e,t,r,i){var o=Object(n.x)(t);return{type:a,payload:i,meta:{pageId:e,contextKey:o,dataFieldName:r}}}},JFej:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("Sscr"),a="attribute.option.add";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function i(e,t,r,i,o){var s=Object(n.x)(t);return{type:a,payload:{option:i,index:o},meta:{pageId:e,contextKey:s,dataFieldName:r}}}},Je7O:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
var n=function(){function e(){}return e.prototype.get_ErrorType=function(){return this._errorType},e.prototype.set_ErrorType=function(e){this._errorType=e},e.prototype.get_ErrorDescription=function(){return this._errorDescription},e.prototype.set_ErrorDescription=function(e){this._errorDescription=e},e}()},KDdL:function(e,t,r){"use strict";r.d(t,"f",(function(){return h})),r.d(t,"c",(function(){return m})),r.d(t,"d",(function(){return f})),r.d(t,"b",(function(){return g})),r.d(t,"e",(function(){return v})),r.d(t,"a",(function(){return b}));var n=r("9r0m"),a=r("G7N+"),i=r("dUXI"),o=r("8ADW"),s=r("y5DA"),c=r("lMVv"),l=r("Ww2r"),u=r("JlqV"),p=r("9rlF"),d=r("F2uj"),h=o.a;function g(e,t,r,a,p,d,g,m){return void 0===m&&(m=!1),function(e,t,r){if(!n.a.toString(r.viewId)){var a="viewid is required to call retrieve chart data";throw e.EventManager.ReportComponentFailure(h+".retrieveChartData",Error(a),o.d,t),new Error(a)}return!0}(r,a,p)&&function(e,t,r,a,o){if(!n.a.toString(r.visualizationId)||n.a.toString(r.visualizationId)===n.a.EMPTYGUIDSTRING){var u=e(),p=Object(l.b)(u,i.n),d=Object(c.f)(u,a)||a,h=String.format(p,d);return Object(s.a)(u,t,h,r,o),!1}return!0}(e,t,p,d,g)&&function(e,t,r,n){var a=e();if(!Object(u.b)(a)){var o=Object(l.b)(a,i.r);return Object(s.a)(a,t,o,r,n),!1}return!0}(e,t,p,g)&&function(e,t,r,n){if(r.isRollUpView){var a=e(),o=Object(l.b)(a,i.j);return Object(s.a)(a,t,o,r,n),!1}return!0}(e,t,p,g)&&(!m||function(e,t,r,n){if(!r.viewXml){var a=Object(l.b)(e(),i.g);return Object(s.a)(e(),t,a,r,n),!1}return!0}(e,t,p,g)&&function(e,t,r,n){if(!r.fetchXml){var a=Object(l.b)(e(),i.o);return Object(s.a)(e(),t,a,r,n),!1}return!0}(e,t,p,g))}function m(e,t,r){var i,o,s=new n.a(e),c=n.a.toString(s),l=new n.a(t),u=n.a.toString(l);return{type:r,payload:{charts:(i={},i[c]=(o={},o[u]={initialized:a.a.Initializing},o),i)}}}function f(e,t){var r;return{type:t,payload:{chartData:(r={},r[e]={initialized:a.a.Initializing},r)}}}function v(e,t,r){var n,a=null===(n=null==e?void 0:e.category)||void 0===n?void 0:n.primaryGroupBy,i=null==a?void 0:a.groupAttribute;if(function(e,t){var r;if(!e)return!1;var n=null===(r=null==e?void 0:e.entity)||void 0===r?void 0:r.entityName,a=null==e?void 0:e.attributeName,i=Object(d.b)(a,n,t);return"picklist"===i||"state"===i||"status"===i}(i,r)&&e.isOrderPresentOnPrimaryGroupBy()){var o=i.aliasName,s=new y(o);t.sort(s.comparator),a.descending&&t.reverse()}}function b(e){var t=/(Name=\"o\:)(\w+)(,)(\d+)(\")/,r=e.match(new RegExp(t,"g")),n=[];return r&&r.forEach((function(e){n=e.match(new RegExp(t,"m"))})),n}var y=function(){function e(e){var t=this;this._primaryGroupByAttributeAlias=null,this.comparator=function(e,r){return t._getRawValue(e)-t._getRawValue(r)},this._primaryGroupByAttributeAlias=e}return e.prototype._getRawValue=function(e){if(this._primaryGroupByAttributeAlias in e.fields){var t=e.fields[this._primaryGroupByAttributeAlias],r=Object(p.e)(t);return parseInt(r,10)}return-1},e}()},LBS5:function(e,t,r){"use strict";r.d(t,"b",(function(){return k})),r.d(t,"a",(function(){return N})),r.d(t,"c",(function(){return M})),r.d(t,"e",(function(){return R})),r.d(t,"d",(function(){return L}));var n,a,i=r("TJkj"),o=r("UOiB"),s=r("kvLG"),c=r("mPpC"),l=r("Y+r4"),u=r("c/eZ"),p=r("ZOZo"),d=r("0hCf"),h=r("G9wF"),g=r("T4u8"),m=r("9r0m"),f=r("ixd0"),v=r("JX21"),b=r("1z64"),y=r("5KPK"),_=function(e){function t(t,r,a,i){var o=e.call(this,t,r,a,i)||this;return o._dashboardId=t,n=a,o._clientApiExecutor=new b.a(a,"ClientApi.XrmDashboardSelectorItem.",i),o}return Object(u.__extends)(t,e),t.prototype._getEventParams=function(){return this._commonEventParams||(this._commonEventParams=[{name:"dashboardId",value:m.a.toString(this._dashboardId),isRequired:!1,isEventParam:!0}])},Object.defineProperty(t.prototype,"isBoundDashboard",{get:function(){var e=this;return this._clientApiExecutor.execute("isBoundDashboard_get",(function(){var t=Object(v.a)(n.getState(),e._dashboardId);return!t||1032==+t.Type}),this._getEventParams())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUserDashboard",{get:function(){var e=this;return this._clientApiExecutor.execute("isUserDashboard_get",(function(){var t=Object(v.a)(n.getState(),e._dashboardId);return Object(v.c)(t)}),this._getEventParams())},enumerable:!1,configurable:!0}),t.prototype.navigate=function(){var e=this;this._clientApiExecutor.executeAsync("navigate",(function(){return n.dispatch(Object(y.a)(null,e._dashboardId,null,null,null,null,e.getPageId()))}),this._getEventParams())},t}(f.a),C=function(e){function t(t,r,n,a,i){var o=g.c;if(a){var s=t.getState(),c=Object(g.g)(s,a);c&&c[n.guid]&&(o=g.g)}return e.call(this,t,r,n,a,i,o,_)||this}return Object(u.__extends)(t,e),t}(h.b),S=function(e){function t(t,r,n,a,i,o){return e.call(this,t,r,n,a,i,o,C)||this}return Object(u.__extends)(t,e),t}(d.a),O=function(e){function t(t,r,n,i,o,s){var c=e.call(this,t,r&&r.etn,i,o,(function(){return S}),n)||this;return a=t,c._getCommands=s,c._apiExecutor=new b.a(t,"ClientApi.XrmDashboard.",o,i),c}return Object(u.__extends)(t,e),Object.defineProperty(t.prototype,"commands",{get:function(){var e=this;return this._apiExecutor.execute("commands_get",(function(){return e._commands||(e._commands=e._getCommands(a,e.contextToken,e.pageId))}))},enumerable:!1,configurable:!0}),t}(p.a),I=r("7bez"),T=r("Dlr/"),j=r("1PXy"),P=r("h82J"),E=r("HSdq"),A=r("IiPO"),x=r("ks02"),F=r("+Z9T"),w=r("W1TM");function N(e,t,r,n){return D((function(r,a){return new O(r,a,new c.b(r,t),e,t,n)}),"clientapi.create.xrmdashboard","ClientApi.XrmCommandObjectFactory.createXrmDashboard",e,t,r,!1)}function k(e,t,r,n){return D((function(r,n){return new l.a(r,n,new c.b(r,t),e,t)}),"clientapi.create.xrmform","ClientApi.XrmCommandObjectFactory.createXrmForm",e,t,r,!0,n)}function D(e,t,r,n,a,o,c,l){return{type:t,sync:!0,execute:function(t,u){Object(F.g)(n,r,"contextToken"),Object(F.g)(a,r,"pageId"),c&&Object(F.g)(o,r,"entityTypeName");try{var p=t.dispatch(Object(P.b)(a,n));if(!p){(p=e(t,{etn:o,id:l})).applicationContext=u;var d=new x.a(t,a);if(p.context=d,!n.parentContextToken){var h=u.ClientApiManager.getClientApiEntry(a);Object(i.b)("form.initialization",(function(){h.xrmInstance.Page=p})),h.primaryContextToken=n}}return p}catch(e){var g=A.a.getInstance().getEventParameters(n);throw g.push({name:"entityTypeName",value:o}),s.a.getInstance().eventManager.ReportComponentFailure(r,e,null,g),e}}}}function M(e,t,r,n,a){var i="ClientApi.XrmCommandObjectFactory.createXrmGrid";return{type:"clientapi.create.xrmgrid",sync:!0,execute:function(c,l){Object(F.g)(e,i,"contextToken"),Object(F.g)(t,i,"pageId");try{var u=c.dispatch(Object(P.c)(t,e));if(!u){if(3===n){var p=Object(E.s)(c.getState(),{id:t,controlName:a},e.parentContextToken);if(p){var d=c.dispatch(Object(P.b)(t,e.parentContextToken));return new T.a(c,e.parentContextToken,t,a,r,d,p,l)}(h=A.a.getInstance().getEventParameters(e)).push({name:"controlName",value:a}),h.push({name:"gridType",value:n}),s.a.getInstance().eventManager.ReportComponentFailure(i,new Error("Control descriptor could not be found for subgrid control"),null,h)}if(u=new I.a(c,e,t,r,n,!1,l,a),!e.parentContextToken&&e.contextTokenType===o.a.MainGrid)l.ClientApiManager.getClientApiEntry(t).primaryContextToken=e}return u}catch(t){var h;throw(h=A.a.getInstance().getEventParameters(e)).push({name:"controlName",value:a}),h.push({name:"gridType",value:n}),s.a.getInstance().eventManager.ReportComponentFailure(i,t,null,h),t}}}}function R(e,t,r,n){var a="ClientApi.XrmCommandObjectFactory.registerNewControl";return{type:"clientapi.create.xrmTimeline",sync:!0,execute:function(i,o){Object(F.g)(e,a,"contextToken"),Object(F.g)(t,a,"pageId"),Object(F.g)(r,a,"controlName"),Object(F.g)(n,a,"controlId");try{var c=i.dispatch(Object(P.b)(t,e.parentContextToken)),l=null;switch(r){case"notescontrol":if(!(l=i.dispatch(Object(P.f)(t,e)))){var u=Object(E.s)(i.getState(),{id:t,controlName:r},e.parentContextToken);l=new j.a(i,e.parentContextToken,t,u,r,n,c,o)}break;default:(p=A.a.getInstance().getEventParameters(e)).push({name:"controlName",value:r}),s.a.getInstance().eventManager.ReportComponentFailure(a,new Error("Failed to create and return the control"),null,p)}return l}catch(t){var p;throw(p=A.a.getInstance().getEventParameters(e)).push({name:"controlName",value:r}),s.a.getInstance().eventManager.ReportComponentFailure(a,t,null,p),t}}}}function L(e,t){var r="ClientApi.XrmCommandObjectFactory.createXrmKBSearch";return{type:"clientapi.create.xrmkbsearch",sync:!0,execute:function(n,a){Object(F.g)(e,r,"contextToken"),Object(F.g)(t,r,"pageId");try{var i=n.dispatch(Object(P.g)(t,e));if(!i&&(i=new w.a(n,e,t),!e.parentContextToken)){var o=a.ClientApiManager.getClientApiEntry(t);o.xrmInstance.Page=i,o.primaryContextToken=e}return i}catch(t){var c=A.a.getInstance().getEventParameters(e);throw s.a.getInstance().eventManager.ReportComponentFailure(r,t,null,c),t}}}}},LFYt:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return a}));var n=r("mVnn"),a="quickCreateForm.output";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function i(e,t){return{type:"quickCreateForm.output.async",execute:function(r){var i=r.dispatch,o=r.getState,s=Object(n.a)(o(),e)||[];return s.push(t),i(function(e,t){return{type:a,payload:{reason:"close",value:t},meta:{pageId:e}}}(e,s)),Promise.resolve(e)}}}},NJzV:function(e,t,r){"use strict";r.d(t,"b",(function(){return ur})),r.d(t,"a",(function(){return pr})),r.d(t,"d",(function(){return hr})),r.d(t,"c",(function(){return lr}));var n=r("c/eZ"),a=r("4E+q"),i=r("kyRo"),o=r("nuS9"),s=r("93Ls"),c=r("kGA3"),l=r("VnpK"),u=r("S2mk"),p=r("DRVD"),d=r.n(p),h=r("CCTC"),g=r("9r0m"),m=r("WS0f"),f=r("sOTk"),v=r("Nw1z"),b=r("HSdq"),y=r("riBC"),_=r("2OIc"),C=r("T2Xs"),S=r("Sscr"),O=r("UOiB"),I=r("QAhb"),T=r("yHpA"),j=r("JX21"),P=r("T4u8"),E=r("cZkS"),A=r("qC0c"),x="CustomControlFramework.Selectors.CustomControlHostContextTokenSelectors";function F(){var e=null,t=null,r=null;return function(n,a){C.a.info(a.controlId+"."+x+": createGetContextTokenSelector started");var i=a.parentContextToken,o=a.contextString,s=function(e,t){var r,n=t.parentContextToken,a=t.contextString,i=t.configuration,o=Object(_.e)(e,t.configuration.CustomControlId);if(Object(A.c)(e,E.J)&&Object(l.s)(o)&&function e(t,r){if(!r)return!1;if(r.contextTokenType===O.a.UnboundForm&&r.formId)return!(!Object(j.a)(t,r.formId)&&!Object(P.a)(t,r.formId));return e(t,r.parentContextToken)}(e,n))return r=S.p(n.parentContextToken,t.controlId);if("default"===a&&Object(l.s)(o)&&!Object(l.r)(t.configuration.Parameters)||Object(l.r)(t.configuration.Parameters)&&function(e){if(e.indexOf("ClientContextGridControl")>-1||e.indexOf("activeProcessGridControlContainer")>-1||e.indexOf("ManageDuplicatesGrid")>-1||e.indexOf("archivedProcessGridControlContainer")>-1)return!0;return!1}(t.controlId))return r=S.e(n,t.controlId);if(!t.formInfo&&i&&i.Parameters&&i.Parameters.value&&"TimelineWall"===i.Parameters.value.Type)return r=S.p(n,t.controlId);if(!t.formInfo&&Object(l.t)(t.configuration)){var s=function(e,t){var r=Object(f.g)(e,t.id),n=new I.a(r.entityTypeName,r.id||g.a.EMPTY),a=Object(b.ac)(e,t.id,t.parentContextToken),i=Object(T.d)(e,a,n,t.descriptor.DataFieldName),o=i?i.reference:null;return o?o.etn:Object(l.m)(t.descriptor)}(e,t);return r=S.l(n,t.controlId,s)}r=n;var c=t.descriptor&&t.descriptor.Relationship;c&&(r=S.m(r,c));return r}(n,a);return(r!==o||w(e,s)||w(t,i))&&(e=s,t=i,r=o),C.a.info(a.controlId+"."+x+": createGetContextTokenSelector finished"),e}}function w(e,t){return e&&t?e.entityTypeName!==t.entityTypeName||e.controlName!==t.controlName||(e.formId&&e.formId.guid)!==(t.formId&&t.formId.guid)||(e.recordId&&e.recordId.guid)!==(t.recordId&&t.recordId.guid)||e.relationshipName!==t.relationshipName:e!==t}var N=r("ZEX9"),k=r("Gemh"),D=r("OTOS"),M=r("WH9N"),R=r("L8Ie"),L=r("0hZT");function V(){var e={},t=!1;return function(r,n,a,i,o,s){C.a.info(n.controlId+".CustomControlFramework.Selectors.CustomControlHostPersonalizationInfoSelectors: createGetPersonalizationConfiguration started");var c=Object(f.a)(r,n),l=c&&c.id,u=e&&l&&l.guid&&(!e.recordGuid||e.recordGuid&&l.guid!==e.recordGuid.guid);if(!t||u){var p=Object(D.b)(r,n.id),d=g.a.equals(g.a.tryParse(a.UniqueId),g.a.EMPTY)?n.controlId:a.UniqueId;e=p&&s===M.a?function(e,t,r,n){return{areaType:"dashboard",entityTypeName:null,recordGuid:null,formGuid:r,controlUniqueId:n,viewId:void 0}}(0,0,p,d):p&&s===R.a?function(e,t,r,n){var a=Object(f.a)(e,t),i=a.entityTypeName,o=a.recordSetQueryKey;return{areaType:"dialog",entityTypeName:i,formGuid:r,controlUniqueId:n,viewId:o?o.split(",")[1]:void 0}}(r,n,p,d):p?function(e,t,r,n){var a=Object(f.a)(e,t),i=a.entityTypeName,o=a.recordSetQueryKey;return{areaType:"form",entityTypeName:i,recordGuid:a.id,formGuid:r,controlUniqueId:n,viewId:o?o.split(",")[1]:void 0}}(r,n,p,d):s===L.a?function(e,t,r,n){var a=Object(k.cb)(e,n,t);return{areaType:"grid",entityTypeName:r,viewId:a?a.split(",")[1]:void 0}}(r,n,i.entityTypeName,o):{areaType:null,entityTypeName:null,controlUniqueId:d,viewId:void 0},t=!0}return C.a.info(n.controlId+".CustomControlFramework.Selectors.CustomControlHostPersonalizationInfoSelectors: createGetPersonalizationConfiguration finished"),e}}var G=r("pmTS"),B=r("uQP8");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
function X(e,t,r,n,a){var i=Object(B.a)(e,t),o=a?"__hiddenCommandManagerIds":"__pendingCommandManagerIds",s=Object(S.v)(n);return i&&i[o]&&i[o][s]&&i[o][s][r]?i[o][s][r]:null}var U=r("pdGj"),z=r("vO+w"),q=r("xc1f"),W=d.a.createEvent("CustomControlHostSelectors.mapStateToProps",h.c),H=r("CSbt"),Q=r("hXUt"),Y=r("5Fed"),K=r("PQ2H"),J=r("Oqm9"),Z=r("lMVv"),$=r("Eoze"),ee=r("vYfn"),te=r("i8/j"),re=r("9KTg");function ne(e,t){return{type:re.a,payload:e,meta:{pageId:t}}}function ae(e){return{type:"execute.cleanreferencepanelstate.async",execute:function(t,r){var n=t.dispatch;t.getState;return n(function(e){return{type:re.b,payload:{},meta:{pageId:e}}}(e)),Promise.resolve()}}}function ie(e){return{type:"execute.closeallsessiontabs.async",execute:function(t,r){var n=t.dispatch,a=(0,t.getState)();return n(function(e,t){return{type:re.c,payload:e,meta:{pageId:t}}}({sessionTabs:[],activeTabId:Object(J.b)(a,e)},e)),Promise.resolve()}}}function oe(e,t){return{type:"execute.closesessiontab.async",execute:function(r,n){var a=r.dispatch,i=(0,r.getState)(),o=Object(J.d)(i,t),s=Object(J.a)(i,e,t);return o.splice(e,1),a(function(e,t){return{type:re.d,payload:e,meta:{pageId:t}}}({sessionTabs:o,activeTabId:s},t)),Promise.resolve()}}}function se(e){return{type:"execute.dismissmessage.async",execute:function(t,r){var n=t.dispatch;t.getState;return n(function(e,t){return{type:re.e,payload:{referencePanelState:t},meta:{pageId:e}}}(e,{messageId:""})),Promise.resolve()}}}function ce(e,t){return{type:"execute.initializereferencepanelcontrol.async",execute:function(r,n){var a=r.dispatch,i=r.getState,o=Object(J.c)(i(),t);if(e&&!(o.activeTabId&&o.controlNames.length>0))return a(function(e,t){return{type:re.f,payload:e,meta:{pageId:t}}}({controlNames:e.map((function(e){return e.Name})),activeTabId:e[0].Id},t)),Promise.resolve()}}}var le=r("sm1J");function ue(e,t){return{type:"execute.addsessiontab.async",execute:function(r,n){for(var a=r.dispatch,i=r.getState,o=Object(J.d)(i(),t),s=[],c=0;c<o.length;c++)o[c].id===e.id?s.push(e):s.push(o[c]);return a(function(e,t){return{type:re.h,payload:e,meta:{pageId:t}}}({sessionTabs:s},t)),Promise.resolve()}}}var pe=r("kvLG"),de=r("w/nD");var he=r("oj0s"),ge=r("qIF7"),me=r("I6xF"),fe=r("ObKm"),ve=r("g9bv"),be=r("jJRu"),ye=r("GHPx"),_e=r("cAHA");var Ce=r("h82J"),Se=r("pdOk"),Oe=r("RXRQ"),Ie=r("gBKR"),Te=r("EcZf"),je=r("bCrZ"),Pe=r("olrR"),Ee=r("OROb"),Ae=r("HEkv"),xe=r("HfRC"),Fe=r("evh6"),we=r("ya7l"),Ne=r("12n8"),ke=r("4fxQ"),De=r("wYyS");var Me=r("otMa");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
var Re=function(){function e(e,t){this.Target=e,this.FieldName=t}return e.prototype.getMetadata=function(){return{boundParameter:null,operationName:"CalculateRollupField",operationType:1,parameterTypes:{Target:{typeName:"Microsoft.Dynamics.CRM.crmbaseentity",structuralProperty:5},FieldName:{typeName:"Edm.String",structuralProperty:1}}}},e}(),Le=r("qYad"),Ve=r("UR8A"),Ge=r("j6Db");var Be=r("EGsq");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */var Xe=r("969l"),Ue=r("mGpW"),ze=r("Ww2r");var qe=r("XjtF");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function We(e,t){return{type:"customcontrol.loadresources.async",execute:function(r,n){r.dispatch;var a=r.getState;return function(e,t,r,n){var a=Object(Be.t)(t);return r.initializeContainerForClientApi(n).then((function(t){return t.loadWebResources([Object(Be.a)(a,e)]).then((function(){return{container:t,webResourcePath:a}}))}))}(e,a(),n.ScriptManager,t)}}}var He=r("EwXg");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */var Qe=r("n1Ju"),Ye=r("zsi3"),Ke=r("c7nC"),Je=r("F2uj");var Ze=r("8Fmj"),$e=r("w82B"),et=r("y5DA"),tt=r("RwQN"),rt=r("T0dC"),nt=r("/SAa"),at=r("o5EQ"),it=r("8VL5"),ot=r("cqI9"),st=r("Zdrd"),ct=r("Yc9S"),lt=r("0rak"),ut=r("G7N+"),pt=r("/j9Z"),dt=r("sgPk"),ht=r("TCcM"),gt=function(){function e(e,t,r){this.Target=e,this.Query=t,this.RollupType=r}return e.prototype.getMetadata=function(){return{boundParameter:null,operationName:"Rollup",operationType:1,parameterTypes:{Target:{typeName:"Microsoft.Dynamics.CRM.crmbaseentity",structuralProperty:5},Query:{typeName:"Microsoft.Dynamics.CRM.QueryBase",structuralProperty:2},RollupType:{typeName:"Microsoft.Dynamics.CRM.RollupType",structuralProperty:3,enumProperties:[,{name:"None",value:0},{name:"Related",value:1},{name:"Extended",value:2}]}}}},e}(),mt=r("Ia1G"),ft=r("CO6B"),vt=r("2IT6"),bt=r("ak18");function yt(e,t){void 0===t&&(t=!1);var r=[];return{type:"gridData.retrieve.rollup.async",execute:function(n,a){var i=n.dispatch,o=n.getState,s=o(),c=e.key,l=dt.a.fromState(e,o),u=Object(ht.u)(s,c,l.pageNumber-1);return u&&(l.pagingCookie=u),r.push({name:bt.a,value:Object(bt.e)(e)}),r.push({name:"isRefresh",value:t}),i(function(e,t,r){var n;void 0===r&&(r=!1);var a={lists:(n={},n[e]={initialized:r?ut.a.Refreshing:ut.a.Initializing,pageSize:t},n)};return{type:"gridData.retrieve.rollup",payload:a}}(c,l.pageSize,t)),function(e,t,r){return r.toQueryExpression(e,t).then((function(n){return t(Object(mt.b)(new gt(I.a.toExternalEntityReference(r.target),n,r.rollupType))).then((function(n){return Object(vt.g)(n).then((function(n){return function(e,t,r,n){var a=r.getKeyQuery(),i=Object(ft.e)(a),o=Object(Ie.e)(i.entity2AttributesMap);return t(o).then((function(){var t=e();return Object(ft.a)(t,a,i,n)}))}(e,t,r,n)}))}))}))}(o,i,l).then((function(e){s=o(),i(Object(Te.e)(s,i,c,l,e))})).catch((function(e){Object(pt.b)(e)}))},getFailureParameters:function(e,t){return r},getSuccessParameters:function(e,t,n){return r}}}var _t=r("AVer"),Ct=r("Z46F"),St=r("slAZ");function Ot(e,t,r,n,a){var i="",o="";if(n&&n.message&&(i=n.message),n&&n.errorCode){var s=a||Ge.a,c=function(e){return r.EventManager.ReportComponentFailure(s,e,null,[{name:"hexErrorCode",value:o},{name:"errorStatus",value:JSON.stringify(n)},{name:"customControlId",value:a},{name:"APIName",value:Ge.a+".Actions.RefreshDataSetParameter.getErrorMessage"}]),Promise.resolve(o+" "+i)};try{var l="Error_Title_"+(o="0x"+Ct.a.getHexErrorCodeFromInt(n.errorCode)),u="Error_Message_"+o,p="Localized resource strings not found for neither "+l+" nor "+u+".  Please add error resources for error code "+o,d=e(Object(Ue.e)([l])).catch((function(){})),h=e(Object(Ue.e)([u])).catch((function(){}));return Promise.all([d,h]).then((function(){var e=Object(ze.e)(t(),[l,u]),r=Object(ze.c)(e,l),n=Object(ze.c)(e,u),a="";return(a=function(e){return"0x8005f211"===(null==e?void 0:e.toLowerCase())}(o)?r+(r&&n?": ":"")+n:r||n)?Promise.resolve(o+" "+a):c(p)}))}catch(e){return c(e)}}return Promise.resolve(o+" "+i)}function It(e,t){if(e instanceof nt.a)(r=e.getLatestData()).loading=!0,e.setRefreshingStart();else if(e instanceof at.a||e instanceof rt.a){var r;(r=e.getLatestData())&&(r.working=!0,at.a,e.setWrapperLoadingFlag(!0))}return{type:"customcontrol.refreshDataSetParameter.async",execute:function(r,n){var a=r.dispatch,i=r.getState;if(e instanceof tt.a){var o={retrieveGridDataAction:function(e){return a(Object(Te.d)(e))},retrieveViewAction:function(e,t,r,n){return a(Object(Pe.a)(e,t,r,n))},retrieveViewSelectorAction:function(e,t){return a(Object(Pe.b)(e,t))},runPreSearch:function(e,r,n){return a(Object(de.W)(t,e,r,n))},runSetAdditionalParams:function(e,r,n){return a(Object(de.X)(t,e,r,n))},refreshCustomDataProviderAction:function(e,t,r,n){return a(Object(it.b)(e,t,r,n))},retreiveChartAction:function(e,t,r){return a(Object(Ze.a)(e,t,r))},retreiveChartDataAction:function(e,t,r,n){return void 0===n&&(n=!0),a(Object($e.a)(e,t,r,n))},updateDataSetChartVisualizationId:function(e,t,r){return a(Object(ot.b)(e,t,r))},updateDataSetChartVisualizationType:function(e,t,r){return a(Object(st.b)(e,t,r))},getEntityMetadataAction:function(e,t){return a(Object(Ie.f)(e,!1,t))},getLocalizedErrorMessage:function(e,t){return Ot(a,i,n,e,t)},updateChartFilterExpression:function(e,t,r){return a(Object(ct.c)(e,t,r))},updateChartDrillDownParameters:function(e,t,r){return a(Object(lt.c)(e,t,r))},updateChartErrorInformation:function(e,t,r,n){Object(et.a)(e,a,t,r,n)}};return e.refreshDataSet(i,o,n)}var s={retrieveGridDataAction:function(e){return Object(m.a)(e.rollupType)?a(Object(Te.d)(e)):a(yt(e))},retrieveViewAction:function(e,t,r,n){return a(Object(Pe.a)(e,t,r,n))},retrieveViewSelectorAction:function(e,t){return a(Object(Pe.b)(e,t))},runPreSearch:function(e,r,n){return a(Object(de.W)(t,e,r,n))},runSetAdditionalParams:function(e,r,n){return a(Object(de.X)(t,e,r,n))},startCustomFilter:function(e,t,r){return a(Object(St.f)(e,t,r))},endCustomFilter:function(e,t,r){return a(Object(St.e)(e,t,r))},refreshCustomDataProviderAction:function(e,t,r,n){return a(Object(it.b)(e,t,r,n))},getEntityMetadataAction:function(e,t){return a(Object(Ie.f)(e,!1,t))},getLocalizedErrorMessage:function(e){return Ot(a,i,n,e)},getAdditionalResourceStrings:function(e){return a(Object(Ue.e)(e))},addCustomViewAction:function(e,t,r,n,i,o,s,c){return a(Object(_t.a)(e,t,r,n,i,o,s,c))},setOfflineQueryAction:function(e){return a(Object(_t.b)(e))}};return e.refreshDataSet(i,s,n)}}}var Tt=r("IQF2");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */var jt=r("bH46"),Pt=r("VZmd");var Et=r("yrP7"),At=r("vqdi"),xt=r("LBS5"),Ft=r("XJ3n");var wt=r("zvr0"),Nt=r("nIt0"),kt=r("455M");var Dt=r("uO/V"),Mt=r("oY7N");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
function Rt(e,t,r){if(r.dataSetUIOptions){var n=e+t.id,a=t.contextString;switch(t.contextString){case Dt.h.ASSOCIATEDGRID:case Dt.h.SUBGRID:case Dt.h.GRID:break;case Dt.h.CUSTOM:default:a=Dt.h.CUSTOM}return o.createElement(Mt.a,{key:n,id:t.id,systemDefinedProperties:t.systemDefinedProperties,controlId:t.controlId,configuration:t.configuration,descriptor:t.descriptor,formInfo:t.formInfo,themingData:t.themingData,parentDefinedControlProps:t.parentDefinedControlProps,children:t.children,rowSpan:t.rowSpan,contextString:a,parentContextToken:t.parentContextToken,dataSetUIOptions:r.dataSetUIOptions})}return o.createElement(lr,{key:e,id:t.id,systemDefinedProperties:t.systemDefinedProperties,controlId:t.controlId,configuration:t.configuration,descriptor:t.descriptor,formInfo:t.formInfo,themingData:t.themingData,parentDefinedControlProps:t.parentDefinedControlProps,children:t.children,rowSpan:t.rowSpan,contextString:t.contextString,parentContextToken:t.parentContextToken})}var Lt=r("RB3d");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function Vt(e){if(e){if(e instanceof I.a)return e;var t,r=e.entityName||e.LogicalName;return t=g.a.fromLegacyGuid(e.Id),g.a.isNullOrEmpty(t)&&(t=new g.a(e.id||e.Id)),new I.a(r,t,Object(m.a)(e.name)?e.Name:e.name)}}
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function Gt(e,t,r,n){return n&&n.DisplayName&&"partylist"!==n.Type&&Object(jt.b)(e,t,r,n)&&n.IsValidForAdvancedFind}var Bt=r("q6M9"),Xt=r("IUjT"),Ut=r("eYbs"),zt=r("RlP9"),qt=function(){function e(){}return e.prototype.convert=function(e,t,r){var n=(new DOMParser).parseFromString(e,"text/xml"),a=this._firstElementChild(n),i=this._childElements(a);if(!i)return null;for(var o=[],s=0,c=i;s<c.length;s++){for(var l=c[s],u=[],p=0,d=this._childElements(l);p<d.length;p++){var h=d[p];u.push(this._getGridCellDescriptor(h))}o.push(this._getGridRowDescriptor(l,u))}var g=this._getGridDescriptor(a,o,r);return this._populateRelationshipInformation(g,t),g},e.prototype._attributeValueBoolean=function(e,t){return"1"===this._attributeValueString(e,t,"")},e.prototype._attributeValueString=function(e,t,r){var n=e.attributes.getNamedItem(t);return n&&n.value||r},e.prototype._attributeValueInt=function(e,t,r){var n=this._attributeValueString(e,t,r+"");return parseInt(n,10)},e.prototype._childElements=function(e){return e?e.children?Array.from(e.children):e.childNodes?Array.from(e.childNodes).filter((function(e){return e.nodeType===Node.ELEMENT_NODE})).map((function(e){return e})):null:null},e.prototype._getGridCellDescriptor=function(e){return{name:this._attributeValueString(e,"name",""),width:this._attributeValueInt(e,"width",0),relatedEntityName:this._attributeValueString(e,"relatedentityname",""),disableMetaDataBinding:this._attributeValueBoolean(e,"disableMetaDataBinding"),labelId:this._attributeValueString(e,"LabelId",""),isHidden:this._attributeValueBoolean(e,"ishidden"),disableSorting:this._attributeValueBoolean(e,"disableSorting"),addedBy:this._attributeValueString(e,"addedby",""),desc:this._attributeValueString(e,"desc",""),cellType:this._attributeValueString(e,"cellType",""),imageProviderWebresource:this._attributeValueString(e,"imageproviderwebresource",""),imageProviderFunctionName:this._attributeValueString(e,"imageproviderfunctionname","")}},e.prototype._getGridRowDescriptor=function(e,t){return{name:this._attributeValueString(e,"name",""),id:this._attributeValueString(e,"id",""),cells:t,multiObjectIdField:this._attributeValueString(e,"multiobjectidfield",""),layoutStyle:this._attributeValueString(e,"layoutstyle","")}},e.prototype._getGridDescriptor=function(e,t,r){return{name:this._attributeValueString(e,"name",""),object:r,rows:t,customControlDescriptions:null,jump:this._attributeValueString(e,"jump",""),select:this._attributeValueBoolean(e,"select"),icon:this._attributeValueBoolean(e,"icon"),preview:this._attributeValueBoolean(e,"preview"),iconrenderer:this._attributeValueString(e,"iconrenderer","")}},e.prototype._firstElementChild=function(e){if(!e)return null;if(e.firstElementChild)return e.firstElementChild;var t=this._childElements(e);return t&&t[0]},e.prototype._populateRelationshipInformation=function(e,t){var r=(new DOMParser).parseFromString(t,"text/xml"),n=this._firstElementChild(r),a=this._firstElementChild(n),i=this._childElements(a);if(i)for(var o=0,s=i;o<s.length;o++){var c=s[o];"link-entity"===c.nodeName&&this._attributeValueString(c,"alias","")&&this._attributeValueString(c,"name","")&&this._setRelatedEntityName(e,this._attributeValueString(c,"alias",""),this._attributeValueString(c,"name",""))}},e.prototype._setRelatedEntityName=function(e,t,r){for(var n=0;n<e.rows.length;n++)for(var a=0;a<e.rows[n].cells.length;a++){var i=e.rows[n].cells[a].name;(i?i.substring(0,i.indexOf(".")):void 0)===t&&(e.rows[n].cells[a].relatedEntityName=r)}},e}(),Wt=r("bIXa"),Ht=r("r0s4");function Qt(e,t,r,n,a,i,o,s){return void 0===t&&(t=!1),{type:"populateAndSend.LookupData.Action",sync:!0,execute:function(c,l){var u=c.dispatch,p=(0,c.getState)(),d=a||e.LookupEntityByName[0].EntityLogicalName,h=Object(Xt.f)(p,d,o,n),m=[];if(s){var v=s.split("."),y=Object(f.g)(p,n),_=void 0,C=Object(b.ac)(p,n,r),S=Object(T.b)(p,C);_=S&&S.activeChanges&&S.activeChanges[v[1]]?S.activeChanges[v[1]]:Object(ht.j)(p,new I.a(v[0],y.id),v[1]),e.RelatedRecordId=_&&_.reference&&_.reference.id}if(e.LookupEntityByName&&e.LookupEntityByName.length)for(var O=Object(b.eb)(p,n,r),j=O&&O[i],P=0,E=e.LookupEntityByName;P<E.length;P++){var A=E[P],x=Object(Wt.b)(p,n,r,i,A.EntityLogicalName);if(x&&(A.CustomFilter=Object(Ht.CrmHtmlDecode)(x).replace(/"/g,"'")),h){var F=Object(Ut.a)(p,h,A.EntityLogicalName);F&&F.view&&(g.a.equals(F.view.viewId,A.ViewId)||Object(zt.c)(p,A.ViewId))||m.push(u(Object(Pe.a)(A.EntityLogicalName,null,null,A.ViewId)))}var w=j&&j.parameters&&j.parameters.defaultviewid;if(j&&j.views&&j.views[w]&&j.views[w].entityLogicalName===A.EntityLogicalName){A.ViewId=null,A.FetchXml=j.views[w].fetchXML.replace(/"/g,"'");var N=Object(Z.h)(p,A.EntityLogicalName),k=new qt;A.LayoutJson=JSON.stringify(k.convert(j.views[w].layoutXML,j.views[w].fetchXML,N.ObjectTypeCode)).replace(/"/g,"'")}}var D=Object(Bt.b)(p,d,e),M=Object(ht.o)(p,D);t=t||M===ut.a.Initialized,m.push(u(Object(Bt.d)(e,t)));var R=function(e,t,r,n,a){var i,o,s={},c=n||r.EntityAndAttribute&&r.EntityAndAttribute.EntityName,l=a||r.EntityAndAttribute&&r.EntityAndAttribute.AttributeName;if(!c&&!l)return null;c||(c="placeholderEtn");if(r.LookupEntityByName)for(var u=0,p=r.LookupEntityByName;u<p.length;u++){var d=p[u];s[d.EntityLogicalName]=Object(Bt.b)(e,d.EntityLogicalName,r)}var h=Object(Bt.c)(e,r);return{type:"update.lookupRequestDataKey",payload:(i={},i[c]=(o={},o[l]={metadataKey:h,dataKeys:s},o),i),meta:{pageId:t}}}(p,n,e,a,o);return R&&u(R),Promise.all(m)}}}var Yt=r("kRDR"),Kt=r("CcDq");var Jt,Zt,$t,er,tr=r("feNe"),rr=r("aBa1");function nr(e,t){return{openEditForm:function(r,n,a,i,o){var s=Vt(r);e(n?Object(xe.a)(s,t.id,void 0,void 0,n,a,i,o):Object(xe.a)(s,t.id))},openGridPage:function(r,n,a,i,o,s,c,l){e(Object(Fe.a)(r,t.id,g.a.tryParseOrNull(n),a,i,g.a.tryParseOrNull(o),s,null,l,c))},openCreateForm:function(r,n,a){e(Object(ee.b)(new I.a(r),null,"QuickCreate")).then((function(i){e(Object(ge.b)(r,t.id,null,n,Vt(a)))})).catch((function(a){e(Object(xe.a)(new I.a(r),t.id,void 0,n))}))},openSearch:function(r){e(Object(Ne.a)(r,null,t.id))},openPowerBIFullScreenPage:function(r,n,a,i,o,s,c){e(Object(we.a)(t.id,r,n,a,i,o,s,c))},openDashboard:function(e){},openUrl:function(e,t){},openUrlWithProtocol:function(e,t){},openPhoneNumber:function(r,n,a,i,o,s,c,l,u,p,d){return void 0===p&&(p=!1),void 0===d&&(d=!0),e(function(e,t,r,n,a,i,o,s,c,l,u,p){return void 0===u&&(u=!1),void 0===p&&(p=!0),{type:"customcontrol.openphonecall",execute:function(d,h){var m=e.trim(),f=Object(Be.x)(d.getState()).defaultCountryCode;0!==m.indexOf("tel:")?(f&&(m=f+m),m="tel:"+m):f&&(m=m.slice(0,4)+f+m.slice(4));var v,b=new Kt.a(h,d);h.ScriptManager.containerExists(Yt.d)&&(v=h.GlobalCustomEventManager);var y=function(){if(u){var c=null,l={};if(t){c=new I.a(r,new g.a(t));var p={id:t,entityType:r,name:n},h=p;i&&(h={id:i,entityType:o,name:s}),l.contactinfo=e,l.to=[p],l.regardingobjectid=h}return d.dispatch(Object(ge.b)("phonecall",a,null,l,c,null,{entityName:"phonecall",showDialog:!0}))}};return b.canOpenUri(m).then((function(e){if(p&&v&&d.dispatch(v.runOnOpenUrl(a,m,l,c)))return null;var t=Object(A.c)(d.getState(),E.C);e?(b.openUri(m),t&&y()):u&&t&&y()}),(function(){return null}))},shouldReceiveFullStore:!0}}
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */(r,a,n,i,t.id,s,o,c,l,u,p,d))},openMaps:function(e){},openMap:function(e){}}}var ar=r("6Tlt"),ir=r("lU69"),or=r("Wg6j"),sr=r("uGUB"),cr=Object(a.a)((function(){var e,t={},r=null,a={},i={},o={},s=!1,c="",p=null,d={},h=!1,S="",O=!1,I={stateToPropsMappingError:!1,dynamicData:null,manifest:null,personalizationState:null,propBagData:null,pageType:null,popupStack:null,contextToken:null,portalFlyoutToDialogId:null,designLanguage:null,inactive:!1},T=-1,j=-1,P=Object(N.a)(),E=Object(G.a)(),A=V(),x=F();return function(F,w){C.a.info(w.configuration.CustomControlId+".CustomControlFramework.Selectors.CustomControlHostSelectors: makeMapStateToProps started");var N,k,D,M,R,L=W.startStopwatch({controlId:w.controlId,parentId:Object(l.p)(w),level:(0).toString()}),V=[],G=!1,B=null,H=null,Q=null,Y=null,K=null,J=null,Z=null,$=null,ee=null,te=null,re=!1,ne=null,ae=null,ie=null,oe=!1;try{var se=null;w.formInfo?(p&&d.EntityName===w.formInfo.EntityName&&d.RecordId===w.formInfo.RecordId&&d.FormId===w.formInfo.FormId||(p={id:w.formInfo.RecordId?new g.a(w.formInfo.RecordId):null,formId:w.formInfo.FormId?new g.a(w.formInfo.FormId):null,entityTypeName:w.formInfo.EntityName},d=w.formInfo),se=p):se=Object(f.g)(F,w.id),H=w.descriptor,Q=w.configuration,D=Object(v.b)(F),N=Object(f.l)(F,w.id),Object(f.f)(F,w.id)&&(R="DialogContainer__"+w.id),!R&&w.parentDefinedControlProps&&w.parentDefinedControlProps.parentFlyoutId&&(R=w.parentDefinedControlProps.parentFlyoutId),N&&(k=x(F,w));var ce=Object(b.kb)(F,w,k),le=Q;if(null!==w.systemDefinedProperties){var ue=Object(n.__assign)(Object(n.__assign)({},Q.Parameters),w.systemDefinedProperties);le=Object(n.__assign)(Object(n.__assign)({},Q),{Parameters:ue})}if(!(Y=Object(_.e)(F,Q.CustomControlId)||Object(_.e)(F,Q.Name))||!Y.ConstructorName){Y=null;var pe=Object(u.h)(Q.CustomControlId);pe!==Q.CustomControlId&&(Y=Object(_.e)(F,pe))}Y&&(Z=($=E(F,Y,se,ce,w.contextHelper)).response,te=(K=(J=P(le,H,w,F,se,k)).response)&&K.dataReady?A(F,w,H,se,k,N):null,ee=Object(y.a)(F,te,Y.CustomControlId,w.id));var de=X(F,w.id,w.controlId,k);de&&(re=de.every((function(e){return Object(U.b)(F,e)}))),M=X(F,w.id,w.controlId,k,!0),ae=w.parentDefinedControlProps&&!Object(m.a)(w.parentDefinedControlProps.height)?w.parentDefinedControlProps.height:-1,ne=w.parentDefinedControlProps&&!Object(m.a)(w.parentDefinedControlProps.width)?w.parentDefinedControlProps.width:-1,ie=Object(z.b)(F)?Object(z.a)(F):null,oe=function(e,t,r,n){return Object(f.l)(e,t)===q.a&&!Object(b.Fb)(e,t,r,n)}(F,w.id,k,w.descriptor.Name)}catch(e){var he=Y.ConstructorName;C.a.error(he+": makeMapStateToProps encountered error, err "+e,[{name:"ApiName",value:"CustomControlFramework.Selectors.CustomControlHostSelectors"},{name:"controlId",value:w.controlId},{name:"customControlId",value:Y.CustomControlId},{name:"manifest",value:JSON.stringify(Y)},{name:"descriptor",value:JSON.stringify(H)},{name:"configuration",value:JSON.stringify(Q)},{name:"error.Stack",value:JSON.stringify(e.stack)}]),G=!0,B=e.toString()+". Stack: "+e.Stack}return r&&(V=V.concat(function(e,t){var r=[];return e.Disabled!==t.Disabled&&r.push("IsControlDisabled"),e.Label!==t.Label&&r.push("Label"),r}(H,r))),r=w.descriptor,K!==a||Y!==t||Z!==i||te!==o||G!==s||N!==c||re!==h||M!==e||ae!==j||ne!==T||R!==S||ie!==I.designLanguage||oe!==O?(ae===j&&ne===T||V.push("layout"),J&&(V=V.concat(J.updatedProperties)),$&&(V=V.concat($.updatedProperties)),ie!==I.designLanguage&&V.push("design"),I={stateToPropsMappingError:G,stateToPropsMappingErrorMessage:B,dynamicData:K,manifest:Y,personalizationState:ee,propBagData:Z,children:Q&&Q.Children,personalizationConfiguration:te,pageType:N,popupStack:D,contextToken:k,updatedProperties:V,globalCommandManagerInitialized:re,internalCommandManagerIds:M,portalFlyoutToDialogId:R,designLanguage:ie,inactive:oe},h=re,e=M,S=R,s=G,i=Z,t=Y,a=K,o=te,c=N,j=ae,T=ne,O=oe):I.updatedProperties=V,L({updatedProperties:JSON.stringify(V)}),C.a.info(w.configuration.CustomControlId+".CustomControlFramework.Selectors.CustomControlHostSelectors: makeMapStateToProps finished"),I}}),(function(){var e;return function(t,r){if(e)return e;var n=nr(t,r);return Jt={setNotification:function(e,r,n,a,i,o,s){return t(function(e,t,r,n,a,i,o){return{type:"customcontrol.propertybag.mode.setnotification",execute:function(s,c){var l=s.dispatch,u=s.getState,p={uniqueId:t||"",messages:[e],priority:0,notificationLevel:Ye.a.error,actions:[{actions:[function(){}],message:""}]};l(Object(Qe.b)(r,n,p,a));var d=u(),h=new I.a(i,g.a.fromExternalGuid(o)),m=Object(Je.a)(d,h.etn,n);return h&&m&&(2===m.RequiredLevel||1===m.RequiredLevel)&&l(Object(Ke.b)(r,n,!1,a)),!0},sync:!0}}(e,r,n,a,i,o,s))},clearNotification:function(e,r,n,a,i,o){return t(function(e,t,r,n,a,i){return{type:"customcontrol.propertybag.mode.clearnotification",execute:function(n,a){var o=n.dispatch,s=n.getState,c=Object(b.A)(s(),{controlName:t,id:e},r);if(c){i=i||"";for(var l=Object.keys(c),u=null,p=l.length-1;p>-1;--p)l[p]===i&&((u=c[l[p]]).actions=null,u.messages=null,u.notificationLevel=null,o(Object(Qe.b)(e,t,u,r)))}return!0},sync:!0}}(e,r,n,0,0,o))}},$t={setState:function(e){return!0},logMessage:function(e,r,n){t(function(e,t,r){return{type:"customcontrol.log",execute:function(n,a){n.dispatch,n.getState;var i=a.TraceManager.getTracer("customcontrol"),o=e+": "+t;switch(r){case He.a.Error:i.error(o);break;case He.a.Info:i.info(o);break;case He.a.Warning:i.warn(o);break;case He.a.Verbose:i.debug(o)}},sync:!0}}(e,r,n))}},Zt={isGetBarcodeValueOperationAvailable:function(){return t(Object(Me.c)())},isTakePictureOperationAvailable:function(){return t(Object(Me.e)())},isCaptureVideoOperationAvailable:function(){return t(Object(Me.b)())},isCaptureAudioOperationAvailable:function(){return t(Object(Me.a)())},isOpenARViewerAvailable:function(){return t(Object(Me.d)())}},er={clearNestedChild:function(e){return!0},createAccessibilityComponent:Lt.a,createCommandManagerUXComponent:function(){var e=null;return function(t){var r=pr(t);return hr(e,t.selectedRecords)?r.selectedRecords=e:e=r.selectedRecords,ur(r)}},createKeyboardShortcut:Lt.b,createXrmForm:function(e,r,n,a){return function(e,t,r,n,a){return!!e(Object(xt.b)(t,r,n,new g.a(a)))}(t,e,r,n,a)},createXrmGrid:function(e,r,n,a){var i=[O.a.AssociatedGrid,O.a.CustomGrid,O.a.SubGrid,O.a.MainGrid];if(e&&-1===i.indexOf(e.contextTokenType))for(var o in n)if("Grid"===n[o].Type){var s=n[o];t(Object(je.c)(s.TargetEntityType||s.EntityName,s.ViewId,r,e));break}return function(e,t,r,n,a){var i=Object(k.vb)(n);if(t){var o=void 0;switch(t.contextTokenType){case O.a.SubGrid:o=3;break;case O.a.AssociatedGrid:o=2;break;case O.a.MainGrid:case O.a.CustomGrid:o=1;break;default:var s=[{name:"contextToken",value:JSON.stringify(t)},{name:"controlName",value:a},{name:"isEditableGrid",value:i}];pe.a.getInstance().eventManager.ReportComponentFailure("ClientApi.XrmCommandObjectWrapper.createXrmGridWrapper",new Error("Unknown context token type for grid"),null,s),o=1}return!!e(Object(xt.c)(t,r,i,o,a))}return!0}(t,e,r,n,a)},registerNewControl:function(e,r,n,a){return function(e,t,r,n,a){return!!e(Object(xt.e)(t,r,n,a))}(t,e,r,n,a)},executeAddOnLoad:function(e,r){t(function(e,t){return{type:"customcontrol.executeAddOnLoad.async",sync:!0,execute:function(r,n){var a=r.dispatch;r.getState,e.gridRunOnLoad((function(e,r,i){if(n.ScriptManager.containerExists(e)){var o=n.ScriptManager.getContainer(e).getEventManager();a(o.runOnGridDataLoad(t,1,i,r))}}))}}}(e,r))},addSessionTab:function(e,r){return t(function(e,t){return{type:"execute.addsessiontab.async",execute:function(r,n){var a=r.dispatch,i=(0,r.getState)(),o=Object(J.d)(i,t),s=!0;if(e){if(o.forEach((function(t){e.id===t.id&&(s=!1)})),s){if("quickViewFormTab"===e.type){var c=!1,l=e,u=Object(K.a)(6),p=Object(Z.E)(i,l.entityFormOptions.entityName),d=void 0;d=i.data.entities.activitypointer&&i.data.entities.activitypointer.hasOwnProperty(l.entityFormOptions.entityId)?Object(b.ec)(i,"activitypointer",new g.a(l.entityFormOptions.entityId)):Object(b.ec)(i,l.entityFormOptions.entityName,new g.a(l.entityFormOptions.entityId));var h=new I.a(l.entityFormOptions.entityName,new g.a(l.entityFormOptions.entityId)),m=[];if(!d){var f=a(Object($.d)(h,[p]));m.push(f)}var v=Object(te.h)(i,l.entityFormOptions.entityName,u);if(g.a.isNullOrEmpty(v)){var y=a(Object(ee.b)(h,null,u)).then((function(e){v=e,g.a.isNullOrEmpty(v)||v===ee.a||(c=!0)}));m.push(y)}else c=!0,l.entityFormOptions.formId=v.guid;Promise.all(m).then((function(){l.entityFormOptions.formId=c?v.guid:"",l.entityMetadata={DisplayName:i.metadata.entities[l.entityFormOptions.entityName].DisplayName},i.data.entities.activitypointer&&i.data.entities.activitypointer.hasOwnProperty(l.entityFormOptions.entityId)?l.title=Object(b.ec)(i,"activitypointer",new g.a(l.entityFormOptions.entityId)):l.title=Object(b.ec)(i,l.entityFormOptions.entityName,new g.a(l.entityFormOptions.entityId)),o.unshift(l),a(ne({sessionTabs:o,activeTabId:l.id,messageId:c?"":"quick_view_form_not_exist_message"},t))}))}else o.unshift(e),a(ne({sessionTabs:o,activeTabId:e.id},t));return Promise.resolve()}a(ne({sessionTabs:o,activeTabId:e.id},t))}}}}(e,r))},closeSessionTab:function(e,r){return t(oe(e,r))},updateSessionTab:function(e,r){return t(ue(e,r))},closeAllSessionTabs:function(e){return t(ie(e))},dismissMessage:function(e){return t(se(e))},markActiveTab:function(e,r,n){return t(Object(le.b)(e,r,n))},initializeReferencePanelControl:function(e,r){return t(ce(e,r))},cleanReferencePanelState:function(e){return t(ae(e))},executeNotifyHandlersThatEventOccurred:function(e){return t(function(e){return{type:"execute.notifyhandlersthatevenoccurred.async",execute:function(t,r){var n=t.dispatch,a=t.getState,i=null;try{switch(e.eventName){case"onresultopened":n(Object(de.U)(e.contextToken,e.pageId,e.fieldName,e.record));break;case"onselection":n(Object(de.V)(e.contextToken,e.pageId,e.fieldName,e.record));break;case"onpostsearch":n(Object(de.S)(e.contextToken,e.pageId,e.fieldName,e.record));break;case"onlookuptagclick":var o=e.contextToken,s=e.fieldName,c=e.record,l=!1,u=Object(de.u)("ClientApi.ExecuteNotifyHandlersThatEventOccurred.runOnLookupTagClick",a(),r,e.pageId,c);u&&(l=n(u.runOnLookupTagClick(o,s,null,c,a()))),i=l}return Promise.resolve(i)}catch(e){throw pe.a.getInstance().eventManager.ReportComponentFailure("ClientApi.ExecuteNotifyHandlersThatEventOccurred.executeNotifyHandlersThatEventOccurred",e),e}}}}(e))},getConnectorsApi:function(e){return null},executeRollupRequest:function(e,r,n){return t(function(e,t,r){return{type:"customcontrol.executeRollupRequest.async",execute:function(n,a){var i=n.dispatch;if(n.getState,e&&t){var o=new Re(e,t),s=Ve.a.execute(o).then((function(e){return e.json()})).then((function(n){if(n){var o=[];for(var s in n)-1!==s.indexOf("@")||s.startsWith("_")||o.push(s);var c=new I.a(e.entityType,g.a.fromExternalGuid(e.id));return i(Object(Le.a)(r,c,o)).then((function(){a.EventManager.ReportComponentSuccess(Ge.a+".Action",[{name:"APIName",value:Ge.a+".Action.ExecuteRollupRequest"},{name:"target.entityType",value:e.entityType}])}),(function(r){a.EventManager.ReportComponentFailure(Ge.a+".Actions",r,"refreshRecordData failure error message",[{name:"APIName",value:Ge.a+".Actions.ExecuteRollupRequest"},{name:"target.entityType",value:e.entityType},{name:"target.id",value:e.id},{name:"fieldName",value:t},{name:"jsonResponse",value:n}])}))}}));return Ve.a.Diagnostics.traceInfo(Ge.a+".refreshRecordData","refresh record data return promise"),s}return Promise.resolve()}}}(e,r,n))},getResource:function(e){return t(function(e){return{type:"customcontrol.getresources.async",execute:function(t,r){t.dispatch;var n=t.getState,a=r.AssetLoader,i=n(),o=Object(Be.t)(i);if(3===e.Type||2===e.Type)return a.loadRawData(o+e.Name)}}}(e))},getRecordSetQueryKey:function(e){return e?e.getPreviousQueryKey():null},loadResources:function(e){return t(Object(qe.a)(e))},triggerOfflineMetadataSync:function(){return t(Object(Se.h)())},retrieveFormWithAttributes:function(e,r,n){return t(Object(jt.c)(new I.a(e),g.a.tryParse(r),n))},loadManifest:function(e,r){return t(Object(Oe.c)(e,r))},updateOutputs:function(e,r,n,a,i,o,s){return t(function(e,t,r,n,a,i,o){return{type:"outputs.update",execute:function(s,c){var l=s.dispatch,u=s.getState;try{var p={},d={};if(i)for(var h=0,g=Object.keys(i);h<g.length;h++){var m=g[h],f=i[m],v=m;switch(f.fieldName&&(v=f.fieldName),(f.paramType===kt.a.LookupSimple||f.paramType===kt.a.LookupCustomer||f.paramType===kt.a.LookupOwner||f.paramType===kt.a.LookupRegarding||f.paramType===kt.a.LookupMultiEntity)&&f.value&&f.value instanceof Array&&(f.value.length>0?f.value=f.value[0]:f.value=null),f.type){case 0:p[v]=i[m];break;case 2:d[v]=i[m]}}var b=new Array,y=l(Object(fe.a)(e,p,!1,!1,t,r,a,o));if(b.push(y),Object(B.a)(u(),e).forms){var _=l(Object(wt.b)(e,n,o,d));b.push(_)}else{var S=l(Object(Nt.b)(e,n,d));b.push(S)}return Promise.all(b)}catch(a){var O=n+" failed at updating its outputs",I=Object(C.b)(u(),n);return c.EventManager.ReportComponentFailure(I+".CustomControl.updateOutputs",a,O,[{name:"APIName",value:Ge.a+".Actions.UpdateOutputs"},{name:"customControlId",value:n},{name:"pageId",value:e},{name:"entityTypeName",value:t},{name:"recordId",value:r},{name:"outputs",value:JSON.stringify(i)}]),c.TraceManager.getTracer("customcontrol").warn(I+" failed at updating its outputs"),null}},sync:!0}}
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */(e,r,n,a,i,o,s))},updateFieldValue:function(e,r,n,a,i,o,s){return t(Object(fe.a)(e,r,!1,n,a,i,o,s))},runCustomOpenRecord:function(e,r,n,a){return t(function(e,t,r,n){return{type:"record.open",execute:function(a,i){var o=i.ScriptManager.getContainer(e).getEventManager(),s=new g.a(r),c=Object(S.f)(n,s,t),l=a.dispatch(Object(xt.b)(c,e,t,s));return l=new Ft.a(a,i,c,e,t,s),a.dispatch(o.runOnRecordOpen(n,r,l))}}}
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */(e,r,n,a))},getBoundFileObject:function(e,r,n,a){if(null==e||null==r||null==r.id||null==n)return null;var i={id:new g.a(r.id),etn:r.entityType};return t(Object(tr.c)(e,i,n,a,"full"))},saveEmbeddedEntity:function(e,r,n,a,i,o,s,c){return void 0===s&&(s=!1),t(Object(At.a)(e,r,n,a,i,o,s,c))},renderNestedCustomControl:Rt,renderReactSubtree:ke.createPortal,retrieveView:function(e,r,n,a){return t(Object(Pe.a)(e,r,n,a))},retrieveViewSelector:function(e,r){return t(Object(Pe.b)(e,r))},retrieveGridData:function(e){return t(Object(Te.d)(e))},retrieveRecordDataForForm:function(e,r,n,a,i){return t(Object($.e)(Vt(e),g.a.tryParse(r),n,a,i))},retrieveForm:function(e,r,n){var a=g.a.tryParse(r),i=Vt(e);return t(Object(ee.b)(i,a,n)).then((function(e){return t(Object(he.c)(a,i.etn)).then((function(){return e}))}))},retrieveEntityData:function(e){return t(Object(Ie.f)(e,!1,[]))},retrieveChartDrilldownAttributes:function(e){return t((r=e,{type:"customcontrol.charts.attributes.retrieve.async",execute:function(e,t){var n=e.dispatch,a=e.getState;return n(Object(Ie.f)(r,!0,[])).then((function(){var e=a(),t=Object(Je.d)(e,r);if(t&&Object.keys(t).length>0){var n={};for(var i in t){var o=t[i];Gt(e,r,i,o)&&(n[i]=o)}return n}return null}),(function(e){var n=e.get_message();return t.EventManager.ReportComponentFailure(Ge.a+".CustomControl.retrieveChartDrilldownAttributes",new Error(n),n,[{name:"APIName",value:Ge.a+".Actions.RetrieveChartDrilldownAttributes"},{name:"Entity",value:r}]),null}))}}));var r},refreshDataSetParameter:function(e,r){return t(It(e,r))},retrieveLookupMetadataAction:function(e){return t((r=e,{type:"customcontrol.retrieveLookupMetaData.async",execute:function(e,t){var n=e.dispatch,a=e.getState;if(r instanceof Pt.a){var i={retrieveGridDataAction:function(e){return n(Object(Te.d)(e))},retrieveViewAction:function(e,t,r,a){return n(Object(Pe.a)(e,t,r,a))},retrieveViewSelectorAction:function(e,t){return n(Object(Pe.b)(e,t))},runPreSearch:function(e,t,r){return n(Object(de.W)(Object(S.j)(a(),e),e,t,r))},runSetAdditionalParams:function(e,t,r){return n(Object(de.X)(Object(S.j)(a(),e),e,t,r))},refreshCustomDataProviderAction:function(e,t,r,a){return n(Object(it.b)(e,t,r,a))},getEntityMetadataAction:function(e,t){return n(Object(Ie.f)(e,!1,t))}};return r.retrieveLookupMetadata(a,i)}}}));var r},retrieveDataSetLookupCellParameter:function(e,r,n){return t(function(e,t,r){return{type:"customcontrol.retrieveDataSetLookupCellParameter.async",execute:function(n,a){var i=n.dispatch,o=n.getState;return i(It(t,r)).then((function(){var r=t.retrieveDataSetObject(o(),e,a);return Promise.resolve(r)})).catch((function(e){a.EventManager.ReportComponentFailure(Ge.a+".Actions",{name:"error",message:e.get_message()},null,[{name:"APIName",value:Ge.a+".Actions.RetrieveDataSetLookupCellParameter"}])}))}}}(e,r,n))},updateControlMemoizedDataSet:function(e,r,n){return t(function(e,t,r){return{type:"customcontrol.updateControlMemoizedDataSet",sync:!0,execute:function(n,a){n.dispatch;var i=(0,n.getState)(),o=e.retrieveDataSetObject(i,null,null,null,a);e.linkToParameter(o,t),e.updateControlMemoizedParameter(i,o,!0,r)}}}(e,r,n))},loadResourceStrings:function(e){return t((r=e,{type:"customcontrol.loadresourcestrings.async",execute:function(e,t){var n=e.dispatch,a=e.getState,i=r.CustomControlId;if(!i)return Promise.resolve();var o=a(),s=Xe.a.getControlsResourceKeyList(i);if(!s)return Promise.resolve();var c=Object(ze.d)(o);if(!c)return n(Object(Ue.e)(s));for(var l=[],u=0,p=s;u<p.length;u++){var d=p[u];c.hasOwnProperty(d)||l.push(d)}return 0===l.length?Promise.resolve():n(Object(Ue.e)(l))}}));var r},retrieveLookupData:function(e){return t(Object(Te.d)(e))},setFieldControlPersonalization:function(e,r,n){return t(Object(Ae.j)(e,r,n))},setGridControlPersonalization:function(e,r,n){return t(Object(Ae.m)(e,r,n))},setDashboardControlPersonalization:function(e,r,n){return t(Object(Ae.i)(e,r,n))},setGenericControlPersonalization:function(e,r,n){return t(Object(Ae.k)(e,r,n))},setGlobalControlPersonalization:function(e,r){return t(Object(Ae.l)(e,r))},setPowerBISignedInState:function(e,r){return t(Object(me.b)(e,r))},beginSecureSessionForResource:function(e,r,n,a){return t(function(e,t,r,n){return{type:"customcontrol.beginsecuresessionforresource",execute:function(a,i){var o=new De.a(i,a);return n?o.beginSecureSessionForResource(e,t,r):o.beginSecureSessionForResourceSilent(e,t,r)},shouldReceiveFullStore:!0}}(e,r,n,a))},setXrmObject:function(e){},addPendingCommandManagerId:function(e,r,n,a){var i;return t(Object(Et.a)(e,r,n,a)),{promise:new Promise((function(e){i=e})),resolve:i}},initializeCommandManager:function(e,r,n,a,i){var o;return t(Object(Et.b)(e,r,n,a,i)),{promise:new Promise((function(e){o=e})),resolve:o}},retrieveRecordCommand:function(e,r,n,a,i,o,s,c,l,u){return t(Object(Et.c)(u,e,r,n,a,i,o,s,c,l))},setValue:function(e,r,n,a){return e&&r?t(function(e,t,r,n){var a=[{name:"snapshotId",value:n},{name:"entityTypeName",value:t.etn},{name:"attributeNameValuePairs.length",value:r?Object.keys(r).length:null}];return{type:"control.update.value.by.snapshot.async",execute:function(i,o,s){var c=i.dispatch,l=(0,i.getState)(),u=Object(S.j)(l,e),p=Object(S.x)(u),d=Object(ye.a)(l,n,t,r,!1,u,o.TraceManager.getTracer("Forms.UpdateValue")),h=g.a.isNullOrEmpty(t.id)?_e.a.Create:_e.a.Update;if(a.push({name:"CorrelationId",value:s.correlationId},{name:"ContextId",value:s.contextId},{name:"ActionStack",value:s.stack},{name:"mode",value:h}),n)return c(Object(ve.b)(l,n,d)),o.EventManager.ReportComponentSuccess("Forms.UpdateValue.updateDataSnapshot",a),Promise.resolve();var m=Object(be.b)(l,t,d,p,h),f=m.payload.snapshotId;return c(m),a.push({name:"newSnapshotId",value:f}),o.EventManager.ReportComponentSuccess("Forms.UpdateValue.createDataSnapshotAction",a),Promise.resolve(f)},getFailureParameters:function(e,t){return a}}}(a,e,r,n)).then((function(e){return Promise.resolve(e||n)})):Promise.reject("setValue: entityReference and controlKeyValuePairs parameters are required")},save:function(e,r){return void 0===r&&(r=[]),t(Object(Ee.c)(e,!1,r))},openPopup:function(e){return t(Object(Y.a)(e))},closePopup:function(e){return t(Object(Q.a)(e))},loadWebResource:function(e,r){return t(We(e,r))},registerOngoingWork:function(e,r,n,a){return t(function(e,t,r,n){return{type:"customcontrol.registerworkoutstanding",execute:function(a,i){return a.dispatch,a.getState,Tt.a.getInstance().addWorkOutstandingPromise(e,t,r,n),Promise.resolve()}}}
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */(e,r,n,a))},isPresenceEnabledEntity:function(e){return Object(H.b)(e)},getPresenceMappedField:function(e){return Object(H.a)(e)},fireXrmEvent:function(e,r,n,a,i){var o=t(Object(Ce.b)(r,n)),s=null;if(o&&o.ui&&o.ui.controls&&(s=o.ui.controls.get(e)),s)switch(a){case 0:s.fireOnKeyPress&&s.fireOnKeyPress()}},sendLookupRequest:function(e,r,n,a,i,o,s){return t(Qt(e,!0,r,n,a,i,o,s))},runPreSearch:function(e,r,n){t(function(e,t,r){return{type:"CCF.RunPreSearch",execute:function(n){var a=n.dispatch;n.getState,a(Object(St.f)(r,t,e)),a(Object(de.W)(e,r,t)),a(Object(de.X)(e,r,t)),a(Object(St.e)(r,t,e))},sync:!0}}(e,r,n))},runOnReadyStateComplete:function(e,r,n){t(function(e,t,r){return{type:"CCF.RunOnReadyStateComplete",execute:function(n,a){var i=n.dispatch;n.getState,a.ScriptManager.containerExists(t)&&i(a.ScriptManager.getContainer(t).getEventManager().runOnReadyStateComplete(e,null,r))},sync:!0}}(e,r,n))},retrieveLookupRecordsBySearchString:function(e,r,n){return t(Object(rr.a)(e,r,n))},retrieveLookupRecordsByIds:function(e,r,n){return t(Object(rr.b)(e,r,n))}},e={actions:er,propBagMethods:{utils:$t,navigation:n,device:Zt,mode:Jt}}}}))(s.a),lr=function(e){function t(t,r){var n=e.call(this,t)||this;return n._updateCounter=0,n._isUpdateScheduled=!1,n._reRunMapStateToProps=function(){n._isUpdateScheduled||(n._isUpdateScheduled=!0,Object(sr.c)((function(){n._isUpdateScheduled=!1,n._updateCounter++,n.forceUpdate()})))},n._reRunMapStateToProps=n._reRunMapStateToProps.bind(n),n}return Object(n.__extends)(t,e),t.prototype.render=function(){var e=null,t=null;return this.context&&this.context.CustomControlGlobalHelper&&(e=this.context.CustomControlGlobalHelper,t=this.context.TraceManager.getLogLevel()),o.createElement(c.a.Provider,{value:this.context},o.createElement(cr,Object(n.__assign)({},this.props,{contextHelper:e,logLevel:t,updateCounter:this._updateCounter,reRunMapStateMainProps:this._reRunMapStateToProps})))},t}(o.Component);function ur(e){var t="cm"+Object(ir.a)();return o.createElement(ar.a,{commandbarDisplayMode:e.commandbarDisplayMode,addedCommandList:e.addedCommandList,key:e.key,iconPosition:e.iconPosition,id:e.id,commandManagerId:e.commandManagerId||t,ribbonId:e.ribbonId,selectedRecords:e.selectedRecords,width:e.width,metaDataLoadedResolve:e.metaDataLoadedResolve,isHidden:e.isHidden,commandBarStyle:e.commandBarStyle,customCommandManagerStyle:e.customCommandManagerStyle,contextToken:e.contextToken,rootZIndex:e.rootZIndex,customControlType:e.customControlType})}function pr(e){return{commandbarDisplayMode:void 0!==e.commandbarDisplayMode&&null!==e.commandbarDisplayMode?e.commandbarDisplayMode:or.a.IconLabel,id:e.id,commandManagerId:e.commandManagerId,ribbonId:e.ribbonId,mainMenuLength:e.mainMenuLength,iconPosition:e.iconPosition,selectedRecords:dr(e.selectedRecords),key:e.key,commandBarStyle:e.commandBarStyle,customCommandManagerStyle:e.customCommandManagerStyle,isHidden:e.isHidden,width:e.width,metaDataLoadedResolve:e.metaDataLoadedResolve,addedCommandList:e.addedCommandList,contextToken:e.contextToken,rootZIndex:e.rootZIndex,customControlType:e.customControlType}}function dr(e){var t=[];if(e)for(var r=0,n=e;r<n.length;r++){var a=n[r];t.push(Vt(a))}return t}function hr(e,t){if(e===t)return!0;if(e&&t&&e.length===t.length){for(var r=e.length,n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}return!1}lr.contextType=i.a},Nhrb:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return i}));var n=r("Sscr"),a=r("uO/V"),i="control.update.parameter";function o(e,t,r,o,s){return{type:"control.update.parameter.async",execute:function(c,l){var u=c.dispatch,p=(c.getState,a.x+".updateControlParameterAction");u(function(e,t,r,o,s){var c=Object(n.v)(s);return{type:i,payload:{name:r,value:o},meta:{pageId:e,dataSetContextKey:c,controlName:a.o}}}(e,0,r,o,s));var d=[];return d.push({name:"controlName",value:t}),d.push({name:"paramName",value:""+r}),l.EventManager.ReportComponentSuccess(p,d),Promise.resolve()}}}},Oiu5:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"d",(function(){return c}));var n=r("Gemh");function a(e){var t=Object(n.m)(e),r=e&&e.metadata?e.metadata.entities:null,a=[];return r?(t.forEach((function(e){if(4200!==r[e].ObjectTypeCode){var t=function(e){var t=e.DisplayName,r=e.ObjectTypeCode.toString();return{entityDisplayName:t,objectTypeCode:r}}(r[e]);a.push(t)}})),a.sort(i)):a}function i(e,t){var r=e.entityDisplayName,n=t.entityDisplayName,a=0;return r>n?a=1:r<n&&(a=-1),a}function o(e){for(var t=[],r=0;r<e.length;r++){var n={key:e[r].objectTypeCode,text:e[r].entityDisplayName};t.push(n)}return t}function s(e){return e?e.split(","):[]}function c(e){return e?e.map((function(e){return{key:e.value,text:e.text}})):[]}},OmYs:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("Sscr"),a="section.label";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function i(e,t,r,i){var o=Object(n.v)(t);return{type:a,payload:i,meta:{pageId:e,contextKey:o,sectionName:r}}}},PLtI:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("Sscr"),a="tab.setlabel";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function i(e,t,r,i){var o=Object(n.v)(t);return{type:a,payload:i,meta:{pageId:e,contextKey:o,tabId:r}}}},PZxu:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n,a=r("Gemh"),i=r("Zy0S"),o=r("XJ3n"),s=r("+Z9T"),c=r("Sscr"),l=r("9r0m"),u=r("TCcM"),p=r("QAhb"),d=r("9rlF"),h=r("IiPO"),g=r("w/nD"),m=r("ezfI"),f=r("/j9Z"),v=r("kvLG"),b=function(){function e(e,t,r,a,i,o,c){var l="ClientApi.XrmControlGrid.constructor";if(a||Object(s.j)(l,"pageId"),r||Object(s.j)(l,"contextToken"),e||Object(s.j)(l,"store"),i||Object(s.j)(l,"gridEntity"),Object(s.a)(o)&&Object(s.j)(l,"isEditable"),n=e,this._applicationContext=t,this._contextToken=r,this._pageId=a,this._gridEntityName=i,this.controlName=c,this._isEditable=o,!this._contextToken.contextTokenType){var u=h.a.getInstance().getEventParameters(this._contextToken);u.push({name:"controlName",value:this.controlName}),u.push({name:"gridEntityName",value:this._gridEntityName}),h.a.getInstance().reportFailure(l,new f.a("context token passed to grids with empty context token type"),null,u)}}return Object.defineProperty(e.prototype,"_isEditable",{get:function(){var e=Object(a.V)(n.getState(),this._pageId,this._gridEntityName,this._contextToken,this.controlName);if(null===e){var t=h.a.getInstance().getEventParameters(this._contextToken);return t.push({name:"controlName",value:this.controlName}),t.push({name:"gridEntityName",value:this._gridEntityName}),v.a.getInstance().eventManager.ReportComponentFailure("ClientApi.XrmControlGrid._isEditable_get",new f.a("control configuration parameters not found"),null,t),this._isGridEditable}return e},set:function(e){this._isGridEditable=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"applicationContext",{get:function(){return m.a.instance.reportUsage("ClientApi.XrmControlGrid.applicationContext_get"),this._applicationContext},set:function(e){m.a.instance.reportUsage("ClientApi.XrmControlGrid.applicationContext_set")},enumerable:!1,configurable:!0}),e.prototype.getTotalRecordCount=function(){var e="ClientApi.XrmControlGrid.getTotalRecordCount";try{m.a.instance.reportCall(e);var t=Object(a.Y)(n.getState(),this._pageId,this._contextToken);if(t){var r=JSON.parse(t),i=r&&r.totalResultCount?r.totalResultCount:0;return m.a.instance.reportSuccess(e),i}return m.a.instance.reportSuccess(e),0}catch(t){var o=h.a.getInstance().getEventParameters(this.contextToken);throw o.push({name:"controlName",value:this.controlName}),h.a.getInstance().reportFailure(e,t,null,o),t}},e.prototype.getRows=function(){var e="ClientApi.XrmControlGrid.getRows";try{m.a.instance.reportCall(e);var t=new i.a(e),r=n.getState(),s=Object(a.H)(r,this.contextToken,{id:this.pageId});if(s)for(var l=0;l<s.length;l++){var u=s[l].identifier.id,p=this._getRowEntityName(s[l],u),d=new o.a(n,this._applicationContext,Object(c.f)(this.contextToken,u,p),this.pageId,p,u),g=s[l].identifier.id.guid;t.add(g,d)}return m.a.instance.reportSuccess(e),t}catch(t){var f=h.a.getInstance().getEventParameters(this.contextToken);throw f.push({name:"controlName",value:this.controlName}),h.a.getInstance().reportFailure(e,t,null,f),t}},e.prototype.getSelectedRows=function(){var e="ClientApi.XrmControlGrid.getSelectedRows";try{m.a.instance.reportCall(e);var t=new i.a(e),r=Object(a.fb)(n.getState(),this.pageId,this.contextToken);if(r)for(var s=Object(a.Q)(n.getState(),this.pageId,this.contextToken),p=function(e){var i=void 0;if(s)i=s;else{var p=n.getState(),h=Object(a.v)(p,d.pageId,d.contextToken),g=(h&&h.queryKey&&Object(u.q)(p,h.queryKey,null,null,!0)||[]).find((function(t){return t.identifier&&l.a.equals(t.identifier.id,r[e])}));i=d._getRowEntityName(g,r[e])}var m=new o.a(n,d._applicationContext,Object(c.f)(d.contextToken,r[e],i),d.pageId,i,r[e]),f=r[e].guid;t.add(f,m)},d=this,g=0;g<r.length;g++)p(g);return m.a.instance.reportSuccess(e),t}catch(t){var f=h.a.getInstance().getEventParameters(this.contextToken);throw f.push({name:"controlName",value:this.controlName}),h.a.getInstance().reportFailure(e,t,null,f),t}},e.prototype.addOnRecordSelect=function(e){var t="ClientApi.XrmControlGrid.addOnRecordSelect";if(this._isEditable){e||Object(s.j)(t,"handler");try{m.a.instance.reportCall(t),n.dispatch(Object(g.m)(this.contextToken,this.pageId,e,this.controlName)),m.a.instance.reportSuccess(t)}catch(e){var r=h.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.controlName}),h.a.getInstance().reportFailure(t,e,null,r),e}}},e.prototype.removeOnRecordSelect=function(e){var t="ClientApi.XrmControlGrid.removeOnRecordSelect";if(this._isEditable){e||Object(s.j)(t,"handler");try{m.a.instance.reportCall(t),n.dispatch(Object(g.H)(this.contextToken,this.pageId,e,this.controlName)),m.a.instance.reportSuccess(t)}catch(e){var r=h.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.controlName}),h.a.getInstance().reportFailure(t,e,null,r),e}}},e.prototype.runOnRecordSelect=function(e){var t="ClientApi.XrmControlGrid.runOnRecordSelect";try{m.a.instance.reportCall(t),this._isEditable&&n.dispatch(Object(g.T)(this.contextToken,this.pageId,e,this.controlName)),m.a.instance.reportSuccess(t)}catch(e){var r=h.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.controlName}),h.a.getInstance().reportFailure(t,e,null,r),e}},e.prototype._getRowEntityName=function(e,t){var r=e&&e.identifier?e.identifier.etn:this._gridEntityName;if("activitypointer"===r){var a=Object(u.j)(n.getState(),new p.a(this._gridEntityName,t),"activitytypecode");if(Object(d.j)(a))return a.value}return r},Object.defineProperty(e.prototype,"pageId",{get:function(){return this._pageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contextToken",{get:function(){return this._contextToken},enumerable:!1,configurable:!0}),e}()},PhZR:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
var n="navigation.item.label";function a(e,t,r,a){return{type:n,payload:{label:r,currentLanguageId:a},meta:{pageId:e,navigationItemId:t}}}},Q60c:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("Sscr"),a="controls.DefaultView";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function i(e,t,r,i){var o=Object(n.v)(r);return{type:a,payload:i.guid,meta:{pageId:e,controlName:t,contextKey:o}}}},QItn:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("Sscr"),a="control.mrudisabled";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function i(e,t,r,i,o){var s=Object(n.v)(i);return{type:a,payload:o,meta:{pageId:t,controlName:r,contextKey:s}}}},RB3d:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return s}));var n=r("nuS9"),a=r("B73A"),i=r("akzq");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
function o(e,t,r,n,i,o){return new a.a(e,(function(e){t(e.EVENT)}),r,n,i,o)}function s(e){return n.createElement(i.a,{key:e.id,keyboardShortcuts:e.keyboardShortcuts,defaultFocusId:e.defaultFocusId,rootElementId:e.rootElementId,isModal:e.isModal,shouldManageFocus:e.shouldManageFocus||!1})}},SdPQ:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("Sscr"),a="header.bodyvisible";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function i(e,t,r){var i=Object(n.v)(t);return{type:a,payload:r,meta:{pageId:e,contextKey:i}}}},TCDU:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r("1Tfq"),a=r("aGOT"),i=r("HSdq"),o=r("kk/C"),s=r("OTOS"),c=r("Sscr"),l=r("yHpA"),u=r("2p2B"),p=r("Srej");function d(e){return{type:"handle.unsaved.changes.async",execute:function(t,r,d){var h=t.dispatch,g=t.getState;return h(Object(n.a)(e)).then((function(t){if(t){for(var r=Object(s.a)(g(),e),n=r.map((function(e){return Object(c.j)(g(),e)})),d=0;d<r.length;d++){for(var m=r[d],f=n[d],v=Object(i.ac)(g(),m,f),b=Object(l.b)(g(),v),y=0,_=(null==b?void 0:b.activeChanges)?Object.keys(b.activeChanges):[];y<_.length;y++){var C=_[y];h(Object(u.b)(f,m,Object(p.d)(m,C)))}h(Object(a.c)(m,v,f)),h(Object(o.d)(m,f))}return!0}return!1}))}}}},"U/bH":function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return p}));var n=r("Sscr"),a=r("uO/V"),i=r("Gemh"),o=r("VWqI"),s=r("EwXg"),c=r("BFwB"),l=r("+Xnp"),u="dataset.dependentoptionset.column.status";function p(e,t){var r=[];return{type:"dependentoptionset.column.status",sync:!0,execute:function(o,l,p){var m=o.dispatch,f=o.getState,v=l.TraceManager.getTracer(a.z),b=a.x+".SetDependentOptionSetColumnStatusAction";l.TraceManager.setLogLevel(s.a.Info,b);try{var y=Object(n.v)(t),_=f(),C=null,S=Object(i.Q)(f(),e,t),O={};if(S)C=S;else{var I=Object(i.S)(f(),{id:e},t);I&&I.entityLogicalName&&(C=I.entityLogicalName)}if(C){r.push({name:"CorrelationId",value:p.correlationId},{name:"ContextId",value:p.contextId},{name:"ActionStack",value:p.stack},{name:"PageId",value:e},{name:"EntityTypeName",value:C}),v.info("Executing initialize dependent option set column status action in grid.",r);var T={name:"NumPartialDependentOptionSetChainAttributesInGrid",value:0},j=[],P=0,E=Object(i.z)(_,t,C,e);for(var A in E){var x=E[A];if(null===x.ParentPicklistLogicalName){var F={name:A,value:0};d(_,t,e,C,E,A,F)?h(E,A,O,T):(g(E,A,O),P++,j.push(F))}else void 0===E[x.ParentPicklistLogicalName]&&h(E,A,O,T)}var w={name:"NumCompleteDependentOptionSetChainsInGrid",value:P},N={name:"CompleteChainsMaxDepthInGrid",value:j};r.push(w,T,N);var k=new c.a(b);k.addEventParameter("NumCompleteDependentOptionSetChainsInGrid",P),k.addEventParameter("NumPartialDependentOptionSetChainAttributesInGrid",T.value),k.addEventParameter("CompleteChainsMaxDepthInGrid",j),l.EventManager.ReportEvent(k),l.EventManager.ReportComponentSuccess(b),v.info("Executed initialize dependent option set column status action successfully.",r)}Object.keys(O).length>0&&m(function(e,t,r){return{type:u,payload:r,meta:{pageId:e,dataSetContextKey:t}}}(e,y,O))}catch(e){l.EventManager.ReportComponentFailure(b,Error("creating dependent option set column status node in state tree failed."))}}}}function d(e,t,r,n,a,i,s){if(void 0===a[i])return!0;if(function(e,t,r,n,a){if(!Object(o.f)(e,a,n,l.a.CanUpdate)||!r[n].IsValidForUpdate)return!0;return!1}(e,0,a,i,n))return!0;var c=a[i].ChildPicklistLogicalNames;if(null!==c)for(var u=0;u<c.length;u++){var p={name:i,value:0};if(d(e,t,r,n,a,c[u],p))return!0;s.value=Math.max(s.value,p.value)}return s.value=s.value+1,!1}function h(e,t,r,n){if(void 0!==e[t]){r[t]=0,n.value=n.value+1;var a=e[t].ChildPicklistLogicalNames;if(a)for(var i=0;i<a.length;i++)h(e,a[i],r,n)}}function g(e,t,r){r[t]=1;var n=e[t].ChildPicklistLogicalNames;if(n)for(var a=0;a<n.length;a++)g(e,n[a],r)}},W51q:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("qC0c"),a=r("cZkS"),i=r("7EJx");function o(e){return!!Object(n.a)(e,a.S,a.h)&&(!!Object(n.a)(e,a.d,a.Lc)||1033===Object(i.s)(e))}},WVwd:function(e,t,r){"use strict";r.d(t,"a",(function(){return K})),r.d(t,"b",(function(){return J}));var n,a,i,o=r("9r0m"),s=r("HSdq"),c=r("BWVO"),l=r("7ipg"),u=r("1z64"),p=r("QAhb"),d=r("/eCp"),h=r("TCcM"),g=r("nbQV"),m=r("IiPO"),f=r("+Z9T"),v=r("ezfI"),b=function(){function e(e,t,r){var n="ClientApi.XrmProcessStep.constructor";t||Object(f.j)(n,"step"),r||Object(f.j)(n,"processManager"),e||Object(f.j)(n,"store"),this._step=t,this._processManager=r}return e.prototype.isRequired=function(){var e="ClientApi.XrmProcessStep.isRequired";try{v.a.instance.reportCall(e);var t=this._step.get_isProcessRequired();return v.a.instance.reportSuccess(e),t}catch(t){throw m.a.getInstance().reportFailure(e,t),t}},e.prototype.getAttribute=function(){var e="ClientApi.XrmProcessStep.getAttribute";try{if(v.a.instance.reportCall(e),!this._attribute){var t=this._step.get_Steps().get_item(0);this._attribute=!t||t.get_isSystemControl()?null:t.get_dataFieldName()}return v.a.instance.reportSuccess(e),this._attribute}catch(t){throw m.a.getInstance().reportFailure(e,t),t}},e.prototype.getName=function(){var e="ClientApi.XrmProcessStep.getName";try{v.a.instance.reportCall(e);var t=this._step.get_Name();return v.a.instance.reportSuccess(e),t}catch(t){throw m.a.getInstance().reportFailure(e,t),t}},e.prototype.getProgress=function(){var e="ClientApi.XrmProcessStep.getProgress";try{v.a.instance.reportCall(e);var t=4;if(this._step.get_Steps()&&this._step.get_Steps().get_item(0))if(this._step.get_Steps().get_item(0)instanceof Microsoft.Crm.Workflow.ObjectModel.ActionStep&&this._processManager){var r=this._processManager.getActionLog(new o.a(this._step.get_Id()));r&&(t=r.status),t=0}return v.a.instance.reportSuccess(e),t}catch(t){throw m.a.getInstance().reportFailure(e,t),t}},e.prototype.setProgress=function(e,t){var r="ClientApi.XrmProcessStep.setProgress";try{v.a.instance.reportCall(r);var n="invalid";switch(e){case 0:case 1:case 2:case 3:case 4:n=this._setProgressInternal(e,t)}return v.a.instance.reportSuccess(r),n}catch(e){throw m.a.getInstance().reportFailure(r,e),e}},e.prototype._setProgressInternal=function(e,t){if(this._step.get_Steps()&&this._step.get_Steps().get_item(0)&&this._step.get_Steps().get_item(0)instanceof Microsoft.Crm.Workflow.ObjectModel.ActionStep){var r=this._processManager.UpdateActionLog(new o.a(this._step.get_Id()),e,t);if(r)return r}return"invalid"},e}(),y=r("Zy0S"),_=function(){function e(e,t){this._processManager=t,null!=this._processManager&&this._processManager.shouldReInitializeNavigationBehavior()&&this._processManager.setBpfNavigationBehavior(this)}return Object.defineProperty(e.prototype,"allowCreateNew",{get:function(){return v.a.instance.reportUsage("ClientApi.XrmProcessNavigationBehavior.getAllowCreateNew"),this._allowCreateNew},set:function(e){var t="ClientApi.XrmProcessNavigationBehavior.setAllowCreateNew";try{v.a.instance.reportCall(t),this._allowCreateNew=e,null!=this._processManager&&this._processManager.setBpfNavigationBehavior(this),v.a.instance.reportSuccess(t)}catch(e){throw m.a.getInstance().reportFailure(t,e),e}},enumerable:!1,configurable:!0}),e}(),C=function(){function e(e,t,r,a,i){n=e,this._entityTypeName=r,this._activeStageId=a,this._stageStep=t,new _(e,i),i&&(this._processManager=i)}return e.prototype.getCategory=function(){var e="ClientApi.XrmProcessStage.getCategory";try{v.a.instance.reportCall(e);var t=this._stageStep.get_stageCategory(),r={getValue:function(){var e=parseInt(t,10);return Number.isNaN(e)&&(e=-1),e}};return v.a.instance.reportSuccess(e),r}catch(t){throw m.a.getInstance().reportFailure(e,t),t}},e.prototype.getId=function(){var e="ClientApi.XrmProcessStage.getId";try{v.a.instance.reportCall(e);var t=this._stageStep.get_Id();return v.a.instance.reportSuccess(e),t}catch(t){throw m.a.getInstance().reportFailure(e,t),t}},e.prototype.getEntityName=function(){return v.a.instance.reportUsage("ClientApi.XrmProcessStage.getEntityName"),this._entityTypeName},e.prototype.getStatus=function(){var e="ClientApi.XrmProcessStage.getStatus";try{v.a.instance.reportCall(e);var t=this.getId()===this._activeStageId?"active":"inactive";return v.a.instance.reportSuccess(e),t}catch(t){throw m.a.getInstance().reportFailure(e,t),t}},e.prototype.getName=function(){var e="ClientApi.XrmProcessStage.getName";try{v.a.instance.reportCall(e);var t=this._stageStep.get_Description();return v.a.instance.reportSuccess(e),t}catch(t){throw m.a.getInstance().reportFailure(e,t),t}},e.prototype.getSteps=function(){var e="ClientApi.XrmProcessStage.getSteps";try{if(v.a.instance.reportCall(e),!this._steps&&(this._steps=new y.a(e),null!=this._stageStep.get_Steps()&&this._stageStep.get_Steps().get_Count()>0))for(var t=0;t<this._stageStep.get_Steps().get_Count();t++){var r=this._stageStep.get_Steps().get_item(t);if(r instanceof Microsoft.Crm.Workflow.ObjectModel.StepStep){var a=r.get_Steps().get_item(0);a&&(a instanceof Microsoft.Crm.Workflow.ObjectModel.ControlStep||a instanceof Microsoft.Crm.Workflow.ObjectModel.ActionStep||a instanceof Microsoft.Crm.Workflow.ObjectModel.FlowStep)&&this._steps.add(r.get_Id(),new b(n,r,this._processManager))}}return v.a.instance.reportSuccess(e),this._steps}catch(t){throw m.a.getInstance().reportFailure(e,t),t}},e.prototype.getNavigationBehavior=function(){var e="ClientApi.XrmProcessStage.getNavigationBehavior";try{v.a.instance.reportCall(e);var t=this._processManager.getBpfNavigationBehavior();return v.a.instance.reportSuccess(e),t}catch(t){throw m.a.getInstance().reportFailure(e,t),t}},e}(),S=function(){function e(e,t,r,n,i){var o="ClientApi.XrmBusinessProcessFlow.constructor";t||Object(f.j)(o,"workflowStep"),n||Object(f.j)(o,"activeStageId"),i||Object(f.j)(o,"processManager"),e||Object(f.j)(o,"store"),Object(f.a)(r)&&Object(f.j)(o,"isRendered"),a=e,this._isRendered=r,this._workflowStep=t,this._activeStageId=n,this._processManager=i}return e.prototype.getName=function(){var e="ClientApi.XrmBusinessProcessFlow.getName";try{v.a.instance.reportCall(e);var t=this._workflowStep.get_Name();return v.a.instance.reportSuccess(e),t}catch(t){throw m.a.getInstance().reportFailure(e,t),t}},e.prototype.getId=function(){var e="ClientApi.XrmBusinessProcessFlow.getId";try{v.a.instance.reportCall(e);var t=this._workflowStep.get_Id();return v.a.instance.reportSuccess(e),t}catch(t){throw m.a.getInstance().reportFailure(e,t),t}},e.prototype.isRendered=function(){return v.a.instance.reportUsage("ClientApi.XrmBusinessProcessFlow.isRendered"),this._isRendered},e.prototype.getStages=function(){var e="ClientApi.XrmBusinessProcessFlow.getStages";try{if(v.a.instance.reportCall(e),!this._stages){this._stages=new y.a(e);for(var t=0;t<this._workflowStep.get_Steps().get_Count();t++){var r=this._workflowStep.get_Steps().get_item(t);if(r instanceof Microsoft.Crm.Workflow.ObjectModel.EntityStep)for(var n=r,i=0;i<n.get_Steps().get_Count();i++){var o=n.get_Steps().get_item(i);this._stages.add(o.get_Id(),new C(a,o,n.get_EntityLogicalName(),this._activeStageId,this._processManager))}}}return v.a.instance.reportSuccess(e),this._stages}catch(t){throw m.a.getInstance().reportFailure(e,t),t}},e}(),O=r("w/nD"),I=r("JBkQ"),T=r("7kKV"),j=r("AqA3");!function(e){e.success="success",e.invalid="invalid"}(i||(i={}));var P,E,A=r("m8A1"),x=r("BvBP"),F=r("c56u"),w=r("JlqV"),N=r("kvLG"),k=r("sOTk"),D=r("b1hT"),M=r("l9h5"),R=r("Z1aD"),L=r("xc1f"),V=function(){function e(e,t,r,n,a){this._clientApiExecutor=new u.a(e,"ClientApi.XrmProcessControlData.",r,t);var i=this._clientApiExecutor.getComponentName("constructor");r||Object(f.j)(i,"pageId"),n||Object(f.j)(i,"entity"),t||Object(f.j)(i,"contextToken"),e||Object(f.j)(i,"store"),P=e,this._pageId=r,this._entity=n;var s=!1;Object(A.d)(P.getState(),this._pageId,i,!0)&&(this._processManager=a,s=!0),this._contextToken=t;var c=n.getEntityReference();this._entityRef=new p.a(c.entityType,o.a.tryParseOrNull(c.id),c.name);var l=Object(A.b)(r,e.getState(),s);N.a.getInstance().eventManager.ReportComponentSuccess(i,l)}return e.prototype.getActiveProcess=function(){var e="ClientApi.XrmProcessControlData.getActiveProcess";try{if(v.a.instance.reportCall(e),!Object(A.d)(P.getState(),this._pageId,e))return v.a.instance.reportSuccess(e),null;var t=this._getProcessManager().getProcess(),r=null;if(t){var n=this._getProcessManager().getActiveStageId();r=new S(P,t,!0,n,this._getProcessManager())}return v.a.instance.reportSuccess(e),r}catch(t){var a=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(e,t,null,a),t}},e.prototype.setStatus=function(e,t){var r=this,n="ClientApi.XrmProcessControlData.setStatus";try{if(v.a.instance.reportCall(n),!Object(A.d)(P.getState(),this._pageId,n))return void v.a.instance.reportSuccess(n);if(!e||this.getStatus()&&e===this.getStatus())return void v.a.instance.reportSuccess(n);var a;if(e===I.a.active)a=d.a.Active;else if(e===I.a.finished)a=d.a.Finished;else{if(e!==I.a.aborted)return void v.a.instance.reportSuccess(n);a=d.a.Aborted}this._getProcessManager().setStatus(a).then((function(){r._callback(t,e,n),v.a.instance.reportSuccess(n)})).catch((function(t){var a=m.a.getInstance().getEventParameters(r._contextToken);return a.push({name:"newStatus",value:e}),Object(f.d)(P,t,n,a)}))}catch(e){var i=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(n,e,null,i),e}},e.prototype.getStatus=function(){var e="ClientApi.XrmProcessControlData.getStatus";try{if(v.a.instance.reportCall(e),!Object(A.d)(P.getState(),this._pageId,e))return v.a.instance.reportSuccess(e),null;var t=this._convertToXrmProcessInstanceStatus(this._getProcessManager().getStatus());return v.a.instance.reportSuccess(e),t}catch(t){var r=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(e,t,null,r),t}},e.prototype.getInstanceName=function(){var e="ClientApi.XrmProcessControlData.getInstanceName";try{if(v.a.instance.reportCall(e),!Object(A.d)(P.getState(),this._pageId,e))return v.a.instance.reportSuccess(e),null;var t=this._getProcessManager().getProcessInstanceName();if(!t){var r=Object(h.e)(P.getState(),this._entityRef);t=Object(g.c)(P.getState(),r)}return v.a.instance.reportSuccess(e),t}catch(t){var n=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(e,t,null,n),t}},e.prototype.getInstanceId=function(){var e="ClientApi.XrmProcessControlData.getInstanceId";try{if(v.a.instance.reportCall(e),!Object(A.d)(P.getState(),this._pageId,e))return v.a.instance.reportSuccess(e),null;var t=this._getProcessManager().getProcessInstanceId(),r=t?o.a.toString(t):null;return v.a.instance.reportSuccess(e),r}catch(t){var n=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(e,t,null,n),t}},e.prototype.getProcessInstances=function(e){var t=this,r="ClientApi.XrmProcessControlData.getProcessInstances";try{if(v.a.instance.reportCall(r),!Object(A.d)(P.getState(),this._pageId,r)||Object(D.g)(P.getState()))return;"function"==typeof e&&this._getProcessManager().getProcessInstances().then((function(n){if(n&&n.value&&n.value.length>0){var a={};n.value.forEach((function(e){e.businessprocessflowinstanceid&&(a[e.businessprocessflowinstanceid]={CreatedOnDate:e.createdon?new Date(e.createdon):null,ProcessDefinitionID:e._processid_value,ProcessDefinitionName:e.name,ProcessInstanceID:e.businessprocessflowinstanceid,ProcessInstanceName:e.name,StatusCodeName:t._convertToXrmProcessInstanceStatus(e.Process_x002e_statuscode),CreatedOn:e.createdon?new Date(e.createdon).toLocaleDateString():"",ProcessDefintionID:e._processid_value,ProcessDefintionName:e.name})})),Object(l.c)(r,[],(function(){e(a)}))}v.a.instance.reportSuccess(r)})).catch((function(e){var n=m.a.getInstance().getEventParameters(t._contextToken);return Object(f.d)(P,e,r+".getProcessInstances",n)}))}catch(e){var n=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(r,e,null,n),e}},e.prototype.setActiveProcess=function(e,t){var r=this;this._clientApiExecutor.executeAsync("setActiveProcess",(function(n,a){var s=o.a.tryParseOrNull(e),c=Object(k.m)(P.getState(),r._pageId);if(s&&o.a.equals(s,o.a.EMPTY)){if(c){var l=new p.a(r._entity.getEntityName(),o.a.EMPTY);return P.dispatch(Object(M.b)(!0,l)),N.a.getInstance().eventManager.ReportComponentSuccess(n,a),Promise.resolve().then((function(){return r._callback(t,i.success,n,a),Promise.resolve()})).catch((function(e){return r._callback(t,i.invalid,n,a),Promise.reject(e)}))}return Promise.resolve().then((function(){return r._callback(t,i.invalid,n,a),Promise.resolve()}))}if(!Object(A.d)(P.getState(),r._pageId,n,!0)||Object(D.g)(P.getState()))return Promise.resolve();return(c?Promise.resolve():r._getProcessManager().setActiveProcess(e)).then((function(){r._callback(t,i.success,n,a);var o=r.getActiveProcess();return o&&o.getId().toUpperCase()===e.toUpperCase()||r._reloadPage(n,r._getProcessManager().getCurrentFormEntity(),e),Promise.resolve()})).catch((function(e){return r._callback(t,i.invalid,n,a),Promise.reject(e)}))}),[{name:"processId",value:e,isRequired:!0,expectedDataType:"guid"}])},e.prototype.setActiveProcessInstance=function(e,t){var r=this;this._clientApiExecutor.executeAsync("setActiveProcessInstance",(function(n,a){return!Object(A.d)(P.getState(),r._pageId,n)||Object(D.g)(P.getState())?Promise.resolve():r._getProcessManager().setActiveProcessInstance(e).then((function(o){return r._callback(t,i.success,n,a),r.getInstanceId()!==e&&r._reloadPage(n,r._getProcessManager().getCurrentFormEntity(),o,e),Promise.resolve()})).catch((function(e){return r._callback(t,i.invalid,n,a),Promise.reject(e)}))}),[{name:"processInstanceId",value:e,isRequired:!0,expectedDataType:"guid"}])},e.prototype.getEnabledProcesses=function(e){var t=this,r="ClientApi.XrmProcessControlData.getEnabledProcesses";try{if(v.a.instance.reportCall(r),!Object(A.d)(P.getState(),this._pageId,r,!0))return void v.a.instance.reportSuccess(r);var n=P.getState();if(Object(x.g)(n)&&Object(F.w)(n)&&!Object(w.b)(n)){var a={};return void("function"==typeof e&&Object(l.c)(r,[],(function(){e(a)})))}this._getProcessManager().getEnabledProcesses().then((function(t){var n={};t&&t.length>0&&t.forEach((function(e){n[e.workflowId]=e.name})),"function"==typeof e&&Object(l.c)(r,[],(function(){e(n)})),v.a.instance.reportSuccess(r)})).catch((function(e){var n=m.a.getInstance().getEventParameters(t._contextToken);return Object(f.d)(P,e,r+".getEnabledProcesses",n)}))}catch(e){var i=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(r,e,null,i),e}},e.prototype.switchProcess=function(){var e="ClientApi.XrmProcessControlData.switchProcess";try{if(v.a.instance.reportCall(e),!Object(A.d)(P.getState(),this._pageId,e)||Object(D.g)(P.getState()))return;this._getProcessManager().switchProcess(),v.a.instance.reportSuccess(e)}catch(r){var t=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(e,r,null,t),r}},e.prototype.abandonProcess=function(){var e=this,t="ClientApi.XrmProcessControlData.abandonProcess";try{if(v.a.instance.reportCall(t),!Object(A.d)(P.getState(),this._pageId,t)||Object(k.m)(P.getState(),this._pageId))return void v.a.instance.reportSuccess(t);this._getProcessManager().abandonProcess().then((function(){v.a.instance.reportSuccess(t)})).catch((function(r){var n=m.a.getInstance().getEventParameters(e._contextToken);return Object(f.d)(P,r,t+".abandonProcess",n)}))}catch(e){var r=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(t,e,null,r),e}},e.prototype.reactivateProcess=function(){var e=this,t="ClientApi.XrmProcessControlData.reactivateProcess";try{if(v.a.instance.reportCall(t),!Object(A.d)(P.getState(),this._pageId,t)||Object(k.m)(P.getState(),this._pageId))return void v.a.instance.reportSuccess(t);this._getProcessManager().reactivateProcess().then((function(){v.a.instance.reportSuccess(t)})).catch((function(r){var n=m.a.getInstance().getEventParameters(e._contextToken);return Object(f.d)(P,r,t+".reactivateProcess",n)}))}catch(e){var r=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(t,e,null,r),e}},e.prototype.completeProcess=function(){var e=this,t="ClientApi.XrmProcessControlData.completeProcess";try{if(v.a.instance.reportCall(t),!Object(A.d)(P.getState(),this._pageId,t)||Object(k.m)(P.getState(),this._pageId))return void v.a.instance.reportSuccess(t);this._getProcessManager().completeProcess().then((function(){v.a.instance.reportSuccess(t)})).catch((function(r){var n=m.a.getInstance().getEventParameters(e._contextToken);return Object(f.d)(P,r,t+".completeProcess",n)}))}catch(e){var r=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(t,e,null,r),e}},e.prototype.getActiveStage=function(){var e="ClientApi.XrmProcessControlData.getActiveStage";try{if(v.a.instance.reportCall(e),!Object(A.d)(P.getState(),this._pageId,e))return v.a.instance.reportSuccess(e),null;var t=this._getProcessManager().getActiveStage(),r=null;return t&&(r=new C(P,t,this._getProcessManager().getCurrentFormEntity().etn,t.get_Id(),this._getProcessManager())),v.a.instance.reportSuccess(e),r}catch(t){var n=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(e,t,null,n),t}},e.prototype.getActivePath=function(){var e=this,t="ClientApi.XrmProcessControlData.getActivePath";try{if(v.a.instance.reportCall(t),!Object(A.d)(P.getState(),this._pageId,t))return v.a.instance.reportSuccess(t),null;var r=this._getProcessManager().getActivePathStages(),n=null;if(r){var a=this._getProcessManager().getActiveStageId(),i=new y.a(t);r.forEach((function(t){var r=t.get_parent().get_EntityLogicalName();i.add(t.get_stageId(),new C(P,t,r,a,e._getProcessManager()))})),n=i}return v.a.instance.reportSuccess(t),n}catch(e){var o=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(t,e,null,o),e}},e.prototype.setActiveStage=function(e,t){var r=this,n="ClientApi.XrmProcessControlData.setActiveStage";try{if(v.a.instance.reportCall(n),this._entity.getIsDirty()||Object(k.m)(P.getState(),this._pageId))v.a.instance.reportSuccess(n),this._callback(t,T.a.dirtyForm,n);else{if(!Object(A.d)(P.getState(),this._pageId,n))return void v.a.instance.reportSuccess(n);this._getProcessManager().setActiveStage(e).then((function(){r._callback(t,r._getStageInvalidReason(null),n),r._loadActiveStageEntity(n),v.a.instance.reportSuccess(n)})).catch((function(e){r._callback(t,e?r._getStageInvalidReason(e):j.a.invalid,n)}))}}catch(e){var a=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(n,e,null,a),e}},e.prototype.moveNext=function(e){var t=this,r="ClientApi.XrmProcessControlData.moveNext";try{if(v.a.instance.reportCall(r),this._entity.getIsDirty()||Object(k.m)(P.getState(),this._pageId))v.a.instance.reportSuccess(r),this._callback(e,T.a.dirtyForm,r);else{if(!Object(A.d)(P.getState(),this._pageId,r))return void v.a.instance.reportSuccess(r);if(this._getProcessManager().isCrossEntityNavigation(!0))return this._callback(e,T.a.crossEntity,r),void v.a.instance.reportSuccess(r);this._getProcessManager().moveToNextStage().then((function(){t._callback(e,t._getNavigationStatus(null),r),v.a.instance.reportSuccess(r)})).catch((function(n){var a=n?t._getNavigationStatus(n):T.a.invalid;if(t._callback(e,a,r),a===T.a.invalid){var i=m.a.getInstance().getEventParameters(t._contextToken);return Object(f.d)(P,n,r+".moveToNextStage",i)}v.a.instance.reportSuccess(r)}))}}catch(e){var n=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(r,e,null,n),e}},e.prototype.movePrevious=function(e){var t=this,r="ClientApi.XrmProcessControlData.movePrevious";try{if(v.a.instance.reportCall(r),this._entity.getIsDirty()||Object(k.m)(P.getState(),this._pageId))v.a.instance.reportSuccess(r),this._callback(e,T.a.dirtyForm,r);else{if(!Object(A.d)(P.getState(),this._pageId,r))return void v.a.instance.reportSuccess(r);if(Object(D.g)(P.getState())&&this._getProcessManager().isCrossEntityNavigation(!1))return this._callback(e,T.a.crossEntity,r),void v.a.instance.reportSuccess(r);this._getProcessManager().moveToPreviousStage().then((function(){t._callback(e,t._getNavigationStatus(null),r),t._loadActiveStageEntity(r),v.a.instance.reportSuccess(r)})).catch((function(n){var a=n?t._getNavigationStatus(n):T.a.invalid;if(t._callback(e,a,r),a===T.a.invalid){var i=m.a.getInstance().getEventParameters(t._contextToken);return Object(f.d)(P,n,r+".moveToPreviousStage",i)}v.a.instance.reportSuccess(r)}))}}catch(e){var n=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(r,e,null,n),e}},e.prototype.getSelectedStage=function(){var e="ClientApi.XrmProcessControlData.getSelectedStage";try{if(v.a.instance.reportCall(e),!Object(A.d)(P.getState(),this._pageId,e))return v.a.instance.reportSuccess(e),null;var t=this._getProcessManager().getSelectedStage(),r=null;if(t){var n=this._getProcessManager().getActiveStageId();r=new C(P,t,this._getProcessManager().getCurrentFormEntity().etn,n,this._getProcessManager())}return v.a.instance.reportSuccess(e),r}catch(t){var a=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(e,t,null,a),t}},e.prototype.addOnStageChange=function(e){var t="ClientApi.XrmProcessControlData.addOnStageChange";e||Object(f.j)(t,"handler");try{if(v.a.instance.reportCall(t),!Object(A.d)(P.getState(),this._pageId,t))return void v.a.instance.reportSuccess(t);P.dispatch(Object(O.q)(this._contextToken,this._pageId,e)),v.a.instance.reportSuccess(t)}catch(e){var r=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(t,e,null,r),e}},e.prototype.addOnPreStageChange=function(e){var t="ClientApi.XrmProcessControlData.addOnPreStageChange";Object(f.g)(e,t,"handler");try{if(v.a.instance.reportCall(t),!Object(A.d)(P.getState(),this._pageId,t))return void v.a.instance.reportSuccess(t);P.dispatch(Object(O.j)(this._contextToken,this._pageId,e)),v.a.instance.reportSuccess(t)}catch(e){var r=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(t,e,null,r),e}},e.prototype.removeOnStageChange=function(e){var t="ClientApi.XrmProcessControlData.removeOnStageChange";e||Object(f.j)(t,"handler");try{if(v.a.instance.reportCall(t),!Object(A.d)(P.getState(),this._pageId,t))return void v.a.instance.reportSuccess(t);P.dispatch(Object(O.L)(this._contextToken,this._pageId,e)),v.a.instance.reportSuccess(t)}catch(e){var r=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(t,e,null,r),e}},e.prototype.removeOnPreStageChange=function(e){var t="ClientApi.XrmProcessControlData.removeOnPreStageChange";Object(f.g)(e,t,"handler");try{if(v.a.instance.reportCall(t),!Object(A.d)(P.getState(),this._pageId,t))return void v.a.instance.reportSuccess(t);P.dispatch(Object(O.E)(this._contextToken,this._pageId,e)),v.a.instance.reportSuccess(t)}catch(e){var r=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(t,e,null,r),e}},e.prototype.addOnStageSelected=function(e){var t="ClientApi.XrmProcessControlData.addOnStageSelected";e||Object(f.j)(t,"handler");try{if(v.a.instance.reportCall(t),!Object(A.d)(P.getState(),this._pageId,t))return void v.a.instance.reportSuccess(t);P.dispatch(Object(O.r)(this._contextToken,this._pageId,e)),v.a.instance.reportSuccess(t)}catch(e){var r=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(t,e,null,r),e}},e.prototype.removeOnStageSelected=function(e){var t="ClientApi.XrmProcessControlData.removeOnStageSelected";e||Object(f.j)(t,"handler");try{if(v.a.instance.reportCall(t),!Object(A.d)(P.getState(),this._pageId,t))return void v.a.instance.reportSuccess(t);P.dispatch(Object(O.M)(this._contextToken,this._pageId,e)),v.a.instance.reportSuccess(t)}catch(e){var r=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(t,e,null,r),e}},e.prototype.addOnProcessStatusChange=function(e){var t="ClientApi.XrmProcessControlData.addOnProcessStatusChange";e||Object(f.j)(t,"handler");try{if(v.a.instance.reportCall(t),!Object(A.d)(P.getState(),this._pageId,t))return void v.a.instance.reportSuccess(t);P.dispatch(Object(O.k)(this._contextToken,this._pageId,e)),v.a.instance.reportSuccess(t)}catch(e){var r=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(t,e,null,r),e}},e.prototype.addOnPreProcessStatusChange=function(e){var t="ClientApi.XrmProcessControlData.addOnPreProcessStatusChange";Object(f.g)(e,t,"handler");try{if(v.a.instance.reportCall(t),!Object(A.d)(P.getState(),this._pageId,t))return void v.a.instance.reportSuccess(t);P.dispatch(Object(O.i)(this._contextToken,this._pageId,e)),v.a.instance.reportSuccess(t)}catch(e){var r=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(t,e,null,r),e}},e.prototype.removeOnProcessStatusChange=function(e){var t="ClientApi.XrmProcessControlData.removeOnProcessStatusChange";e||Object(f.j)(t,"handler");try{if(v.a.instance.reportCall(t),!Object(A.d)(P.getState(),this._pageId,t))return void v.a.instance.reportSuccess(t);P.dispatch(Object(O.F)(this._contextToken,this._pageId,e)),v.a.instance.reportSuccess(t)}catch(e){var r=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(t,e,null,r),e}},e.prototype.removeOnPreProcessStatusChange=function(e){var t="ClientApi.XrmProcessControlData.removeOnPreProcessStatusChange";Object(f.g)(e,t,"handler");try{if(v.a.instance.reportCall(t),!Object(A.d)(P.getState(),this._pageId,t))return void v.a.instance.reportSuccess(t);P.dispatch(Object(O.D)(this._contextToken,this._pageId,e)),v.a.instance.reportSuccess(t)}catch(e){var r=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(t,e,null,r),e}},e.prototype._getStageInvalidReason=function(e){return e?e.stageInvalidReason||j.a.invalid:T.a.success},e.prototype._getNavigationStatus=function(e){return e?e.navigationStatus||T.a.invalid:T.a.success},e.prototype._convertToXrmProcessInstanceStatus=function(e){if(e){if(e===d.a.Active)return I.a.active;if(e===d.a.Finished)return I.a.finished;if(e===d.a.Aborted)return I.a.aborted}return null},e.prototype._callback=function(e,t,r,n){var a=r+".Callback";n||(n=m.a.getInstance().getEventParameters(this._contextToken)),n.push({name:"Status",value:t}),Object(l.c)(a,n,(function(){"function"==typeof e&&e(t)}))},e.prototype._reloadPage=function(e,t,r,n){if(t){var a=Object(k.m)(P.getState(),this._pageId),i={entityTypeName:t.etn,id:a?void 0:t.id,processId:r,processInstanceId:n};P.dispatch(Object(R.a)(L.a,i,this._pageId,{target:"inline"})).then((function(t){if(0!==t.status)return Object(f.d)(P,t.error,e+".navigateTo.INavigationFailure")})).catch((function(t){return Object(f.d)(P,t,e+".navigateTo.")}))}},e.prototype._loadActiveStageEntity=function(e){var t=this._getProcessManager().getActiveStageEntityRef();t&&t.etn!==this._getProcessManager().getCurrentFormEntity().etn&&this._reloadPage(e,t,this.getActiveProcess().getId(),this.getInstanceId())},e.prototype._getProcessManager=function(){return this._processManager||(this._processManager=Object(A.c)(this._processManager,P,this._pageId,"ClientApi.XrmProcessControlData.getProcessManager")),this._processManager},e}(),G=r("UGbr"),B=r("TCDU"),X=r("UOiB"),U=r("/j9Z"),z=r("9qYn"),q=r("ObKm"),W=r("/lKk"),H=r("gk6Q"),Q=r("vqdi"),Y=r("Gemh"),K=function(){function e(e,t,r,n,a){this._entity=null;var i="ClientApi.XrmFormData.constructor";e||Object(f.j)(i,"store"),r||Object(f.j)(i,"pageId"),t||Object(f.j)(i,"contextToken"),n||Object(f.j)(i,"formContext"),E=e,this._pageId=r,this._formContext=n,this._contextToken=t,this._entity=a}return Object.defineProperty(e.prototype,"entity",{get:function(){return v.a.instance.reportUsage("ClientApi.XrmFormData.entity"),this._entity},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"process",{get:function(){var e="ClientApi.XrmFormData.process_get";try{var t=Object(D.f)(E.getState());v.a.instance.reportCall(e);var r=!!this._process;if((!t&&!this._process||t)&&this._entity){var n=Object(k.g)(E.getState(),this._pageId),a=Object(H.b)(this._pageId,n);this._entity&&(this._process=new V(E,this._contextToken,this._pageId,this.entity,a))}v.a.instance.reportSuccess(e);var i=Object(A.a)(this._pageId,E.getState(),r,!!this._entity);return N.a.getInstance().eventManager.ReportComponentSuccess(e,i),this._process}catch(t){var o=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(e,t,null,o),t}},set:function(e){var t=Object(A.a)(this._pageId,E.getState(),!!this._process,!!this._entity);N.a.getInstance().eventManager.ReportComponentSuccess("ClientApi.XrmFormData.process_set",t),this._process=e},enumerable:!1,configurable:!0}),e.prototype.getEntity=function(){return v.a.instance.reportUsage("ClientApi.XrmFormData.getEntity"),this._entity},e.prototype.getIsDirty=function(){var e,t,r,n="ClientApi.XrmFormData.getIsDirty";try{v.a.instance.reportCall(n);var a=!1;if(this._entity&&this._entity.getIsDirty())a=!0;else{for(var i=0;i<this.attributes.getLength();i++){var o=this.attributes.get(i);if("never"!==o.getSubmitMode()&&o.getIsDirty()){a=!0;break}}if(!a&&(null===(t=null===(e=this._formContext)||void 0===e?void 0:e.ui)||void 0===t?void 0:t.controls))for(i=0;i<this._formContext.ui.controls.getLength();i++){var s=this._formContext.ui.controls.get(i);if("formcomponent"===s.getControlType()&&s.isLoaded()&&(null===(r=s.data)||void 0===r?void 0:r.getIsDirty())){a=!0;break}}}return v.a.instance.reportSuccess(n),a}catch(e){var c=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(n,e,null,c),e}},Object.defineProperty(e.prototype,"attributes",{get:function(){var e="ClientApi.XrmFormData.attributes";try{if(v.a.instance.reportCall(e),!this._unboundAttributes){this._unboundAttributes=new y.a(e);var t=Object(s.Oc)(E.getState(),this._pageId);if(t)for(var r in t){var n=t[r],a=r,i=Object(c.b)(E,this._contextToken,this._pageId,a,this.entity,this._formContext.ui,n);this._unboundAttributes.add(i.getName(),i)}}return v.a.instance.reportSuccess(e),this._unboundAttributes}catch(t){var o=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(e,t,null,o),t}},enumerable:!1,configurable:!0}),e.prototype._refreshEntity=function(e){var t=this;return this.entity.refresh().then((function(){Object(G.d)(E.dispatch,t._contextToken,t._pageId),e&&E.dispatch(Object(O.Q)(t._contextToken,t._pageId,3,t.entity)),Object(z.b)(t.entity)}))},e.prototype.refresh=function(e){var t=this,r="ClientApi.XrmFormData.refresh";try{if(v.a.instance.reportCall(r),this.entity){var n=Object(s.kb)(E.getState(),{id:this._pageId},this._contextToken);return!n&&e&&this.entity.getIsDirty()?this.save().then((function(e){return v.a.instance.reportSuccess(r),{}})).catch((function(e){var n=m.a.getInstance().getEventParameters(t._contextToken);return Object(f.d)(E,e,r+".save",n)})):!n&&this.entity.getIsDirty()?E.dispatch(Object(B.a)(this._pageId)).then((function(e){if(e)return t._refreshEntity(!0).then((function(){return v.a.instance.reportSuccess(r),{}})).catch((function(e){var n=m.a.getInstance().getEventParameters(t._contextToken);return Object(f.d)(E,e,r+".handleUnsavedChanges.refreshEntity",n)}))})).catch((function(e){var n=m.a.getInstance().getEventParameters(t._contextToken);return Object(f.d)(E,e,r+".handleUnsavedChanges",n)})):this._refreshEntity(!0).then((function(){return v.a.instance.reportSuccess(r),{}})).catch((function(e){var n=m.a.getInstance().getEventParameters(t._contextToken);return Object(f.d)(E,e,r+".handleUnsavedChanges.refreshEntity",n)}))}var a=new U.a("Refresh action cannot be executed since form entity is null",2147746581);return N.a.getInstance().traceManager.getTracer(r).info("Refreshing on a non entity page"),Object(f.d)(E,a,r+".entity")}catch(e){var i=m.a.getInstance().getEventParameters(this._contextToken);return Object(f.d)(E,e,r,i)}},e.prototype.save=function(e){var t=this,r="ClientApi.XrmFormData.save",n=m.a.getInstance().getEventParameters(this._contextToken);if(!this._entity){var a=new U.a("Save action cannot be executed since form entity is null",2147746581);return Object(f.d)(E,a,r+".entity")}try{v.a.instance.reportCall(r);var i=1;return e&&e.saveMode&&(i=e.saveMode),J(this._pageId,E,i,n,this._contextToken,this.entity,!0,!0).then((function(e){if(e){var a={entityType:e.etn,id:o.a.toString(e.id),name:e.name};return Object(s.Kb)(E.getState(),t._pageId)?(v.a.instance.reportSuccess(r),{savedEntityReference:a}):t._refreshEntity(!1).then((function(){return v.a.instance.reportSuccess(r),{savedEntityReference:a}})).catch((function(e){return Object(f.d)(E,e,r+".refresh",n)}))}if(Object(s.kb)(E.getState(),{id:t._pageId},t._contextToken)||!t.entity.getIsDirty()){var i=t.entity.getEntityReference();return v.a.instance.reportSuccess(r),{savedEntityReference:i}}var c=new U.a("Save action was not executed and the form is dirty.",2147879192);return Object(f.d)(E,c,r+".NoReference",null,!1)})).catch((function(e){if(e&&(2200000006===e.errorCode||2200000004===e.errorCode)){var a=t.entity.getEntityReference();return v.a.instance.reportSuccess(r),Promise.resolve({savedEntityReference:a})}return Object(f.d)(E,e,r,n)}))}catch(e){return Object(f.d)(E,e,r,n)}},e.prototype.isValid=function(){var e,t,r,n="ClientApi.XrmFormData.isValid";try{v.a.instance.reportCall(n);var a=!0;if(this.entity&&!this.entity.isValid())a=!1;else if(this.attributes)for(var i=0;i<this.attributes.getLength();i++)if(!this.attributes.get(i).isValid()){a=!1;break}if(a&&(null===(t=null===(e=this._formContext)||void 0===e?void 0:e.ui)||void 0===t?void 0:t.controls))for(var o=0;o<this._formContext.ui.controls.getLength();o++){var s=this._formContext.ui.controls.get(o);if("formcomponent"===s.getControlType()&&s.isLoaded()&&!(null===(r=s.data)||void 0===r?void 0:r.isValid())){a=!1;break}}return a||E.dispatch(Object(q.b)(this._pageId,this._contextToken)),v.a.instance.reportSuccess(n),a}catch(e){var c=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(n,e,null,c),e}},e.prototype.addOnLoad=function(e){var t="ClientApi.XrmFormData.addOnLoad";e||Object(f.j)(t,"handler");try{v.a.instance.reportCall(t),E.dispatch(Object(O.c)(this._contextToken,this._pageId,e)),v.a.instance.reportSuccess(t)}catch(e){var r=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(t,e,null,r),e}},e.prototype.removeOnLoad=function(e){var t="ClientApi.XrmFormData.removeOnLoad";e||Object(f.j)(t,"handler");try{v.a.instance.reportCall(t),E.dispatch(Object(O.x)(this._contextToken,this._pageId,e)),v.a.instance.reportSuccess(t)}catch(e){var r=m.a.getInstance().getEventParameters(this._contextToken);throw m.a.getInstance().reportFailure(t,e,null,r),e}},e}();function J(e,t,r,n,a,i,c,l){var u=t.getState(),p=o.a.tryParseOrNull(i.getId());if(a.contextTokenType===X.a.GridRow){var d=[],h=Object(Y.T)(u,e,a.parentContextToken,a.parentContextToken.controlName);return i.attributes.forEach((function(e){return d.push(e.getName())})),n.push({name:"functionName",value:"saveEmbeddedEntity"}),t.dispatch(Object(Q.a)(e,i.getEntityName(),null==p?void 0:p.guid,null,d,null==h?void 0:h.guid,!1,a.parentContextToken))}if(Object(s.Kb)(u,e))return n.push({name:"functionName",value:"saveAndCloseFormDialogAction"}),t.dispatch(Object(W.a)(e));if(p&&!o.a.equals(p,o.a.EMPTY))return n.push({name:"functionName",value:"saveForm"}),t.dispatch(Object(G.e)(e,r));var g=Object(k.l)(t.getState(),e);return n.push({name:"functionName",value:"saveFormAndNavigate"}),t.dispatch(Object(G.f)(e,g,l,r,!1,c))}},"Wye+":function(e,t,r){"use strict";r.d(t,"a",(function(){return A}));var n=r("Gemh"),a=r("Nhrb");var i=r("/j9Z"),o=r("9r0m"),s=r("G7N+"),c=r("olrR"),l=r("RlP9"),u=r("r2h9"),p=r("8Fmj"),d=r("cqI9"),h=r("7dGM"),g=r("lMVv"),m=r("JlqV"),f=r("z9yS"),v=r("uO/V"),b=r("Yc9S"),y=r("0rak");var _=r("zETL"),C=r("3IUl"),S=r("bc+P"),O=r("xm8q"),I=r("okRr"),T=r("U/bH"),j=r("cZkS"),P=r("qC0c"),E=r("VcAV");function A(e,t,r,A,F,w){return{type:"grid.refresh.async",execute:function(N,k){var D=N.dispatch,M=N.getState,R=k.TraceManager.getTracer(v.z),L=v.x+".refreshGridAction";try{var V=M(),G=o.a.tryParseOrNull(A);if(G){var B=w||(r?u.a.SUB_GRID:u.a.MAIN_APPLICATION_VIEW);return function(e,t,r,a,p,d,h,g){var f=Object(n.qb)(t,g,r);if(f&&f.initialized===s.a.Initialized&&(Object(m.b)(t)||!Object(E.b)(f.offlineSqlQuery)))return Promise.resolve(g);var v=d||Object(n.F)(t,r,a,p),b=Object(l.f)(t,v,h),y=Object(l.f)(t,v,u.a.MAIN_APPLICATION_VIEW),_=b&&b[o.a.toString(g)]&&b[o.a.toString(g)].isUserView?u.b.userview:u.b.savedview;y&&y[o.a.toString(g)]&&y[o.a.toString(g)].isUserView&&(_=u.b.userview);return e(Object(c.a)(v,h,_,g)).then((function(e){if(!e)throw new i.a("View retrieval failed");return e}))}(D,V,e,t,r,F,B,G).then((function(i){R.info("Refreshing the grid with new view id - {0}"+G);var c=Object(n.T)(V,e,t);D(function(e,t,r,n){return Object(a.b)(e,t,"ViewId",r,n)}(e,r,A,t)),function(e,t,r,a,i,c,u,p,d){var h=function(e,t,r,a,i){return e||Object(n.F)(t,r,a,i)}(r,e,i,c,u),g=Object(n.qb)(e,a,i);if(g&&g.initialized===s.a.Initialized){var m=Object(l.f)(e,h,p),f=m&&m[o.a.toString(a)]&&m[o.a.toString(a)].isUserView;if(h===v.a&&(h=g.entityLogicalName?g.entityLogicalName:h),!g.title){var b=[];b.push({name:"view.title",value:"View title doesn't contains value"}),b.push({name:"ViewId",value:"ViewId: "+a}),b.push({name:"View",value:x(g)}),b.push({name:"entityTypeName",value:h}),d.EventManager.ReportComponentFailure("RefreshGrid",new Error("Title for recent item is null or empty."),"Analyze event parameters to understand why title is empty.",b)}var y={RecordType:I.a.Grid,EntityTypeName:h,LastAccessed:new Date,ObjectId:a,IsUserView:f,Title:g.title};t(Object(O.b)(y))}}(M(),D,F,i,e,t,r,B,k),Object(P.c)(M(),j.L)&&D(Object(T.b)(e,t)),F&&D(function(e,t,r,n){return Object(a.b)(e,t,"TargetEntityType",r,n)}(e,r,F,t)),D(Object(_.b)(e,t)),D(Object(C.b)(e,t,[])),D(Object(S.b)(e,t,null));var E=[];if(F&&E.push({name:"entityName",value:F}),!Object(n.ib)(V,e,t))return k.EventManager.ReportComponentSuccess(L,E),Promise.resolve();D(function(e,t,r,a,i,s){return{type:"chart.refresh.async",execute:function(c,_){var C=c.dispatch,S=c.getState,O=v.x+".refreshChartAction",I=S();if(!r)return Promise.resolve();if(!Object(m.b)(I))return Promise.resolve();var T=Object(l.c)(I,r);if(!(i=T&&T.entityLogicalName?T.entityLogicalName:null))return Promise.resolve();if(s===u.a.QUICKFIND_SEARCH&&(C(Object(y.c)(e,t,[])),C(Object(b.c)(e,t,"{}"))),!o.a.equals(a,r)){C(Object(y.c)(e,t,[])),C(Object(b.c)(e,t,"{}"));var j=Object(n.r)(I,e,t,i),P=Object(h.a)(I,j),E=P&&P.PrimaryEntityTypeCode,A=E&&Object(g.m)(I,parseInt(E,10));if(A&&i!==A)return C(Object(p.a)(i,f.a.savedvisualization)).then((function(r){var n=o.a.toString(r);return n||(n=o.a.EMPTYGUIDSTRING),C(Object(d.b)(e,t,n)).then((function(){_.EventManager.ReportComponentSuccess(O)}))}))}return _.EventManager.ReportComponentSuccess(O),Promise.resolve()}}}(e,t,G,c,F,w)).then((function(){return D(Object(_.b)(e,t)),k.EventManager.ReportComponentSuccess(L,E),Promise.resolve()})).catch((function(e){return k.EventManager.ReportComponentFailure(L,Error(e)),Promise.resolve()}))}))}if(Object(n.v)(M(),e,t)){R.info("Refreshing the grid."),D(Object(_.b)(e,t)),D(Object(C.b)(e,t,[])),D(Object(S.b)(e,t,null));var X=[];F&&X.push({name:"entityName",value:F}),k.EventManager.ReportComponentSuccess(L,X)}return Promise.resolve()}catch(e){var U="Refresh action for grid failed";e&&e.message&&(U+="with the error message as : "+e.message),k.EventManager.ReportComponentFailure(L,Error(U))}}}}function x(e){if(!e)return"View is "+e;var t={initialized:e.initialized,viewId:e.viewId,entityLogicalName:e.entityLogicalName,queryApi:e.queryApi,columnXML:e.columnXML,idColumName:e.idColumName,queryType:e.queryType,layoutXML:e.layoutXML,isUserView:e.isUserView,versionNumber:e.versionNumber,OverallVersionNumber:e.OverallVersionNumber,OverallUserVersionNumber:e.OverallUserVersionNumber};return JSON.stringify(t)}},XJ3n:function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n,a=r("fW82"),i=r("9r0m"),o=r("+Z9T"),s=r("BWVO"),c=r("WVwd"),l=r("/zIU"),u=r("GueY"),p=r("Gemh"),d=r("IiPO"),h=r("mPpC"),g=r("ks02"),m=r("FoZz"),f=r("sOTk"),v=r("gLMt"),b=r("ezfI"),y=function(){function e(e,t,r,a,i,s){var c="ClientApi.XrmGridRow.constructor";e||Object(o.j)(c,"store"),a||Object(o.j)(c,"pageId"),r||Object(o.j)(c,"contextToken"),i||Object(o.j)(c,"entityType"),s||Object(o.j)(c,"entityId"),n=e,this._applicationContext=t,this._pageId=a,this._contextToken=r,this._entityType=i,this._entityId=s}return Object.defineProperty(e.prototype,"applicationContext",{get:function(){return b.a.instance.reportUsage("ClientApi.XrmGridRow.applicationContext_get"),this._applicationContext},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){var e="ClientApi.XrmGridRow.context";try{return b.a.instance.reportCall(e),this._globalContext||(this._globalContext=new g.a(n,this._pageId)),b.a.instance.reportSuccess(e),this._globalContext}catch(r){var t=d.a.getInstance().getEventParameters(this._contextToken);throw t.push({name:"entityType",value:this._entityType}),d.a.getInstance().reportFailure(e,r,null,t),r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){var e=this,t="ClientApi.XrmGridRow.data";try{if(b.a.instance.reportCall(t),!this._data){var r=new s.a(n,this._contextToken,this._pageId,this,this._entityType,this._entityId,_,this._applicationContext);this._data=new c.a(n,this._contextToken,this._pageId,this,r);var a=new h.b(n,this._pageId),o=[],l={isEventParam:!0,name:"attributeName",value:""};o.push(l),r.attributes.forEach((function(r){var n=r.getName();l.value=n;var s={Id:n,Label:null,Name:n,ShowLabel:!1,Visible:!0,ClassId:new i.a(h.a),Disabled:!1,DataFieldName:n},c=a.createXrmControl(e._contextToken,s,e,t,o);c&&r.controls.add(c.getName(),c)}))}return b.a.instance.reportSuccess(t),this._data}catch(e){var u=d.a.getInstance().getEventParameters(this._contextToken);throw u.push({name:"entityType",value:this._entityType}),d.a.getInstance().reportFailure(t,e,null,u),e}},enumerable:!1,configurable:!0}),e.prototype.getData=function(){try{return b.a.instance.reportUsage("ClientApi.XrmGridRow.getData"),this.data}catch(t){var e=d.a.getInstance().getEventParameters(this._contextToken);throw e.push({name:"entityType",value:this._entityType}),d.a.getInstance().reportFailure("ClientApi.XrmGridRow.getData",t,null,e),t}},Object.defineProperty(e.prototype,"ui",{get:function(){try{if(b.a.instance.reportCall("ClientApi.XrmGridRow.ui"),!this._ui){var e=new h.b(n,this._pageId);this._ui=new u.a(n,this._contextToken,this._pageId,this,this._entityType,e)}return b.a.instance.reportSuccess("ClientApi.XrmGridRow.ui"),this._ui}catch(e){var t=d.a.getInstance().getEventParameters(this._contextToken);throw t.push({name:"entityType",value:this._entityType}),d.a.getInstance().reportFailure("ClientApi.XrmGridRow.ui",e,null,t),e}},enumerable:!1,configurable:!0}),e.prototype.getControl=function(e){var t="ClientApi.XrmGridRow.getControl";try{b.a.instance.reportCall(t);var r=this.ui.controls.get(e);return b.a.instance.reportSuccess(t),r}catch(e){var n=d.a.getInstance().getEventParameters(this._contextToken);throw n.push({name:"entityType",value:this._entityType}),d.a.getInstance().reportFailure(t,e,null,n),e}},e.prototype.getAttribute=function(e){var t="ClientApi.XrmGridRow.getAttribute";try{if(b.a.instance.reportCall(t),this.data.entity){var r=this.data.entity.attributes.get(e);return b.a.instance.reportSuccess(t),r}return b.a.instance.reportSuccess(t),null}catch(e){var n=d.a.getInstance().getEventParameters(this._contextToken);throw n.push({name:"entityType",value:this._entityType}),d.a.getInstance().reportFailure(t,e,null,n),e}},e.prototype.getUrl=function(e){var t="ClientApi.XrmGridRow.getUrl";try{b.a.instance.reportCall(t);var r=this.data.entity.getEntityReference();this._internal=new m.a(n,this._applicationContext,this.context,this._pageId);var o=Object(f.g)(n.getState(),this._pageId),s={entityTypeName:r.entityType,etn:r.name,id:i.a.fromExternalGuid(r.id),entityTypeCode:this._internal.getEntityCode(r.entityType),languageId:this.context.userSettings.languageId,recordSetQueryKey:o.recordSetQueryKey};if(1===e){var c=n.dispatch(Object(a.a)(l.a.EditForm,s));return b.a.instance.reportSuccess(t),c}var u=Object(v.a)(n,this._pageId),p=n.dispatch(Object(a.c)(u,l.a.EditForm,s));return b.a.instance.reportSuccess(t),p}catch(e){var h=d.a.getInstance().getEventParameters(this._contextToken);throw h.push({name:"entityType",value:this._entityType}),d.a.getInstance().reportFailure(t,e,null,h),e}},Object.defineProperty(e.prototype,"entityReference",{get:function(){try{return this.data.entity.getEntityReference()}catch(t){var e=d.a.getInstance().getEventParameters(this._contextToken);throw e.push({name:"entityType",value:this._entityType}),d.a.getInstance().reportFailure("ClientApi.XrmGridRow.entityReference",t,null,e),t}},enumerable:!1,configurable:!0}),e}();function _(e,t,r){var a=Object(p.D)(n.getState(),{id:r},t.parentContextToken);return a||(e.TraceManager.getTracer("ClientApi.XrmGridRow.getAttributeNames").error("Grid attributes was null"),[])}},XjtF:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n,a,i,o=r("EGsq"),s=r("cL6R"),c=r("KVkm"),l=r("WACO"),u=r("JlqV"),p=["JQUERY","JQUERY.JS"];function d(e){return{type:"customcontrol.loadresources",execute:function(t,r){var d=t.dispatch,h=t.getState,g=[],m=h(),f=Object(o.t)(m),v=e.Properties.Resources.filter((function(e,t,n){return(0===e.Type||4===e.Type||1===e.Type)&&!(e.LibraryName&&-1!==p.indexOf(e.LibraryName.toUpperCase())||r.AssetLoader.isResourceLoaded(f+e.Name))})).sort((function(e,t){return e.LoadOrder-t.LoadOrder})),b=e.Properties.Resources.filter((function(e,t,r){return 5===e.Type}));if(v.length>0){var y=void 0,_=function(){return function(e,t,r,a,i){for(var o=[],s=0;s<i.length;s++){var l=i[s],u=void 0,p=l.Name,d=r;if(n&&n[l.Name])d=window.__public_path__+"control",p=n[l.Name];else if(0===l.Type){var h=l.LibraryName+".js";n&&n[h]&&(d=window.__public_path__+"control",p=n[h])}switch(l.Type){case 0:case 4:u=a.loadWebResource(p,d,3,(function(t){return e(Object(c.a)(t))}),t,!1);break;case 1:u=u=a.loadWebResource(p,d,2,(function(t){return e(Object(c.a)(t))}),t);break;default:u=null}u&&o.push(u)}return Promise.all(o)}(d,!Object(u.b)(m),f,r.AssetLoader,v)};(y=!function(){null==i&&(i=window.location.search.toLocaleLowerCase().indexOf("uselocal=true")>=0);return i}()||n?_():function(){if(a)return a;if("/uclient/"!==window.__public_path__){if(!n){var e=window.__public_path__+"controlFileMap.json";(a=-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0?new Promise((function(t){var r=new XMLHttpRequest;r.addEventListener("load",(function(){var e={};try{e=JSON.parse(this.responseText)}catch(e){}t(e)})),r.addEventListener("error",(function(){t({})})),r.open("GET",e),r.send()})):fetch(e).then((function(e){return e.json()}),(function(){return Promise.resolve({})}))).then((function(e){n=e}),(function(){n={}}))}}else n={},a=Promise.resolve({});return a}().then(_,_))&&g.push(y)}for(var C=Object(l.k)(m),S=function(e){if(!C||!C.hasOwnProperty(b[e].Name)){var t=d(Object(s.c)(b[e].Name)).then((function(t){for(var r=!1,n=0,a=t;n<a.length;n++){var i=a[n];i&&i.webResourceDescriptorsByName&&i.webResourceDescriptorsByName.hasOwnProperty(b[e].Name)&&(r=!0)}!r&&d(Object(s.b)(b[e].Name))}));g.push(t)}},O=0;O<b.length;O++)S(O);return g.length>0?Promise.all(g):null},sync:!0}}},"Y+r4":function(e,t,r){"use strict";r.d(t,"a",(function(){return T}));var n,a,i=r("c/eZ"),o=r("1z64"),s=r("fW82"),c=r("sOTk"),l=r("BWVO"),u=r("WVwd"),p=r("ezfI"),d=r("/zIU"),h=r("GueY"),g=r("HSdq"),m=r("3NtJ"),f=r("fTYK"),v=r("+Z9T"),b=r("IiPO"),y=function(e){function t(t,r,a,i,o,s){var c=e.call(this,t,r,a,i,o,s)||this;return n=t,c}return Object(i.__extends)(t,e),t.prototype.getDefaultNextPageName=function(){var e="ClientApi.XrmNavigableFormUi.getDefaultNextPageName";try{p.a.instance.reportCall(e);var t=Object(g.M)(n.getState(),this.pageId,this.contextToken);return p.a.instance.reportSuccess(e),t}catch(t){var r=b.a.getInstance().getEventParameters(this.contextToken);throw b.a.getInstance().reportFailure(e,t,null,r),t}},t.prototype.movePrevious=function(){var e="ClientApi.XrmNavigableFormUi.movePrevious";try{p.a.instance.reportCall(e),n.dispatch(Object(f.b)(this.pageId,this.contextToken)),p.a.instance.reportSuccess(e)}catch(r){var t=b.a.getInstance().getEventParameters(this.contextToken);throw b.a.getInstance().reportFailure(e,r,null,t),r}},t.prototype.moveTo=function(e){var t,r="ClientApi.XrmNavigableFormUi.moveTo";try{if(p.a.instance.reportCall(r),e&&this.tabs){var a=Object(g.Gc)(n.getState(),this.pageId,e,this.contextToken);(t=this.tabs.get(null==a?void 0:a.Name))&&n.dispatch(Object(m.b)(this.pageId,this.contextToken,null==a?void 0:a.Id))}p.a.instance.reportSuccess(r)}catch(e){var i=b.a.getInstance().getEventParameters(this.contextToken);throw b.a.getInstance().reportFailure(r,e,null,i),e}t||Object(v.h)(r,"pageName",e)},Object.defineProperty(t.prototype,"taskProcess",{get:function(){return p.a.instance.reportUsage("ClientApi.XrmNavigableFormUi.taskProcess"),this},enumerable:!1,configurable:!0}),t}(h.a),_=r("9r0m"),C=r("FoZz"),S=r("gLMt"),O=r("ZOZo"),I=r("WS0f"),T=function(e){function t(t,r,n,i,s){var c=this,l=[{name:"pageId",value:s,isRequired:!0,isEventParam:!0,expectedDataType:"string"}];return(c=e.call(this,t,r&&r.etn,i,s,(function(e){return 10===e||12===e?y:h.a}),n)||this)._clientApiExecutorForm=new o.a(t,"ClientApi.XrmForm.",s,i,l),a=t,c._entityReference=r,c}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"applicationContext",{get:function(){return this._applicationContext},set:function(e){this._applicationContext=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){try{return p.a.instance.reportCall("ClientApi.XrmForm.context"),p.a.instance.reportSuccess("ClientApi.XrmForm.context"),this._globalContext}catch(e){throw this._reportFailure("ClientApi.XrmForm.context",e)}},set:function(e){this._globalContext=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"entityReference",{get:function(){var e=this;return this._clientApiExecutorForm.execute("entityReference_get",(function(){return{id:_.a.externalGuid(e._entityReference.id),entityType:e._entityReference.etn}}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){try{if(p.a.instance.reportCall("ClientApi.XrmForm.data"),!this._data){var e=void 0,t=Object(c.l)(a.getState(),this.pageId);t!==d.a.Dialog&&t!==d.a.ModalDialog&&this._entityReference&&(e=new l.a(a,this.contextToken,this.pageId,this,this._entityReference.etn,this._entityReference.id,j,this._applicationContext)),this._data=new u.a(a,this.contextToken,this.pageId,this,e)}return p.a.instance.reportSuccess("ClientApi.XrmForm.data"),this._data}catch(e){throw this._reportFailure("ClientApi.XrmForm.data",e)}},enumerable:!1,configurable:!0}),t.prototype.getAttribute=function(e){var t=this;return this._clientApiExecutorForm.execute("getAttribute",(function(){var r,n,a=null;return t.data&&t.data.entity&&(a=t.data.entity.attributes.get(e)),a?Object(I.a)(e)&&(a=a.concat(t.data.attributes.get(e))):a=null===(n=null===(r=t.data)||void 0===r?void 0:r.attributes)||void 0===n?void 0:n.get(e),a}))},t.prototype.getUrl=function(e){try{p.a.instance.reportCall("ClientApi.XrmForm.getUrl");var t=null,r=null;if(this.contextToken.parentContextToken){var n=this.data.entity.getEntityReference(),i={entityTypeName:n.entityType,etn:n.name,id:_.a.fromExternalGuid(n.id)};t=d.a.EditForm,r=i}else t=Object(c.l)(a.getState(),this.pageId),r=Object(c.g)(a.getState(),this.pageId);switch(t){case d.a.EditForm:var o=new C.a(a,this.applicationContext,this.context,this.pageId);r={entityTypeName:r.entityTypeName,etn:r.etn,id:r.id,entityTypeCode:o.getEntityCode(r.entityTypeName),languageId:this._globalContext.userSettings.languageId,recordSetQueryKey:r.recordSetQueryKey};break;case d.a.Grid:o=new C.a(a,this.applicationContext,this.context,this.pageId);r={entityTypeName:r.entityTypeName,pageType:r.pageType,entityTypeCode:o.getEntityCode(r.entityTypeName)}}var l=null;if(1===e)l=a.dispatch(Object(s.a)(t,r));else{var u=Object(S.a)(a,this.pageId);l=a.dispatch(Object(s.c)(u,t,r))}return p.a.instance.reportSuccess("ClientApi.XrmForm.getUrl"),l}catch(e){throw this._reportFailure("ClientApi.XrmForm.getUrl",e)}},t.prototype._reportFailure=function(e,t){var r=b.a.getInstance().getEventParameters(this.contextToken);return r.push({name:"entityName",value:this._entityReference.etn}),b.a.getInstance().reportFailure(e,t,null,r),t},t}(O.a);function j(e,t,r){var n=Object(g.bb)(a.getState(),r,t);return n||e.TraceManager.getTracer("ClientApi.XrmForm.getAttributeNames").error("Form attributes was null"),n}},YOvo:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
var n="navigation.item.visibility";function a(e,t,r){return{type:n,payload:{show:r},meta:{pageId:e,navigationItemId:t}}}},Yc9S:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return s}));var n=r("Sscr"),a=r("uO/V"),i="chart.filterexpression.update",o="ChartFilterExpression";function s(e,t,r){return{type:"chart.filterexpression.update.async",execute:function(s,c){var l=s.dispatch,u=s.getState,p=c.TraceManager.getTracer(a.z),d=a.x+".updateFilterExpressionAction";try{p.info("Updating the chart filter expression"),t||(t=Object(n.k)(u(),e));var h=Object(n.v)(t);return l(function(e,t,r){return{type:i,payload:{name:o,value:r},meta:{pageId:e,dataSetContextKey:t}}}(e,h,r)),c.EventManager.ReportComponentSuccess(d),Promise.resolve()}catch(e){var g="Updatation of the chart filter expression failed with error : "+e.message;c.EventManager.ReportComponentFailure(d,Error(g))}}}}},YdIa:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("Sscr"),a="attribute.targets.set";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function i(e,t,r,i){var o=Object(n.x)(t);return{type:a,payload:i,meta:{pageId:e,contextKey:o,dataFieldName:r}}}},ZOZo:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n,a=r("h82J"),i=r("HSdq"),o=r("1z64"),s=function(){function e(e,t,r,i,s,c){this._clientApiExecutor=new o.a(e,"ClientApi.XrmFormBase.",i,r,[{name:"store",value:e,isRequired:!0},{name:"entityName",value:this._entityName,isEventParam:!0},{name:"pageId",value:i,isRequired:!0,isEventParam:!0},{name:"contextToken",value:r,isRequired:!0},{name:"getUiType",value:s,isRequired:!0}]),n=e,this.pageId=i,this.contextToken=r,this._entityName=t,this._getUiType=s,this._xrmControlFactory=c,n.dispatch(Object(a.a)(this,i,r))}return Object.defineProperty(e.prototype,"ui",{get:function(){var e=this;return this._clientApiExecutor.execute("ui_get",(function(){if(!e._ui){var t={id:e.pageId},r=Object(i.fb)(n.getState(),t,e.contextToken),a=r&&r.FormType,o=e._getUiType(a);e._ui=new o(n,e.contextToken,e.pageId,e,e._entityName,e._xrmControlFactory)}return e._ui}))},enumerable:!1,configurable:!0}),e.prototype.getControl=function(e){var t=this,r=[{name:"entityName",value:this._entityName,isRequired:!1,isEventParam:!0}];return this._clientApiExecutor.execute("getControl",(function(){return t.ui.controls.get(e)}),r)},e}()},Zdrd:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));var n=r("Sscr"),a=r("uO/V"),i="chart.visualizationtype.update";function o(e,t,r){return{type:"chart.visualizationtype.update.async",execute:function(o,s){var c=o.dispatch,l=o.getState,u=s.TraceManager.getTracer(a.z),p=a.x+".updateVisualizationTypeAction";try{u.info("Update the chart visualization type"),t||(t=Object(n.k)(l(),e));var d=Object(n.v)(t);return c(function(e,t,r){return{type:i,payload:{name:"chartVisualizationType",value:r},meta:{pageId:e,dataSetContextKey:t}}}(e,d,r)),s.EventManager.ReportComponentSuccess(p),Promise.resolve()}catch(e){var h="Update the chart visualization type failed with error : "+e.message;s.EventManager.ReportComponentFailure(p,Error(h))}}}}},aBa1:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return h}));var n=r("c/eZ"),a=r("AhDg"),i=r("9r0m"),o=r("lMVv"),s=r("gBKR"),c=r("7pqb"),l=r("t8f4"),u=r("r0s4"),p=c.b.AdvancedFindLookupResolverParameters;function d(e,t,r){var l=[];return{type:"advancedFind.lookup.retrieve.async",execute:function(u,d,h){var m=u.dispatch,f=u.getState,v=new a.a(i.a.newGuid().guid,h&&h.isPreloadCall);l.push({name:c.b.ActionType,value:"advancedFind.lookup.retrieve.async"},{name:c.b.ClientRequestId,value:v.RequestId()},{name:p.PrimaryEntity,value:e},{name:p.Targets,value:t.join(",")});var b=t.reduce((function(e,t){var r;return Object(n.__assign)(Object(n.__assign)({},e),((r={})[t]=[],r))}),{});return m(Object(s.e)(b)).then((function(){var e=function(e,t,r,n){return function(a,i){var s=Object(o.h)(r,i);if(!s||!s.EntityLogicalName||!s.PrimaryNameAttribute)return n.push({name:p.EntityMetadataUnavailable,value:i}),a;var c='<fetch version="1.0" mapping="logical" no-lock="false"><entity name="'+s.EntityLogicalName+'"><attribute name="'+s.PrimaryNameAttribute+'"/><attribute name="'+s.PrimaryIdAttribute+'"/><order attribute="'+s.PrimaryNameAttribute+'" descending="false" /><filter type="or"><condition attribute="'+s.PrimaryNameAttribute+'" operator="like" value="%'+(t||"")+'%" /></filter></entity></fetch>',l=g(e,s,c,n);return a.push(l),a}}(m,r,f(),l),n=t.reduce(e,[]);return Promise.all(n).then((function(e){return Promise.resolve([].concat.apply([],e))}))}))},getSuccessParameters:function(){return l},getFailureParameters:function(e,t){return l}}}function h(e,t,r){var l=[];return{type:"advancedFind.lookup.retrieve.by.id.async",execute:function(u,d,h){var m=u.dispatch,f=u.getState,v=new a.a(i.a.newGuid().guid,h&&h.isPreloadCall);l.push({name:c.b.ActionType,value:"advancedFind.lookup.retrieve.async"},{name:c.b.ClientRequestId,value:v.RequestId()},{name:p.PrimaryEntity,value:e},{name:p.Targets,value:t.join(",")});var b=t.reduce((function(e,t){var r;return Object(n.__assign)(Object(n.__assign)({},e),((r={})[t]=[],r))}),{});return m(Object(s.e)(b)).then((function(){var e=function(e,t,r,n){return function(a,i){var s=Object(o.h)(r,i);if(!s||!s.EntityLogicalName||!s.PrimaryNameAttribute)return n.push({name:p.EntityMetadataUnavailable,value:i}),a;var c=t.filter((function(e){return!!e})).map((function(e){return'<condition attribute="'+s.PrimaryIdAttribute+'" operator="eq" value="'+e+'" />'})),l='<fetch version="1.0" mapping="logical" no-lock="false"><entity name="'+s.EntityLogicalName+'"><attribute name="'+s.PrimaryNameAttribute+'"/><attribute name="'+s.PrimaryIdAttribute+'"/><order attribute="'+s.PrimaryNameAttribute+'" descending="false" /><filter type="or">'+c+"</filter></entity></fetch>",u=g(e,s,l,n);return a.push(u),a}}(m,r,f(),l),n=t.reduce(e,[]);return Promise.all(n).then((function(e){return Promise.resolve([].concat.apply([],e))}))}))},getSuccessParameters:function(){return l},getFailureParameters:function(e,t){return l}}}function g(e,t,r,n){var a="?fetchXml="+Object(u.CrmUrlEncode)(r);return new Promise((function(r,i){e(Object(l.e)(t.EntityLogicalName,a,100)).then((function(e){var a=function(e,t){var r=[];t.value&&t.value.length>0&&t.value.forEach((function(t){r.push({id:t[e.PrimaryIdAttribute],displayName:t[e.PrimaryNameAttribute],entityLogicalName:(null==e?void 0:e.EntityLogicalName)||void 0,entityDisplayName:(null==e?void 0:e.DisplayName)||void 0})}));return r}(t,e);n.push({name:p.RetrieveRequestSuccess,value:"Retrieve Seccuess for "+t.EntityLogicalName+" Count: "+a.length}),r(a)}),(function(e){n.push({name:p.RetrieveRequestFail,value:"Failed to retrieve records for "+t.EntityLogicalName+" Error: "+e}),r([])}))}))}},bCrZ:function(e,t,r){"use strict";r.d(t,"f",(function(){return m})),r.d(t,"d",(function(){return f})),r.d(t,"e",(function(){return y})),r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return g})),r.d(t,"c",(function(){return b}));var n=r("c/eZ"),a=r("9r0m"),i=r("Sscr"),o=r("uO/V"),s=r("nn4v"),c=r("Gemh"),l=r("cZkS"),u=r("qC0c"),p=r("U/bH"),d=r("jigW"),h="grid.initialize",g="grid.initialize.xrmready";function m(e,t,r){return{type:"grid.preinitialize.sync",sync:!0,execute:function(n,a){var i=n.dispatch,s=(n.getState,o.x+".gridPreInitializedAction");try{i(v(null,e,t,r,void 0,void 0,void 0,void 0,null));var c=[{name:"entityTypeName",value:e}];return a.EventManager.ReportComponentSuccess(s,c),Promise.resolve(void 0)}catch(t){var l="Failed for "+e+" with error "+t.message;return a.EventManager.ReportComponentFailure(s,Error(l)),Promise.resolve(void 0)}}}}function f(e,t,r,a,i,d,h,g,m){return e?{type:"grid.initialize.async",execute:function(f,b){var y=f.dispatch,_=f.getState,C=o.x+".gridInitializedAction";try{var S=null;Object(u.c)(_(),l.zb)&&(S=function(e,t,r){var a=Object(c.v)(e,t,r),i=Object(n.__assign)({},s.a);return a&&(a.filters&&(i.filters=a.filters),a.customFilter&&(i.customFilter=a.customFilter),a.pageNumber&&(i.pageNumber=a.pageNumber),a.pagingRefreshInput&&(i.pagingRefreshInput=a.pagingRefreshInput)),i}(_(),r,a)),y(v(e,t,r,a,i,d,h,g,S,m));var O=[];return O.push({name:"entityTypeName",value:t}),b.EventManager.ReportComponentSuccess(C,O),Object(u.c)(_(),l.L)&&y(Object(p.b)(r,a)),Promise.resolve(void 0)}catch(e){var I="Grid initialized failed for entity type "+t;return b.EventManager.ReportComponentFailure(C,Error(I)),Promise.reject(void 0)}}}:null}function v(e,t,r,c,l,u,p,g,m,f){var v=l&&l.Parameters?l.Parameters[o.j]:null;try{var b=!0;v&&(b="true"===v);var y=Object(i.u)(c),_={contextKey:y,initialDataSetState:Object(n.__assign)(Object(n.__assign)(Object(n.__assign)({},s.a),m),{viewId:e?e.viewId:null,fetchXml:e?e.fetchXml:null,relationshipName:u,relationshipRoleOrdinal:p,useRollupView:g||!1,commandManagerId:f||Object(d.d)(r,c),controls:{homepageGrid:{parameters:{0:{Name:o.C,Value:e&&e.viewId?a.a.toString(e.viewId):null},1:{Name:o.j,Value:b},2:{Name:o.u,Value:t}}}}})};return{type:h,payload:_,meta:{pageId:r,contextKey:y}}}catch(e){throw Error(e)}}function b(e,t,r,c){var l=Object(i.u)(c),u=a.a.tryParseOrNull(t),p={contextKey:l,initialDataSetState:Object(n.__assign)(Object(n.__assign)({},s.a),{viewId:u||null,fetchXml:null,commandManagerId:Object(d.d)(r,c),controls:{homepageGrid:{parameters:{0:{Name:o.C,Value:t||null},1:{Name:o.j,Value:!1},2:{Name:o.u,Value:e}}}}})};return{type:h,payload:p,meta:{pageId:r,contextKey:l}}}function y(e,t,r,n){return t(e.ScriptManager.getContainer(n).getEventManager().loadGridScripts(r,n))}},bH46:function(e,t,r){"use strict";r.d(t,"c",(function(){return d})),r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return h}));var n=r("9r0m"),a=r("vYfn"),i=r("i8/j"),o=r("F2uj"),s=r("gBKR"),c=r("VWqI"),l=r("j6Db"),u=r("+Xnp"),p=["activitytypecode","prioritycode","scheduledend","subject","description","regardingobjectid","ownerid","createdon","statecode","modifiedon"];function d(e,t,r){return{type:"formandattribute.retrieve.async",execute:function(c,u){var d=c.dispatch,m=c.getState,f="Card"===r;return e.etn&&"activitypointer"===e.etn&&f?d(Object(s.f)("activitypointer",!1,p)).then((function(){for(var t=m(),r={},n=0,a=p;n<a.length;n++){var i=a[n],s=Object(o.a)(t,e.etn,i);s&&h(t,e.etn,i,s)&&(r[i]=s)}return g(t,e.etn,r,Object(o.d)(t,e.etn)),{formDescriptor:null,attributeDescriptors:r}})):d(Object(a.b)(e,t,r)).then((function(a){var c={},p=null;return e.etn?d(Object(s.f)(e.etn,!0,[])).then((function(){var t=m();if(!n.a.isNullOrEmpty(a)&&(p=Object(i.j)(t,a))&&p.Attributes)for(var r in p.Attributes){var s=p.Attributes[r],l=Object(o.a)(t,e.etn,s);l&&h(t,e.etn,s,l)&&(c[s]=l)}return f&&g(t,e.etn,c,Object(o.d)(t,e.etn)),{formDescriptor:p,attributeDescriptors:c}})):(u.EventManager.ReportComponentSuccess("Form.CustomControl.retrieveFormWithAttributes",[{name:"APIName",value:l.a+".Actions.RetrieveFormWithAttributesAction"},{name:"formId",value:n.a.toString(t)},{name:"formType",value:r}]),null)}),(function(e){var a=e.get_message();u.EventManager.ReportComponentFailure("Form.CustomControl.retrieveFormWithAttributes",new Error(a),a,[{name:"APIName",value:l.a+".Actions.RetrieveFormWithAttributesAction"},{name:"formId",value:n.a.toString(t)},{name:"formType",value:r}])}))}}}function h(e,t,r,n){return Object(c.f)(e,t,r,u.a.CanRead)&&n&&n.IsValidForRead}function g(e,t,r,n){if(n)for(var a in n){var i=n[a];!i.IsSortableEnabled&&"modifiedon"!==i.LogicalName||r[a]||!h(e,t,i.LogicalName,i)||"image"===i.Type||"multiselectpicklist"===i.Type||(r[a]=i)}}},bJYk:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r("9r0m"),a=r("sOTk"),i=r("Z1aD"),o=r("KQ+A"),s=r("t8f4"),c=r("QAhb"),l=r("lMVv"),u=r("WS0f"),p=r("riBC"),d=r("7EJx"),h=r("JlqV"),g=r("HSdq"),m=r("YEEA");function f(e,t,r,c){var f=[{name:"formId",value:e},{name:"pageName",value:r}];return{type:"form.change",execute:function(b,y,_){var C=b.dispatch,S=b.getState,O=S();if(Object(g.Eb)(O,t))return Promise.reject(Object(m.b)(O,t,2200000016));var I=Object(a.g)(O,t),T=I.entityTypeName,j=I.id,P=I.recordSetQueryKey,E=I.data,A=I.createFromRelationship,x=I.initWithEntity;f.push({name:"entityTypeName",value:T});var F=n.a.tryParse(e),w={entityTypeName:T,formId:F,id:c?n.a.tryParse(c):j,recordSetQueryKey:P,data:E,createFromRelationship:A,initWithEntity:x},N=F.guid.toString(),k='<MRUForm><Form Type="Main" Id="'+N+'" /></MRUForm>',D=Object(p.c)(O,T);return C(Object(i.a)(r,w,t,{replaceState:!0})).then((function(e){var t,r;if(0===e.status)if(Object(h.b)(S()))null==D||D===n.a.EMPTY?function(e,t,r,a,i,c,p,h){var g=Object(l.p)(a,e),m=Object(d.q)(a),f="?$select=userentityuisettingsid&$filter=objecttypecode eq {0} and _ownerid_value eq '{1}'&$top=1",b=String.format(f,g.toString(),m.guid.toString());i(Object(s.e)("userentityuisettings",b)).then((function(d){d.value&&d.value.length>0&&(r=d.value[0].userentityuisettingsid?new n.a(d.value[0].userentityuisettingsid):n.a.EMPTY),Object(u.a)(r)||Object(u.a)(c)||Object(u.a)(e)||0===e.length||n.a.isNullOrEmpty(r)?null!=r&&r!==n.a.EMPTY||function(e,t,r,a,i,c,p){var d=n.a.EMPTY,h=Object(l.p)(r,e),g="userentityuisettings";a(Object(s.b)(g,{objecttypecode:h,lastviewedformxml:t})).then((function(t){if(d=t,!(Object(u.a)(d)||Object(u.a)(i)||Object(u.a)(e)||0===e.length||n.a.isNullOrEmpty(d))){var r=p.TraceManager.getTracer("Forms.FormSelectorChange"),s="Created an entry for selected form successfully formid : "+i;r.info(s),a(Object(o.b)(e,i,d))}})).catch((function(t){if(-2147093999===t.errorCode)return Object(u.a)(i)||Object(u.a)(e)||0===e.length||a(Object(o.b)(e,i,d)),{};var r=[{name:"CorrelationId",value:c.correlationId},{name:"ContextId",value:c.contextId},{name:"ActionStack",value:c.stack},{name:"entityName",value:e},{name:"reason",value:t&&t.message?t.message:JSON.stringify(t)}],n="Catch block of ChangeForm.oDataCreate, for formid: "+i;p.EventManager.ReportComponentFailure("Forms.FormSelectorChange",Error(n),void 0,r),p.TraceManager.getTracer("Forms.FormSelectorChange").error(n,r)}))}(e,t,a,i,c,p,h):v(e,t,r,a,i,c,p,h)})).catch((function(t){if(-2147093999===t.errorCode)return Object(u.a)(c)||Object(u.a)(e)||0===e.length||i(Object(o.b)(e,c,r)),{};var n=[{name:"CorrelationId",value:p.correlationId},{name:"ContextId",value:p.contextId},{name:"ActionStack",value:p.stack},{name:"entityName",value:e},{name:"reason",value:t&&t.message?t.message:JSON.stringify(t)}],a="Catch block of ChangeForm.oDataRetrieve, for formid: "+c;h.EventManager.ReportComponentFailure("Forms.FormSelectorChange",Error(a),void 0,n),h.TraceManager.getTracer("Forms.FormSelectorChange").error(a,n)}))}(T,k,D,S(),C,F,_,y):v(T,k,D,S(),C,F,_,y);else{Object(u.a)(F)||Object(u.a)(T)||0===T.length||C(Object(o.b)(T,F,D));var a=null===(t=null==y?void 0:y.TraceManager)||void 0===t?void 0:t.getTracer("Forms.FormSelectorChange"),i="Selected form did not save in the UserEntityUiSetting table, for formid: "+F;null==a||a.info(i)}else if(1===e.status){a=null===(r=null==y?void 0:y.TraceManager)||void 0===r?void 0:r.getTracer("Forms.FormSelectorChange"),i="Could not change to form with id "+N+" due to a navigation failure or because navigation was cancelled";null==a||a.info(i,f)}return e}))},getFailureParameters:function(e,t){return f}}}function v(e,t,r,a,i,l,p,d){var h=new c.a("userentityuisettings",r);i(Object(s.f)(h,{lastviewedformxml:t})).then((function(){if(!(Object(u.a)(r)||Object(u.a)(l)||Object(u.a)(e)||0===e.length||n.a.isNullOrEmpty(r))){var t=d.TraceManager.getTracer("Forms.FormSelectorChange"),a="Updated selected form successfully to : "+l;t.info(a),i(Object(o.b)(e,l,r))}})).catch((function(t){if(-2147093999===t.errorCode)return Object(u.a)(l)||Object(u.a)(e)||0===e.length||i(Object(o.b)(e,l,r)),{};var n=[{name:"CorrelationId",value:p.correlationId},{name:"ContextId",value:p.contextId},{name:"ActionStack",value:p.stack},{name:"entityName",value:e},{name:"reason",value:t&&t.message?t.message:JSON.stringify(t)}],a="Catch block of ChangeForm.oDataUpdate, for formid: "+l;d.EventManager.ReportComponentFailure("Forms.FormSelectorChange",Error(a),void 0,n),d.TraceManager.getTracer("Forms.FormSelectorChange").error(a,n)}))}},c0jI:function(e,t,r){"use strict";r.d(t,"g",(function(){return _})),r.d(t,"i",(function(){return C})),r.d(t,"h",(function(){return S})),r.d(t,"e",(function(){return O})),r.d(t,"f",(function(){return I})),r.d(t,"a",(function(){return T})),r.d(t,"c",(function(){return P})),r.d(t,"b",(function(){return A})),r.d(t,"d",(function(){return j}));var n=r("c/eZ"),a=r("uO/V"),i=r("Gemh"),o=r("sOTk");function s(e,t,r,n){var a,i;return{type:"update.grid.configuration",payload:((a={})[t]=((i={})[r]=e,i),a),meta:{pageId:n}}}function c(e,t,r){var n;return{type:"update.views.configuration",payload:((n={})[t]=e,n),meta:{pageId:r}}}var l=r("RXRQ"),u=r("U0B9"),p=r("2OIc"),d=r("i8/j"),h=r("9r0m"),g=r("RlP9"),m=r("S2mk"),f=r("T2Xs"),v=r("j6Db"),b=r("OTOS");function y(e,t){var r=Object(n.__assign)({},e.CustomControls);if(e.CustomControls[t]&&!e.CustomControls[t].isDefaultConfig){var a=!1;for(var i in e.CustomControls)if(T(e.CustomControls[i],e.CustomControls[t])&&i!==t.toString()){a=!0;break}if(!a){var o=-1;r[o]?o--:r[o.toString()]=e.CustomControls[t]}}return r[t]=null,r}function _(e,t,r,a,p){return{type:"customcontrol.changevisualization.homepage",sync:!0,execute:function(d,h){var g,m,b=d.dispatch,y=d.getState,_=y(),C=Object(u.b)(_),S=Object(i.k)(_,e,t),O={UniqueId:S?S.UniqueId:null,CustomControls:(g={},g[C]=Object(n.__assign)(Object(n.__assign)({},r),{FormFactor:C}),g),FormLibraries:S?S.FormLibraries:null,EventHandlers:S?S.EventHandlers:null},I=Object(o.g)(_,e).entityTypeName;if(p){var T=Object(i.T)(_,e,t);b(c({UniqueId:null,CustomControls:(m={},m[C]=null,m),FormLibraries:null,EventHandlers:null},T.guid,e))}b(Object(l.c)(r.CustomControlId)).then((function(){b(s(O,I,a,e))}),(function(t){var n=Object(f.b)(y(),r.CustomControlId);h.EventManager.ReportComponentFailure(n+".CustomControl.retrieveControlManifest",t,"retrieveControlManifest failure error message",[{name:"APIName",value:v.a+".Actions.SwitchVisualization"},{name:"entityTypeName",value:I},{name:"customControlId",value:r.CustomControlId},{name:"pageId",value:e},{name:"controlId",value:a},{name:"config",value:JSON.stringify(r)}])}))}}}function C(e,t,r,a,p){return{type:"customcontrol.changevisualization.homepage",sync:!0,execute:function(d){var h,m=d.dispatch,f=(0,d.getState)(),v=Object(u.b)(f),b=Object(i.T)(f,e,t),_=Object(g.d)(f,b),C={UniqueId:_?_.UniqueId:null,CustomControls:(h={},h[v]=Object(n.__assign)(Object(n.__assign)({},r),{FormFactor:v}),h),FormLibraries:_?_.FormLibraries:null,EventHandlers:_?_.EventHandlers:null},S=Object(o.g)(f,e).entityTypeName;if(p){var O=Object(i.k)(f,e,t);if(O&&O.CustomControls&&O.CustomControls[v]){var I={UniqueId:O.UniqueId,CustomControls:y(O,v),FormLibraries:O.FormLibraries,EventHandlers:O.EventHandlers};m(s(I,S,a,e))}}m(Object(l.c)(r.CustomControlId)).then((function(){m(c(C,b.guid,e))}))}}}function S(e,t,r){return{type:"customcontrol.changevisualization.subgrid",sync:!0,execute:function(a){var i,o=a.dispatch,c=(0,a.getState)(),h=Object(u.b)(c),g=Object(b.b)(c,e),m=Object(d.b)(c,e,g,r),f=Object(p.b)(c,m.UniqueId,g);if(f&&f.CustomControls){var v={UniqueId:m.UniqueId,CustomControls:(i={},i[h]=Object(n.__assign)(Object(n.__assign)({},t),{FormFactor:h}),i),FormLibraries:f.FormLibraries,EventHandlers:f.EventHandlers};o(Object(l.c)(t.CustomControlId)).then((function(){o(s(v,g.guid,f.UniqueId,e))}))}}}}function O(e,t,r,a,i){return{type:"customcontrol.changevisualization.associatedgrid.grid",sync:!0,execute:function(o){var c,p=o.dispatch,d=(0,o.getState)(),h=Object(u.b)(d),g={UniqueId:i.UniqueId,CustomControls:(c={},c[h]=Object(n.__assign)(Object(n.__assign)({},a),{FormFactor:h}),c),FormLibraries:i.FormLibraries,EventHandlers:i.EventHandlers};p(Object(l.c)(a.CustomControlId)).then((function(){p(s(g,t,r,e))}))}}}function I(e,t,r,a,i,o,p){return{type:"customcontrol.changevisualization.associatedgrid.view",sync:!0,execute:function(d){var h,g=d.dispatch,m=(0,d.getState)(),f=Object(u.b)(m),v={UniqueId:o.UniqueId,CustomControls:(h={},h[f]=Object(n.__assign)(Object(n.__assign)({},i),{FormFactor:f}),h),FormLibraries:o.FormLibraries,EventHandlers:o.EventHandlers};if(p&&p.CustomControls&&p.CustomControls[f]){var b={UniqueId:p.UniqueId,CustomControls:y(p,f),FormLibraries:p.FormLibraries,EventHandlers:p.EventHandlers};g(s(b,t,r,e))}g(Object(l.c)(i.CustomControlId)).then((function(){g(c(v,a.guid,e))}))}}}function T(e,t){if(e&&t){var r=!!e==!!t&&e.CustomControlId===t.CustomControlId&&e.Name===t.Name&&e.ShouldOverrideControlVisible===t.ShouldOverrideControlVisible&&e.Version===t.Version&&e.isDefaultConfig===t.isDefaultConfig&&function e(t,r){var n,a;if(t&&r&&t!==r){if(t instanceof Array&&r instanceof Array&&t.length!==r.length)return!1;for(var i in t)if(t[i]!==r[i]){if("function"==typeof t[i])continue;if(t[i]&&r[i]&&"object"==typeof t[i]&&"object"==typeof r[i]){if(e(t[i],r[i]))continue;return!1}if("EnableViewPicker"===i)return(null===(n=t[i])||void 0===n?void 0:n.toString())===(null===(a=r[i])||void 0===a?void 0:a.toString());if("ExtraFilters"!==i&&"PagingInput"!==i&&"FilteringInput"!==i&&"RefreshInput"!==i&&"ViewId"!==i&&"EntityName"!==i&&"LinkingInput"!==i&&"FirstDataRequestType"!==i&&"NativeFilterExpressionToRestore"!==i&&"LookupAttributeNameForHierarchy"!==i&&"SortingInput"!==i&&"function"!=typeof t[i])return!1}}return!0}(e.Parameters,t.Parameters);if(e.Children&&t.Children){if(Object.keys(e.Children).length===Object.keys(t.Children).length){for(var n in e.Children)r=r&&T(e.Children[n],t.Children[n]);return r}return!1}return r&&e.Children===t.Children}return!!e==!!t}function j(e,t,r,n,a,i,o,s){var c=t?t.TraceManager.getTracer("customcontrol"):null;return e(P(r,n,i.configuration,i,i.contextString,s).map((function(e){return e.configuration.DisplayNameKey}))).catch((function(e){return c&&c.info("Resource retrieve failed: "+e.message),Promise.resolve()}))}function P(e,t,r,n,i,o){var s=[];if(null==o)return s;if(i===a.h.CUSTOM&&n.configuration.isDefaultConfig)return s;var c=i===a.h.GRID||i===a.h.ASSOCIATEDGRID?Object(m.u)(n&&n.controlId,n&&n.gridEntityTypeName,n&&h.a.toString(n.viewId)):Object(m.x)(n&&n.controlId,n&&n.descriptor.Parameters);return s.push({configuration:c,formFactor:o,configurationType:null}),e&&e.CustomControls&&E(s,e,"GRID_CONFIG"),t&&t.CustomControls&&E(s,t,"VIEW_CONFIG"),s}function E(e,t,r){for(var n in t.CustomControls)if(t.CustomControls[n]&&!t.CustomControls[n].isDefaultConfig){for(var a=!1,i=0;i<e.length;i++)if(T(e[i].configuration,t.CustomControls[n])){a=!0;break}a||e.push({configuration:t.CustomControls[n],formFactor:n,configurationType:r})}}function A(e,t){return null!=t.DisplayNameKey?null!=e&&null!=e[t.DisplayNameKey]?e[t.DisplayNameKey]:t.DisplayNameKey:"Grid"}},cQE4:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("HSdq");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function a(e,t,r){var a=Object(n.cb)(e,t,r);return a?a.footer:null}},cm3g:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){function e(e){this._value=null,this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e},enumerable:!1,configurable:!0}),e}()},cqI9:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));var n=r("Sscr"),a=r("uO/V"),i="chart.visualizationid.update";function o(e,t,r){return{type:"chart.visualizationid.update.async",execute:function(o,s){var c=o.dispatch,l=o.getState,u=s.TraceManager.getTracer(a.z),p=a.x+".updateVisualizationIdAction";try{u.info("Updating the chart visualization id"),t||(t=Object(n.k)(l(),e));var d=Object(n.v)(t);return c(function(e,t,r){return{type:i,payload:{name:"VisualizationId",value:r},meta:{pageId:e,dataSetContextKey:t}}}(e,d,r)),s.EventManager.ReportComponentSuccess(p),Promise.resolve()}catch(e){var h="Updatation of the chart visualization id failed with error : "+e.message;s.EventManager.ReportComponentFailure(p,Error(h))}}}}},"d26+":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s}));var n=r("Sscr"),a=r("jigW"),i=r("uO/V"),o="dataset.update.fetchxml";function s(e,t,r){return{type:"dataset.update.fetchxml.async",execute:function(s,c){var l=s.dispatch,u=(s.getState,c.TraceManager.getTracer(i.z)),p=i.x+".updateFetchXMLAction";try{u.info("Updating the fetch xml for the grid."),l(function(e,t,r){var a=Object(n.y)(t),i=Object(n.v)(t);return{type:o,payload:r,meta:{pageId:e,contextKey:a,dataSetContextKey:i}}}(e,t,r));var d=Object(a.j)(r),h=[];return h.push({name:"fetchXML",value:d}),c.EventManager.ReportComponentSuccess(p,h),Promise.resolve()}catch(e){var g="Updating the fetchxml for the grid with contextKey : "+Object(n.v)(t)+" failed with the error : "+e.message;c.EventManager.ReportComponentFailure(p,Error(g))}}}}},e2rP:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("Sscr"),a="header.commandbarvisible";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function i(e,t,r){var i=Object(n.v)(t);return{type:a,payload:r,meta:{pageId:e,contextKey:i}}}},"fH/t":function(e,t,r){"use strict";r.d(t,"g",(function(){return n})),r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return s})),r.d(t,"f",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"j",(function(){return u})),r.d(t,"h",(function(){return p})),r.d(t,"i",(function(){return d})),r.d(t,"k",(function(){return h}));
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
var n="Grid_Paging_Mask",a="Grid_StatusMessage_Mask",i="Grid_ItemsSelected_Mask",o="Grid_TotalCount_Mask",s="Grid_ToolTip_FirstPage",c="Grid_ToolTip_PreviousPage",l="Grid_ToolTip_NextPage",u="Grid_TotalCount_SpaceMask",p="Grid_TotalCount_Approximate",d="Grid_TotalCount_Exact",h=[n,a,i,o,s,c,l,u,p,d]},fTYK:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("Sscr"),a="form.tab.selectPrevious";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function i(e,t){var r=Object(n.v)(t);return{type:a,payload:null,meta:{pageId:e,contextKey:r}}}},gRWC:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
var n="formSelector.visible";function a(e,t,r){return{type:n,payload:{visible:r},meta:{pageId:e,formId:t}}}},grpZ:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return l}));var n=r("9r0m"),a=r("uQP8"),i=r("sOTk"),o=r("i8/j");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
function s(e,t,r){var n;void 0===r&&(r=!1);var s=Object(i.g)(e,t).entityTypeName,c=Object(o.n)(e,s);if(!r)return c;var l=Object(a.a)(e,t),u=null===(n=null==l?void 0:l.formSelector)||void 0===n?void 0:n.forms,p=c;if(u&&Object.keys(u).length>0)for(var d in p=new Object,c)u[d]&&!u[d].visible||(p[d]=c[d]);return p}function c(e,t,r){var s,c,l=Object(a.a)(e,t),u=n.a.toString(r);if(null===(c=null===(s=null==l?void 0:l.formSelector)||void 0===s?void 0:s.forms)||void 0===c?void 0:c[u])return l.formSelector.forms[u].visible;var p=Object(i.g)(e,t).entityTypeName;return!!Object(o.m)(e,p,r)||null}function l(e,t){var r,n=Object(a.a)(e,t);return null===(r=null==n?void 0:n.formSelector)||void 0===r?void 0:r.selectedFormId}},hE7j:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("Sscr"),a="control.setSrc";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function i(e,t,r,i){var o=Object(n.v)(r);return{type:a,payload:{Url:i,isCustomSrc:!0},meta:{pageId:e,controlName:t,contextKey:o}}}},i6iy:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return f}));var n=r("cZkS"),a=r("9r0m"),i=r("Gemh"),o=r("qC0c"),s=r("Wye+"),c=r("UOiB"),l=r("olrR"),u=r("RlP9"),p=r("r2h9"),d=r("uO/V"),h=r("19Zc"),g=r("jigW");function m(e,t,r,m){return{type:"grid.quickfind.apply.async",execute:function(f,v){var b=f.dispatch,y=f.getState,_=v.TraceManager.getTracer(d.z),C=d.x+".QuickFilterAction";try{var S=y(),O=Object(i.F)(S,t,r,m);return function(e,t,r){return new Promise((function(n){var a=Object(u.a)(e,r,p.a.QUICKFIND_SEARCH);a?n(a):t(Object(l.a)(r,p.a.QUICKFIND_SEARCH,p.b.savedview)).then((function(e){n(e)}))}))}(S,b,O).then((function(l){_.info("Performing quick find on the grid ");var u=Object(i.T)(S,t,r,m),d=u,f=r.contextTokenType===c.a.SubGrid,O=!1;if(f&&r.controlName){var I=Object(i.hb)(y(),t,r,r.controlName);I&&(O=I.EnableViewPicker)}return Object(o.a)(y(),n.Nd)&&f&&!O||Object(g.l)(S)||(d=l),b(Object(h.n)(e,t,r)),b(Object(s.a)(t,r,m,a.a.toString(d),null,p.a.QUICKFIND_SEARCH)).then((function(){return v.EventManager.ReportComponentSuccess(C),u}))}))}catch(e){v.EventManager.ReportComponentFailure(C,Error("Unable to perform a quick find on the grid"))}}}}function f(e,t,r,n){return{type:"grid.quickfind.clear.async",execute:function(i,o){var c=i.dispatch,l=(i.getState,o.TraceManager.getTracer(d.z)),u=d.x+".QuickFilterAction";try{return l.info("Clearing quick find from the grid."),c(Object(h.n)("",t,r)),c(Object(s.a)(t,r,n,a.a.toString(e))).then((function(){o.EventManager.ReportComponentSuccess(u)}))}catch(e){o.EventManager.ReportComponentFailure(u,Error("Unable to clear quick find value for grid"))}}}}},ig6i:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){function e(e,t){this._etn=null,this._attributeName=null,this._etn=e,this._attributeName=t}return Object.defineProperty(e.prototype,"etn",{get:function(){return this._etn},set:function(e){this._etn=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributeName",{get:function(){return this._attributeName},set:function(e){this._attributeName=e},enumerable:!1,configurable:!0}),e}()},ixd0:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n,a=r("9r0m"),i=r("IiPO"),o=r("sOTk"),s=r("+Z9T"),c=r("ezfI"),l=r("bJYk"),u=r("gRWC"),p=r("grpZ"),d=function(){function e(e,t,r,a){this._id=e,this._label=t,n=r,this._pageId=a}return e.prototype.getId=function(){var e="ClientApi.XrmFormSelectorItem.getId";try{c.a.instance.reportCall(e);var t=a.a.toString(this._id);return c.a.instance.reportSuccess(e),t}catch(t){throw i.a.getInstance().reportFailure(e,t),t}},e.prototype.getLabel=function(){return c.a.instance.reportUsage("ClientApi.XrmFormSelectorItem.getLabel"),this._label},e.prototype.getPageId=function(){return c.a.instance.reportUsage("ClientApi.XrmFormSelectorItem.getPageId"),this._pageId},e.prototype.setVisible=function(e){var t="ClientApi.XrmFormSelectorItem.setVisible";try{c.a.instance.reportCall(t),n.dispatch(Object(u.b)(this._pageId,a.a.toString(this._id),e)),c.a.instance.reportSuccess(t)}catch(e){throw i.a.getInstance().reportFailure(t,e),e}},e.prototype.getVisible=function(){var e="ClientApi.XrmFormSelectorItem.getVisible";try{c.a.instance.reportCall(e);var t=Object(p.c)(n.getState(),this._pageId,this._id);return c.a.instance.reportSuccess(e),t}catch(t){throw i.a.getInstance().reportFailure(e,t),t}},e.prototype.navigate=function(){var e="ClientApi.XrmFormSelectorItem.navigate";try{this._pageId||Object(s.j)(e,"PageId"),c.a.instance.reportCall(e);var t=Object(o.g)(n.getState(),this._pageId),r=t&&t.id?t.id.guid:"",a=Object(o.l)(n.getState(),this._pageId);n.dispatch(Object(l.a)(this._id.guid,this._pageId,a,r)).then((function(){c.a.instance.reportSuccess(e)})).catch((function(t){return Object(s.d)(n,t,e+".changeForm")}))}catch(t){throw i.a.getInstance().reportFailure(e,t),t}},e}()},ksD2:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return d}));var n=r("Sscr"),a=r("HSdq"),i=r("s0Zj"),o=r("ar+e"),s=r("B188"),c=r("4sax"),l=r("7pqb"),u=r("KzM6"),p="tab.visible";function d(e,t,r,d){return{type:"tab.visible.sync",sync:!0,execute:function(h,g){var m,f=h.dispatch,v=h.getState,b=v();f(function(e,t,r,a){var i=Object(n.v)(r);return{type:p,payload:a,meta:{pageId:e,tabId:t,contextKey:i}}}(e,t,r,d));var y=Object(a.wc)(b,{id:e},r),_=Object(o.e)(b,{id:e},r);if(y||(null==_?void 0:_.isSelected)||!d){if(y===t&&!d){var C=Object(a.fb)(b,{id:e},r),S=!1;if(C)for(var O=0,I=Object(a.m)(b,C);O<I.length;O++){var T=I[O];if(T.Id!==t&&Object(a.Kc)(b,T.Id,e,r)){S=!0,f(Object(i.b)(e,T.Id,r));break}}S||f(Object(i.b)(e,void 0,r))}}else f(Object(i.b)(e,t,r));if(Object(s.a)()){var j=v(),P=null===(m=null==g?void 0:g.TraceManager)||void 0===m?void 0:m.getTracer(""+l.k+l.r),E=Object(a.Kc)(b,t,e,r),A=Object(a.Kc)(j,t,e,r),x=Object(u.a)(j,e);x.push({name:"tabId",value:t}),x.push({name:"tabName",value:Object(a.Ic)(j,t,e,r)}),x.push({name:"tabLabel",value:Object(a.Hc)(j,t,e,r)}),x.push({name:"visible state before change",value:null==E?void 0:E.toString()}),x.push({name:"visible state after change",value:null==A?void 0:A.toString()}),x.push({name:"callstack",value:new c.a(new Error).getStackTrace()}),null==P||P.warn(l.n,[{name:l.v,value:l.r+".visible"},{name:l.r,value:JSON.stringify(x)}])}}}}},ll2N:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var n,a=r("c/eZ"),i=r("1z64"),o=r("FlW1"),s=r("HSdq"),c=r("Zy0S"),l=r("+Z9T"),u=r("JCHT"),p=r("OmYs"),d=r("IiPO"),h=r("ezfI"),g=r("kvLG"),m=function(e){function t(t,r,a,o,s,c){var l=e.call(this,t,r,a,o)||this;return l._parent=s,n=t,l._formContext=c,l._iConnectedSectionProp={sectionName:l.name,id:l.pageId},l._clientApiExecutorTabSection=new i.a(t,"ClientApi.XrmTabSection.",a,r),l.clientApiExecutor.addEventParameter({name:"controlName",value:o,isEventParam:!0}),l}return Object(a.__extends)(t,e),Object.defineProperty(t.prototype,"clientApiExecutor",{get:function(){return this._clientApiExecutorTabSection},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controls",{get:function(){var e=this;return this.clientApiExecutor.execute("controls",(function(t,r){if(!e._controls){var a=n.getState();e._controls=new c.a(t);var i=e.getControlsDescriptor(a);if(!i)return e._controls;for(var o in i){var s=e._formContext.ui.controls.get(o);if(s)e._controls.add(s.getName(),s);else{var l=r.slice();l.push({name:"controlKey",value:o}),g.a.getInstance().traceManager.getTracer(t).warn("Section control was not found in the form controls collection",l)}}}return e._controls}))},enumerable:!1,configurable:!0}),t.prototype.getParent=function(){return h.a.instance.reportUsage("ClientApi.XrmTabSection.getParent"),this._parent},t.prototype.getVisible=function(){var e="ClientApi.XrmTabSection.getVisible";try{h.a.instance.reportCall(e);var t=Object(s.tc)(n.getState(),this._iConnectedSectionProp,this.contextToken),r=Object(l.a)(t)?this._getSectionDescriptorValues().Visible:t;return h.a.instance.reportSuccess(e),r}catch(t){var a=d.a.getInstance().getEventParameters(this.contextToken);throw a.push({name:"controlName",value:this.name}),d.a.getInstance().reportFailure(e,t,null,a),t}},t.prototype.getLabel=function(){var e="ClientApi.XrmTabSection.getLabel";try{h.a.instance.reportCall(e);var t=Object(s.rc)(n.getState(),this._iConnectedSectionProp,this.contextToken),r=Object(l.a)(t)?this._getSectionDescriptorValues().Label?this._getSectionDescriptorValues().Label:"":t;return h.a.instance.reportSuccess(e),r}catch(t){var a=d.a.getInstance().getEventParameters(this.contextToken);throw a.push({name:"controlName",value:this.name}),d.a.getInstance().reportFailure(e,t,null,a),t}},t.prototype._getSectionDescriptorValues=function(){try{return Object(s.qc)(n.getState(),this._iConnectedSectionProp,this.contextToken)}catch(t){var e=d.a.getInstance().getEventParameters(this.contextToken);throw e.push({name:"controlName",value:this.name}),d.a.getInstance().reportFailure("ClientApi.XrmTabSection._getSectionDescriptorValues",t,null,e),t}},t.prototype.getControlsDescriptor=function(e){try{return Object(s.H)(e,this._iConnectedSectionProp,this.contextToken)}catch(e){var t=d.a.getInstance().getEventParameters(this.contextToken);throw t.push({name:"controlName",value:this.name}),d.a.getInstance().reportFailure("ClientApi.XrmTabSection.getControlsDescriptor",e,null,t),e}},t.prototype.setVisible=function(e){var t="ClientApi.XrmTabSection.setVisible";try{h.a.instance.reportCall(t),n.dispatch(Object(u.b)(this.pageId,this.contextToken,this.name,!0===e)),h.a.instance.reportSuccess(t)}catch(e){var r=d.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.name}),d.a.getInstance().reportFailure(t,e,null,r),e}},t.prototype.setLabel=function(e){var t="ClientApi.XrmTabSection.setLabel";Object(l.a)(e)&&Object(l.j)(t,"label");try{h.a.instance.reportCall(t),n.dispatch(Object(p.b)(this.pageId,this.contextToken,this.name,e)),h.a.instance.reportSuccess(t)}catch(e){var r=d.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.name}),d.a.getInstance().reportFailure(t,e,null,r),e}},t}(o.a)},lwSE:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("Sscr"),a="header.tabnavigatorvisible";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function i(e,t,r){var i=Object(n.v)(t);return{type:a,payload:r,meta:{pageId:e,contextKey:i}}}},m8A1:function(e,t,r){"use strict";r.d(t,"d",(function(){return u})),r.d(t,"c",(function(){return p})),r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return h}));var n=r("HSdq"),a=r("sOTk"),i=r("gk6Q"),o=r("kvLG"),s=r("b1hT"),c=r("QAhb"),l=r("j+yI");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
function u(e,t,r,i){if(void 0===i&&(i=!1),!e)return o.a.getInstance().traceManager.getTracer(r).error("isXrmProcessControlClientApiSupportedOnForm invoked with unexpected null state object"),!1;if(!t)return o.a.getInstance().traceManager.getTracer(r).error("isXrmProcessControlClientApiSupportedOnForm invoked with unexpected null pageId object"),!1;var u=function(e,t){var r=Object(a.g)(e,t);if(!r)return null;var n=r.entityTypeName,i=r.id;return new c.a(n,i)}(e,t),p=!Object(n.Kb)(e,t)&&(Object(s.d)(e)||!Object(s.g)(e))&&(i||!Object(l.d)(e,u,t)),d=g(t,e);return d.push({name:"xrmProcessControlClientApiIsSupported",value:p}),o.a.getInstance().eventManager.ReportComponentSuccess(r,d),p}function p(e,t,r,n){if(!e&&(o.a.getInstance().traceManager.getTracer(n).error("getProcessManagerWithJitInitIfNeeded invoked with unexpected null processManager",g(r,t.getState())),u(t.getState(),r,n))){o.a.getInstance().traceManager.getTracer(n).error("getProcessManagerWithJitInitIfNeeded invoking JIT initialization of process manager",g(r,t.getState()));var s=Object(a.g)(t.getState(),r);return Object(i.b)(r,s)}return e}function d(e,t,r,n){return[{name:"pageId",value:e},{name:"formType",value:Object(a.l)(t,e)},{name:"InitialXrmProcessControlIsNotNull",value:r},{name:"XrmEntityIsNotNull",value:n}]}function h(e,t,r){return[{name:"pageId",value:e},{name:"formType",value:Object(a.l)(t,e)},{name:"getProcessManagerInvoked",value:r}]}function g(e,t){return[{name:"pageId",value:e},{name:"formType",value:Object(a.l)(t,e)}]}},mPpC:function(e,t,r){"use strict";r.d(t,"b",(function(){return Ae})),r.d(t,"a",(function(){return Ee}));var n,a,i,o,s,c,l,u,p,d,h,g=r("+l2M"),m=r("sOTk"),f=r("c/eZ"),v=r("YCDx"),b=r("HSdq"),y=r("x6Ak"),_=r("IiPO"),C=r("ezfI"),S=function(e){function t(t,r,a,i,o,s){var c=e.call(this,t,r,a,i,o,s)||this;return n=t,c}return Object(f.__extends)(t,e),t.prototype.refresh=function(){var e="ClientApi.XrmControlTimer.refresh";try{C.a.instance.reportCall(e),n.dispatch(Object(y.b)(this.pageId,this.contextToken,this.name)),C.a.instance.reportSuccess(e)}catch(r){var t=_.a.getInstance().getEventParameters(this.contextToken);throw t.push({name:"controlName",value:this.getName()}),_.a.getInstance().reportFailure(e,r,null,t),r}},t.prototype.getState=function(){var e="ClientApi.XrmControlTimer.getState";try{C.a.instance.reportCall(e);var t=Object(b.cb)(n.getState(),this.pageId,this.contextToken).controls[this.getName()].parameters.timerState;return C.a.instance.reportSuccess(e),t}catch(t){var r=_.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),_.a.getInstance().reportFailure(e,t,null,r),t}},t.prototype.getControlType=function(){return C.a.instance.reportUsage("ClientApi.XrmControlTimer.getControlType"),"timercontrol"},t}(v.a),O=r("Zz0a"),I=r("w/nD"),T=r("+Z9T"),j=r("gk6Q"),P=function(e){function t(t,r,n,i,o,s){var c=e.call(this,t,r,n,i,o,s)||this;return a=t,c.registerObserversForControlStateChange(),c}return Object(f.__extends)(t,e),t.prototype.addOnClick=function(e){var t="ClientApi.XrmControlButton.addOnClick";e||Object(T.j)(t,"handler");try{C.a.instance.reportCall(t),a.dispatch(Object(I.b)(this.contextToken,this.pageId,this.name,e)),C.a.instance.reportSuccess(t)}catch(e){var r=_.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),_.a.getInstance().reportFailure(t,e,null,r),e}},t.prototype.removeOnClick=function(e){var t="ClientApi.XrmControlButton.removeOnClick";e||Object(T.j)(t,"handler");try{C.a.instance.reportCall(t),a.dispatch(Object(I.w)(this.contextToken,this.pageId,this.name,e)),C.a.instance.reportSuccess(t)}catch(e){var r=_.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),_.a.getInstance().reportFailure(t,e,null,r),e}},t.prototype.getControlType=function(){return C.a.instance.reportUsage("ClientApi.XrmControlButton.getControlType"),"button"},t.prototype.registerObserversForControlStateChange=function(){if(this.getName().startsWith("header_process")){var e=Object(j.a)(this.pageId);e&&this.controlStateObservable.registerObserver(e)}},t}(v.a),E=r("1z64"),A=r("hE7j"),x=r("EGsq"),F=r("WACO"),w=function(e){function t(t,r,n,a,o,s){var c=e.call(this,t,r,n,a,o,s)||this;i=t;var l=[{name:"controlName",value:o,isEventParam:!0}];return c._clientApiExecutorWebResource=new E.a(t,"ClientApi.XrmControlWebResource.",n,r,l),c}return Object(f.__extends)(t,e),t.prototype.getSrc=function(){var e=this;return this._clientApiExecutorWebResource.execute("getSrc",(function(){var t=i.getState(),r=Object(x.t)(t)+Object(b.wb)(t,{controlName:e.name,id:e.pageId},e.contextToken);return Object(F.c)(t,e.pageId,e.name,e.contextToken,r)}))},t.prototype.getContentWindow=function(){var e=this;return this._clientApiExecutorWebResource.executeAsync("getContentWindow",(function(t,r){var n=e.formContext.applicationContext.TraceManager.getTracer(t),a=function(){var t=Object(b.xb)(i.getState(),e.pageId,e.getName());if(t){var a=null;try{return"complete"===(a=t.contentWindow).document.readyState?Promise.resolve(a):(r.push({name:"readyState",value:a.document.readyState}),n.info("Frame content window not ready",r),Promise.reject({message:"Frame element not ready.",errorCode:111,contentWindow:a}))}catch(e){return a?(r.push({name:"Error",value:e.message}),n.warn("Error getting Frame content window readyState",r),Promise.resolve(a)):Promise.reject(e)}}else n.info("Frame DOM element not ready",r);return Promise.reject({message:"Frame element could not be found.",errorCode:111})};return a().then((function(e){return Promise.resolve(e)})).catch((function(t){if(111!==t.errorCode)return Promise.reject(t);var o=e.contextToken,s=e.pageId,c=e.getName();return new Promise((function(e,t){var l=function(){Object(I.G)(o,s,l,c),a().then((function(t){e(t)})).catch((function(a){a.contentWindow?(n.err("Frame content window readyState should be complete after OnReadyStateComplete",r),e(a.contentWindow)):t&&(111===a.errorCode?(n.err("Frame Element not found after OnReadyStateComplete",r),t(new Error("Frame element could not be found."))):t(a))}))};i.dispatch(Object(I.l)(o,s,l,c))}))}))}))},t.prototype.getObject=function(){var e=this;return this._clientApiExecutorWebResource.execute("getObject",(function(){return Object(b.xb)(i.getState(),e.pageId,e.name)}))},t.prototype.setSrc=function(e){var t=this;return this._clientApiExecutorWebResource.execute("getControlType",(function(){Object(T.a)(e)||i.dispatch(Object(A.b)(t.pageId,t.name,t.contextToken,e))}))},t.prototype.getControlType=function(){return this._clientApiExecutorWebResource.execute("getControlType",(function(){return"webresource"}))},t.prototype.addOnReadyStateComplete=function(e){var t=this;return this._clientApiExecutorWebResource.execute("addOnReadyStateComplete",(function(){i.dispatch(Object(I.l)(t.contextToken,t.pageId,e,t.getName()))}),[{name:"handler",value:e,isRequired:!0}])},t.prototype.removeOnReadyStateComplete=function(e){var t=this;return this._clientApiExecutorWebResource.execute("removeOnReadyStateComplete",(function(){i.dispatch(Object(I.G)(t.contextToken,t.pageId,e,t.getName()))}),[{name:"handler",value:e,isRequired:!0}])},t}(v.a),N=function(e){function t(t,r,n,a,i,s){var c=e.call(this,t,r,n,a,i,s)||this;return o=t,c}return Object(f.__extends)(t,e),t.prototype.getInitialUrl=function(){var e="ClientApi.XrmControlIFrame.getInitialUrl";try{C.a.instance.reportCall(e);var t=Object(b.sb)(o.getState(),{controlName:this.name,id:this.pageId},this.contextToken);return C.a.instance.reportSuccess(e),t}catch(t){var r=_.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),_.a.getInstance().reportFailure(e,t,null,r),t}},t.prototype.getControlType=function(){return C.a.instance.reportUsage("ClientApi.XrmControlIFrame.getControlType"),"iframe"},t.prototype.getSrc=function(){var e="ClientApi.XrmControlIFrame.getSrc";try{C.a.instance.reportCall(e);var t=o.getState(),r=this.getInitialUrl(),n=Object(F.c)(t,this.pageId,this.name,this.contextToken,r);return C.a.instance.reportSuccess(e),n}catch(t){var a=_.a.getInstance().getEventParameters(this.contextToken);throw a.push({name:"controlName",value:this.getName()}),_.a.getInstance().reportFailure(e,t,null,a),t}},t}(w),k=r("+P1Q"),D=r("Q60c"),M=r("slAZ"),R=r("AVer"),L=r("QItn"),V=r("9r0m"),G=r("YdIa"),B=function(e){function t(t,r,n,a,i,o){var c=e.call(this,t,r,n,a,i,o)||this;return s=t,c._clientApiExecutorLookup=new E.a(t,"ClientApi.XrmControlLookup.",n,r,[{name:"controlName",value:i,isEventParam:!0}]),c}return Object(f.__extends)(t,e),t.prototype.addCustomView=function(e,t,r,n,a,i){var o=this;this._clientApiExecutorLookup.execute("addCustomView",(function(c,l){var u=V.a.tryParseOrNull(e);u||Object(T.k)(c,"guid","viewId",l),s.dispatch(Object(R.a)(o.pageId,o.name,u,t,o.contextToken,r,n,a)),i&&o.setDefaultView(e)}),[{name:"viewId",value:e,isRequired:!0,isEventParam:!0,expectedDataType:"guid"},{name:"entityLogicalName",value:t,isRequired:!0,isEventParam:!0},{name:"viewDisplayName",value:r,isRequired:!0},{name:"fetchXml",value:n,isRequired:!0},{name:"layoutXml",value:a,isRequired:!0},{name:"isDefault",value:i,isRequired:!0}])},t.prototype.addCustomFilter=function(e,t){var r="ClientApi.XrmControlLookup.addCustomFilter";Object(T.a)(e)&&Object(T.j)(r,"fetchXmlFilter"),Object(T.b)(e)||Object(T.l)(r);try{C.a.instance.reportCall(r),s.dispatch(Object(M.d)(this.pageId,this.name,t,this.contextToken,e)),this.controlStateObservable.notifyObservers(this.controlDescriptor),C.a.instance.reportSuccess(r)}catch(e){var n=_.a.getInstance().getEventParameters(this.contextToken);throw n.push({name:"controlName",value:this.getName()}),_.a.getInstance().reportFailure(r,e,null,n),e}},Object.defineProperty(t.prototype,"disableMru",{get:function(){var e="ClientApi.XrmControlLookup.getDisableMru";try{C.a.instance.reportCall(e);var t=Object(b.x)(s.getState(),{id:this.pageId,controlName:this.name},this.contextToken);return C.a.instance.reportSuccess(e),t}catch(t){var r=_.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),_.a.getInstance().reportFailure(e,t,null,r),t}},set:function(e){var t="ClientApi.XrmControlLookup.setDisableMru";try{C.a.instance.reportCall(t),s.dispatch(Object(L.b)(s.getState(),this.pageId,this.name,this.contextToken,e)),C.a.instance.reportSuccess(t)}catch(e){var r=_.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),_.a.getInstance().reportFailure(t,e,null,r),e}},enumerable:!1,configurable:!0}),t.prototype.startCustomFilter=function(){var e="ClientApi.XrmControlLookup.startCustomFilter";try{C.a.instance.reportCall(e),s.dispatch(Object(M.f)(this.pageId,this.name,this.contextToken)),this.controlStateObservable.notifyObservers(this.controlDescriptor),C.a.instance.reportSuccess(e)}catch(r){var t=_.a.getInstance().getEventParameters(this.contextToken);throw t.push({name:"controlName",value:this.getName()}),_.a.getInstance().reportFailure(e,r,null,t),r}},t.prototype.endCustomFilter=function(){var e="ClientApi.XrmControlLookup.endCustomFilter";try{C.a.instance.reportCall(e),s.dispatch(Object(M.e)(this.pageId,this.name,this.contextToken)),this.controlStateObservable.notifyObservers(this.controlDescriptor),C.a.instance.reportSuccess(e)}catch(r){var t=_.a.getInstance().getEventParameters(this.contextToken);throw t.push({name:"controlName",value:this.getName()}),_.a.getInstance().reportFailure(e,r,null,t),r}},t.prototype.getDefaultView=function(){var e=this;return this._clientApiExecutorLookup.execute("getDefaultView",(function(){var t=Object(b.O)(s.getState(),e.pageId,e.name,e.contextToken);return t?V.a.externalGuid(new V.a(t)):null}))},t.prototype.setDefaultView=function(e){var t=this;this._clientApiExecutorLookup.execute("setDefaultView",(function(r,n){var a=V.a.tryParseOrNull(e);a||Object(T.k)(r,"guid","id",n),s.dispatch(Object(D.b)(t.pageId,t.name,t.contextToken,a))}),[{name:"defaultViewId",value:e,isRequired:!0,isEventParam:!0,expectedDataType:"guid"}])},t.prototype.addOnLookupTagClick=function(e){var t="ClientApi.XrmControlLookup.addOnLookupTagClick";e||Object(T.j)(t,"handler");try{C.a.instance.reportCall(t),s.dispatch(Object(I.g)(this.contextToken,this.pageId,this.name,e)),C.a.instance.reportSuccess(t)}catch(e){var r=_.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),_.a.getInstance().reportFailure(t,e,null,r),e}},t.prototype.addPreSearch=function(e){var t="ClientApi.XrmControlLookup.addPreSearch";e||Object(T.j)(t,"handler");try{C.a.instance.reportCall(t),s.dispatch(Object(I.t)(this.contextToken,this.pageId,this.name,e)),C.a.instance.reportSuccess(t)}catch(e){var r=_.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),_.a.getInstance().reportFailure(t,e,null,r),e}},t.prototype.removeOnLookupTagClick=function(e){var t="ClientApi.XrmControlLookup.removeOnLookupTagClick";e||Object(T.j)(t,"handler");try{C.a.instance.reportCall(t),s.dispatch(Object(I.B)(this.contextToken,this.pageId,this.name,e)),C.a.instance.reportSuccess(t)}catch(e){var r=_.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),_.a.getInstance().reportFailure(t,e,null,r),e}},t.prototype.removePreSearch=function(e){var t="ClientApi.XrmControlLookup.removePreSearch";e||Object(T.j)(t,"handler");try{C.a.instance.reportCall(t),s.dispatch(Object(I.O)(this.contextToken,this.pageId,this.name,e)),C.a.instance.reportSuccess(t)}catch(e){var r=_.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),_.a.getInstance().reportFailure(t,e,null,r),e}},t.prototype.getControlType=function(){return C.a.instance.reportUsage("ClientApi.XrmControlLookup.getControlType"),"lookup"},t.prototype.getEntityTypes=function(){var e="ClientApi.XrmControlLookup.getEntityTypes";try{C.a.instance.reportCall(e);var t=Object(b.Ob)(s.getState(),this.pageId,this.contextToken,this._dataFieldName);return C.a.instance.reportSuccess(e),t}catch(t){var r=_.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),_.a.getInstance().reportFailure(e,t,null,r),t}},t.prototype.setEntityTypes=function(e){var t="ClientApi.XrmControlLookup.setEntityTypes";e||Object(T.j)(t,"entityTypes");var r=[];try{C.a.instance.reportCall(t),e=Array.from(new Set(e));var n=Object(b.Pb)(s.getState(),this.pageId,this.contextToken,this._dataFieldName),a={};n.forEach((function(e){a[e]=!0})),e.forEach((function(e){a[e]||r.push(e)}))}catch(e){throw(i=_.a.getInstance().getEventParameters(this.contextToken)).push({name:"controlName",value:this.getName()}),_.a.getInstance().reportFailure(t+".validation",e,null,i),e}r.length>0&&Object(T.h)(t,"entityType",r[0]);try{s.dispatch(Object(G.b)(this.pageId,this.contextToken,this._dataFieldName,e)),C.a.instance.reportSuccess(t)}catch(e){var i;throw(i=_.a.getInstance().getEventParameters(this.contextToken)).push({name:"controlName",value:this.getName()}),_.a.getInstance().reportFailure(t,e,null,i),e}},Object.defineProperty(t.prototype,"_dataFieldName",{get:function(){return this.controlDescriptor&&this.controlDescriptor.DataFieldName?this.controlDescriptor.DataFieldName:this.name},enumerable:!1,configurable:!0}),t}(k.a),X=r("JFej"),U=r("Ini7"),z=r("FGem"),q=function(e){function t(t,r,n,a,i,o){var s=e.call(this,t,r,n,a,i,o)||this;c=t;var l=[{name:"controlName",value:i,isRequired:!0,isEventParam:!0,expectedDataType:"string"}];return s._clientApiExecutorOptionsetBase=new E.a(t,"ClientApi.XrmControlOptionSetBase.",n,r,l),s}return Object(f.__extends)(t,e),t.prototype.addOption=function(e,t){var r=this;this._clientApiExecutorOptionsetBase.execute("addOption",(function(){var n=r._options.length;Object(T.a)(t)||isNaN(t)||t>=n?t=n:t<=0?t=0:t-=1,c.dispatch(Object(X.b)(r.pageId,r.contextToken,r.controlDescriptor.DataFieldName,{Color:null,Label:e.text,Value:e.value},t))}),[{name:"optionSetItem",value:e,isRequired:!0},{name:"optionSetItem.value",value:null==e?void 0:e.value,isRequired:!0,expectedDataType:"number"}])},t.prototype.clearOptions=function(){var e=this;this._clientApiExecutorOptionsetBase.execute("clearOptions",(function(){c.dispatch(Object(z.b)(e.pageId,e.contextToken,e.controlDescriptor.DataFieldName))}))},t.prototype.removeOption=function(e){var t=this;return this._clientApiExecutorOptionsetBase.execute("removeOption",(function(){c.dispatch(Object(U.b)(t.pageId,t.contextToken,t.controlDescriptor.DataFieldName,e))}),[{name:"value",value:e,isRequired:!0}])},t.prototype.getOptions=function(){var e=this;return this._clientApiExecutorOptionsetBase.execute("getOptions",(function(){return e._options}))},Object.defineProperty(t.prototype,"_options",{get:function(){var e=new Array,t=Object(b.B)(c.getState(),this.pageId,this.contextToken,this.name);if(t)for(var r in t.length&&e.push({text:"",value:NaN}),t)e.push({text:t[r].Label,value:t[r].Value});return e},enumerable:!1,configurable:!0}),t}(k.a),W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(f.__extends)(t,e),t.prototype.getControlType=function(){return C.a.instance.reportUsage("ClientApi.XrmControlOptionSet.getControlType"),"optionset"},t}(q),H=r("ABRM"),Q=function(e){function t(t,r,n,a,i,o){var s=e.call(this,t,r,n,a,i,o)||this;return s._isDateFormatDateTime=!1,l=t,s._clientApiExecutorDateTime=new E.a(t,"ClientApi.XrmControlDateTime.",n,r,[{name:"controlName",value:i,isEventParam:!0}]),s._clientApiExecutorDateTime.execute("constructor",(function(e,t){s._isDateFormatDateTime=s._getShowTime(e,t)}),null,!1),s}return Object(f.__extends)(t,e),t.prototype.getShowTime=function(){var e=this;return this._clientApiExecutorDateTime.execute("getShowTime",(function(t,r){return e._getShowTime(t,r)}))},t.prototype.setShowTime=function(e){var t=this;this._clientApiExecutorDateTime.execute("setShowTime",(function(r,n){if(t._getShowTime(r,n)!==e){var a=e&&t._isDateFormatDateTime?"datetime":"date";l.dispatch(Object(H.b)(t.pageId,t.contextToken,t.name,a))}}))},t.prototype._getShowTime=function(e,t){var r=this.getAttrDescriptor(e,t,this._clientApiExecutorDateTime);return!r||"datetime"===r.Format},t}(k.a),Y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(f.__extends)(t,e),t.prototype.getControlType=function(){return C.a.instance.reportUsage("ClientApi.XrmControlMultiSelectOptionSet.getControlType"),"multiselectoptionset"},t}(q),K=r("455M"),J=r("Dlr/"),Z=r("Sscr"),$=r("7bez"),ee=r("h82J"),te=r("Gemh"),re=function(e){function t(t,r,n,a,i){var o=e.call(this,t,r,n,a,a.Name,i)||this,s=Object(Z.e)(r,a.Name);return t.dispatch(Object(ee.a)(o,n,s)),u=t,o._clientApiExecutorControlstream=new E.a(t,"ClientApi.XrmControlStream.",n,r),o}return Object(f.__extends)(t,e),Object.defineProperty(t.prototype,"clientApiExecutor",{get:function(){return this._clientApiExecutorControlstream},enumerable:!1,configurable:!0}),t.prototype._getGridControls=function(){if(!this._underlyingGridControls){this._underlyingGridControls=[];var e=this.controlDescriptor.Parameters&&this.controlDescriptor.Parameters[0]&&this.controlDescriptor.Parameters[0].StreamObjects;if(e){var t=e.StreamObjectCollection;if(t)for(var r=t.ShowAsTiles?[!0,!1]:[!0],n=0,a=t;n<a.length;n++)for(var i=a[n],o=0,s=r;o<s.length;o++){var c=s[o],l=Object(Z.o)(this.contextToken,this.getName(),i.Id,c),p=new $.a(u,l,this.pageId,!1,3,!0,this.formContext.applicationContext,l.controlName);this._underlyingGridControls.push({contextToken:l,gridControl:p})}}}return this._underlyingGridControls},t.prototype.refresh=function(){var e=this;this.clientApiExecutor.execute("refresh",(function(){for(var t=[],r=0,n=e._getGridControls();r<n.length;r++){var a=n[r],i=a.contextToken,o=a.gridControl;if(Object(te.hb)(u.getState(),e.pageId,i,i.controlName))try{o.refresh()}catch(e){t.push(e)}}if(t.length>0){var s=Object(f.__spreadArrays)(_.a.getInstance().getEventParameters(e.contextToken),[{name:"count",value:t.length}]);Object(T.e)(e.clientApiExecutor.getComponentName("refresh"),"Some grids in stream failed to refresh",null,s)}}))},t}(v.a),ne=r("QAhb"),ae=r("TV33"),ie=r("Y+r4"),oe=r("ks02"),se=r("uQP8"),ce=r("6JRL"),le=r("kvLG"),ue=function(e){function t(t,r,n,a,i,o){var s=e.call(this,t,r,n,a,a.Name,i)||this;return p=t,s._clientApiExecutor=new E.a(t,"ClientApi.XrmControlSubFormBase.",n,r,[{name:"controlName",value:null==a?void 0:a.Name,isEventParam:!0}]),s._xrmControlFactory=o,s}return Object(f.__extends)(t,e),t.prototype.getParentComponent=function(){return Object(se.a)(p.getState(),this.pageId)},Object.defineProperty(t.prototype,"context",{get:function(){var e=this;return this._clientApiExecutor.execute("ClientApi.XrmControlSubFormBase.context",(function(){return e._form?e._form.context:null}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_parentFormContext",{get:function(){return this.formContext},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_form",{get:function(){if(this._tryGetSubFormInstanceId(),!this._isSubFormMetadataLoaded())throw Object(ce.d)("SUBFORM_METADATA_NOT_LOADED",2415919107);var e=this._subFormControlContextToken;if(e&&this._formInstance)return this._formInstance;var t=this._getValueInternal(),r=Object(ae.d)(t);return e?(this._formInstance=p.dispatch(Object(ee.b)(this._subFormInstanceId,e)),this._formInstance||r&&r.length>0&&(this._formInstance=p.dispatch(this._createXrmForm(e,this._subFormInstanceId,r[0].entityType,new V.a(r[0].id)))),this._formInstance&&!this._formInstance.context&&(this._formInstance.context=this._parentFormContext.context),this._formInstance):(_.a.getInstance().getEventParameters(this.contextToken).push({name:"controlName",value:this.getName()}),le.a.getInstance().traceManager.getTracer("ClientApi.XrmControlSubFormBase._form").info("XrmControlSubForm._form is null"),null)},enumerable:!1,configurable:!0}),t.prototype._createXrmForm=function(e,t,r,n){var a=this._xrmControlFactory;return{type:"clientapi.create.xrmform",sync:!0,execute:function(i,o){var s=new ie.a(i,{etn:r,id:n},a,e,t);s.applicationContext=o;var c=new oe.a(i,t);return s.context=c,s}}},Object.defineProperty(t.prototype,"_subFormControlContextToken",{get:function(){var e=this._getValueInternal(),t=Object(ae.d)(e);return t&&t[0]&&t[0].id?this._entityRecordId!==t[0].id&&(this._entityType=t[0].entityType,this._entityRecordId=t[0].id,this._subFormContextToken&&p.dispatch(Object(ee.h)(this._subFormInstanceId,this._subFormContextToken)),this._subFormContextToken=this._getSubFormContextToken(this.contextToken,this.name,this._entityType),this._formInstance=null):this._subFormContextToken&&(p.dispatch(Object(ee.h)(this._subFormInstanceId,this._subFormContextToken)),this._subFormContextToken=void 0,this._entityType=void 0,this._entityRecordId=void 0,this._formInstance=null),this._subFormContextToken},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){var e=this;return this._clientApiExecutor.execute("ClientApi.XrmControlSubFormBase.data",(function(){return e._form?e._form.data:null}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ui",{get:function(){var e=this;return this._clientApiExecutor.execute("ClientApi.XrmControlSubFormBase.ui",(function(){return e._form?e._form.ui:null}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"entityReference",{get:function(){return C.a.instance.reportUsage("ClientApi.XrmControlSubFormBase.entityReference"),null},enumerable:!1,configurable:!0}),t.prototype.getControl=function(e){var t=this;return this._clientApiExecutor.execute("ClientApi.XrmControlSubFormBase.getControl",(function(){return t._form?t._form.getControl(e):null}))},t.prototype.getAttribute=function(e){var t=this;return this._clientApiExecutor.execute("ClientApi.XrmControlSubFormBase.getAttribute",(function(){return t._form?t._form.getAttribute(e):null}))},t.prototype.getUrl=function(){var e=this;return this._clientApiExecutor.execute("ClientApi.XrmControlSubFormBase.getUrl",(function(){return e._form?e._form.getUrl():null}))},t.prototype.refresh=function(){var e=this;this._clientApiExecutor.execute("ClientApi.XrmControlSubFormBase.refresh",(function(){e.data&&e.data.refresh()}))},t.prototype._getValueInternal=function(){var e=this._parentFormContext.data.entity.getEntityName(),t=this._parentFormContext.data.entity.getId(),r=t?new ne.a(e,new V.a(t)):new ne.a(e),n=Object(b.ac)(p.getState(),this._subFormInstanceId,this.contextToken);return Object(b.X)(p.getState(),this._subFormInstanceId,this._subFormContextToken,n,r,this.controlDescriptor.DataFieldName)},t}(v.a),pe=function(e){function t(t,r,n,a,i,o){var s=e.call(this,t,r,n,a,i,o)||this;return d=t,s}return Object(f.__extends)(t,e),t.prototype._getSubFormContextToken=function(e,t,r){return Object(Z.l)(this.contextToken,this.name,this._entityType)},t.prototype.getSubFormInstanceId=function(){return this.pageId},t.prototype._isSubFormMetadataLoaded=function(){return!!this._subFormInstanceId},t.prototype._tryGetSubFormInstanceId=function(){},Object.defineProperty(t.prototype,"_subFormInstanceId",{get:function(){return this.pageId},enumerable:!1,configurable:!0}),t.prototype.isLoaded=function(){var e="ClientApi.XrmControlQuickForm.isLoaded";try{C.a.instance.reportCall(e);var t=Object(b.ic)(d.getState(),this.getSubFormInstanceId(),this._subFormControlContextToken);return C.a.instance.reportSuccess(e),!!t}catch(t){var r=_.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.getName()}),_.a.getInstance().reportFailure(e,t,null,r),t}},t.prototype.getControlType=function(){return C.a.instance.reportUsage("ClientApi.XrmControlQuickForm.getControlType"),"quickform"},t}(ue),de=function(e){function t(t,r,n,a,i,o){var s;return t||Object(T.j)("ClientApi.XrmStandardDataControl.constructor","store"),s=e.call(this,t,r,n,a,i,o)||this,h=t,s}return Object(f.__extends)(t,e),t.prototype.getValue=function(){var e="ClientApi.XrmStandardDataControl.getValue";try{C.a.instance.reportCall(e);var t=Object(b.F)(h.getState(),{controlName:this.name,id:this.pageId},this.contextToken);return C.a.instance.reportSuccess(e),t}catch(t){var r=_.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.name}),_.a.getInstance().reportFailure(e,t,null,r),t}},t.prototype.addOnKeyPress=function(e){var t="ClientApi.XrmStandardDataControl.addOnKeyPress";e||Object(T.j)(t,"handler");try{C.a.instance.reportCall(t),h.dispatch(Object(I.e)(this.contextToken,this.pageId,this.name,e)),C.a.instance.reportSuccess(t)}catch(e){var r=_.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.name}),_.a.getInstance().reportFailure(t,e,null,r),e}},t.prototype.removeOnKeyPress=function(e){var t="ClientApi.XrmStandardDataControl.removeOnKeyPress";e||Object(T.j)(t,"handler");try{C.a.instance.reportCall(t),h.dispatch(Object(I.z)(this.contextToken,this.pageId,this.name,e)),C.a.instance.reportSuccess(t)}catch(e){var r=_.a.getInstance().getEventParameters(this.contextToken);throw r.push({name:"controlName",value:this.name}),_.a.getInstance().reportFailure(t,e,null,r),e}},t.prototype.fireOnKeyPress=function(){var e="ClientApi.XrmStandardDataControl.fireOnKeyPress";try{C.a.instance.reportCall(e),h.dispatch(Object(I.R)(this.contextToken,this.pageId,this.name,this)),C.a.instance.reportSuccess(e)}catch(r){var t=_.a.getInstance().getEventParameters(this.contextToken);throw t.push({name:"controlName",value:this.name}),_.a.getInstance().reportFailure(e,r,null,t),r}},t}(k.a),he=r("1PXy"),ge=r("lRv2"),me=r("QUnS"),fe=function(e){function t(t,r,n,a,i,o){var s=e.call(this,t,r,n,a,i,o)||this;return s._clientApiExecutorDependentOptionSet=new E.a(t,"ClientApi.XrmControlDependentOptionSet.",n,r,[{name:"controlName",value:i,isEventParam:!0}]),s}return Object(f.__extends)(t,e),t.prototype.addOption=function(e,t){return this._clientApiExecutorDependentOptionSet.execute("addOption",(function(e,t){Object(T.i)(e,"DependentOptionSet.addOption",t)}))},t.prototype.clearOptions=function(){return this._clientApiExecutorDependentOptionSet.execute("clearOptions",(function(e,t){Object(T.i)(e,"DependentOptionSet.clearOptions",t)}))},t.prototype.removeOption=function(e){return this._clientApiExecutorDependentOptionSet.execute("removeOption",(function(e,t){Object(T.i)(e,"DependentOptionSet.removeOption",t)}))},t.prototype.setDisabled=function(e){return this._clientApiExecutorDependentOptionSet.execute("setDisabled",(function(e,t){Object(T.i)(e,"DependentOptionSet.setDisabled",t)}))},t.prototype.setVisible=function(e){return this._clientApiExecutorDependentOptionSet.execute("setVisible",(function(e,t){Object(T.i)(e,"DependentOptionSet.setVisible",t)}))},t}(W),ve=function(e){function t(t,r,n,a,i,o){var s=e.call(this,t,r,n,a,i,o)||this;return s._clientApiExecutorDependentOptionSet=new E.a(t,"ClientApi.XrmControlMultiSelectDependentOptionSet.",n,r,[{name:"controlName",value:i,isEventParam:!0}]),s}return Object(f.__extends)(t,e),t.prototype.addOption=function(e,t){return this._clientApiExecutorDependentOptionSet.execute("addOption",(function(e,t){Object(T.i)(e,"MultiSelectDependentOptionSet.addOption",t)}))},t.prototype.clearOptions=function(){return this._clientApiExecutorDependentOptionSet.execute("clearOptions",(function(e,t){Object(T.i)(e,"MultiSelectDependentOptionSet.clearOptions",t)}))},t.prototype.removeOption=function(e){return this._clientApiExecutorDependentOptionSet.execute("removeOption",(function(e,t){Object(T.i)(e,"MultiSelectDependentOptionSet.removeOption",t)}))},t.prototype.setDisabled=function(e){return this._clientApiExecutorDependentOptionSet.execute("setDisabled",(function(e,t){Object(T.i)(e,"MultiSelectDependentOptionSet.setDisabled",t)}))},t.prototype.setVisible=function(e){return this._clientApiExecutorDependentOptionSet.execute("setVisible",(function(e,t){Object(T.i)(e,"MultiSelectDependentOptionSet.setVisible",t)}))},t}(Y),be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(f.__extends)(t,e),t.prototype.setDisabled=function(e){var t="ClientApi.XrmDependentOptionSetGridControl.setDisabled";C.a.instance.reportUsage(t),Object(T.e)(t,String.format("Can not execute {0} for dependent option set control","setDisabled"))},t}(de),ye=r("F2uj"),_e=r("cZkS"),Ce=r("qC0c"),Se=r("2OIc"),Oe=r("tNVD");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
var Ie,Te,je=function(e){function t(t,r,n,a,i,o){var s,c,l=e.call(this,t,r,n,a,i,o)||this;return l._formInstanceId=null===(c=null===(s=l.getParentComponent())||void 0===s?void 0:s.formInstances)||void 0===c?void 0:c.formInstanceIdByControlName[l.controlDescriptor.Name],l._formComponentClientApiExecutor=new E.a(t,"ClientApi.XrmControlFormComponent.",l._formInstanceId),l._formComponentClientApiExecutor.addEventParameter({name:"controlName",value:a.Name,isEventParam:!0}),Ie=t,l}return Object(f.__extends)(t,e),t.prototype._tryGetSubFormInstanceId=function(){var e,t;this._formInstanceId||(this._formInstanceId=null===(t=null===(e=this.getParentComponent())||void 0===e?void 0:e.formInstances)||void 0===t?void 0:t.formInstanceIdByControlName[this.controlDescriptor.Name])},t.prototype._isSubFormMetadataLoaded=function(){return!!this._subFormInstanceId},t.prototype._getSubFormContextToken=function(e,t,r){return Object(Z.h)(r)},Object.defineProperty(t.prototype,"_subFormInstanceId",{get:function(){return this._formInstanceId},enumerable:!1,configurable:!0}),t.prototype.isLoaded=function(){var e=this;return this._isSubFormMetadataLoaded()&&this._formComponentClientApiExecutor.execute("ClientApi.XrmControlFormComponent.isLoaded",(function(){return!!Object(b.yc)(Ie.getState(),e._subFormInstanceId,e._subFormControlContextToken)}))},t.prototype.setInitializationIntent=function(e){var t=this;void 0===e&&(e="fullload"),this._formComponentClientApiExecutor.execute("setInitializationIntent",(function(r){
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
var n,a,i,o,s;"nothing"!==e&&"fullload"!==e&&Object(T.h)(r,e,"intent"),Ie.dispatch((n=t.pageId,a=t.name,i=t.contextToken,o=e,s=Object(Z.v)(i),{type:Oe.d,payload:o,meta:{pageId:n,controlName:a,contextKey:s}}))}),[{name:"intent",value:e,isEventParam:!0,expectedDataType:"string"}])},t.prototype.getControlType=function(){return C.a.instance.reportUsage("ClientApi.XrmControlFormComponent.getControlType"),"formcomponent"},t}(ue),Pe=r("HHlV"),Ee="3d180de6-b456-4d90-9d5a-9899936baf44",Ae=function(){function e(e,t){this._pageId=t,Te=e}return e.prototype.createXrmControl=function(e,t,r,n,a){Object(T.g)(t,n,"control");try{a.push({name:"controlClassId",value:t&&t.ClassId?t.ClassId.guid:""}),a.push({name:"controlName",value:t?t.Name:""}),a.push({name:"controlDataFieldName",value:t?t.DataFieldName:""}),a.push({name:"pageId",value:this._pageId});var i=Object(m.l)(Te.getState(),this._pageId);a.push({name:"pageType",value:i});var o=!1,s=null,c=this._getControlType(t,r,e,n,a);switch(c){case g.i.guid:s=new P(Te,e,this._pageId,t,t.Name,r);break;case K.a.KbContent:case K.a.KbArticle:case g.C.guid:case g.I.guid:s=new N(Te,e,this._pageId,t,t.Name,r);break;case K.a.LookupRegarding:case K.a.LookupCustomer:case K.a.LookupMultiEntity:case K.a.LookupOwner:case K.a.LookupSimple:case K.a.LookupPartyList:case g.M.guid:case g.fb.guid:case g.S.guid:case g.l.guid:if(Object(Ce.c)(Te.getState(),_e.jb)){var l=Object(se.b)(Te.getState(),this._pageId,e);if(Object(Se.c)(Te.getState(),t.UniqueId,l)===Pe.d){s=new je(Te,e,this._pageId,t,r,this);break}}s=new B(Te,e,this._pageId,t,t.Name,r);break;case K.a.OptionSet:case g.U.guid:if(1==Object(Ce.c)(Te.getState(),_e.L)){var u=this._getEntityNameForControl(t,r);if(Object(ye.l)(Te.getState(),u,t.DataFieldName)){s=new fe(Te,e,this._pageId,t,t.Name,r);break}}case K.a.EntityNameOptionSet:case K.a.TwoOptions:case K.a.StatusOptionSet:case g.sb.guid:case g.K.guid:case g.W.guid:case g.V.guid:case g.hb.guid:case g.n.guid:case g.N.guid:s=new W(Te,e,this._pageId,t,t.Name,r);break;case K.a.MultiSelectPicklist:case g.Q.guid:if(Object(Ce.c)(Te.getState(),_e.L)){u=this._getEntityNameForControl(t,r);if(Object(ye.l)(Te.getState(),u,t.DataFieldName)){s=new ve(Te,e,this._pageId,t,t.Name,r);break}}s=new Y(Te,e,this._pageId,t,t.Name,r);break;case K.a.QuickForm:case g.cb.guid:case g.ab.guid:case g.Z.guid:var p=new pe(Te,e,this._pageId,t,r,this);r.ui.quickForms.add(t.Name,p);break;case K.a.SearchWidget:case K.a.ReferencePanelSearchWidget:case g.db.guid:case g.kb.guid:s=new O.a(Te,e,this._pageId,t,t.Name,r);break;case K.a.TimelineWall:case g.qb.guid:(s=Te.dispatch(Object(ee.f)(this._pageId,Object(Z.p)(e,t.Name))))||(s=new he.a(Te,e,this._pageId,t,t.Name,t.LabelId,r,r.applicationContext));break;case K.a.DateAndTimeDateOnly:case K.a.DateAndTimeDateAndTime:case g.q.guid:s=new Q(Te,e,this._pageId,t,t.Name,r);break;case K.a.Grid:case g.eb.guid:case g.E.guid:var d=Object(Z.p)(e,t.Name),h=Te.dispatch(Object(ee.c)(this._pageId,d));h&&(h.getName||3!==h.getGridType()?s=h:(_.a.getInstance().reportFailure(n,new Error("Main grid found in cache - converting to a subgrid."),null,a),Te.dispatch(Object(ee.h)(this._pageId,d)))),s||(s=new J.a(Te,e,this._pageId,t.Name,Object(te.wb)(Te.getState(),this._pageId,e,t.Name),r,t,r.applicationContext));break;case K.a.Timer:case g.rb.guid:s=new S(Te,e,this._pageId,t,t.Name,r);break;case K.a.WebResourceHtmlControl:case g.ub.guid:case g.vb.guid:s=new w(Te,e,this._pageId,t,t.Name,r);break;case g.mb.guid:s=new re(Te,e,this._pageId,t,r);break;case g.z.guid:case g.G.guid:break;case Ee:if(Object(Ce.c)(Te.getState(),_e.L)&&Object(ye.l)(Te.getState(),e.entityTypeName,t.Name)){s=new be(Te,e,this._pageId,t,t.Name,r);break}case K.a.AppliedFilters:case K.a.BusinessProcessFlow:case K.a.Card:case K.a.Currency:case K.a.Dashboard:case K.a.Decimal:case K.a.EmailEngagementActions:case K.a.EmailEngagementRecipientActivity:case K.a.FP:case K.a.GlobalFilter:case K.a.MicrosoftFlow:case K.a.Multiple:case K.a.PowerBI:case K.a.ReferencePanel:case K.a.Search:case K.a.SingleLineAddress:case K.a.SingleLineEmail:case K.a.SingleLinePhone:case K.a.SingleLineText:case K.a.SingleLineTextArea:case K.a.SingleLineTickerSymbol:case K.a.SingleLineURL:case K.a.SocialInsightsControl:case K.a.WholeDuration:case K.a.WholeLanguage:case K.a.WholeNone:case K.a.WholeTimeZone:case g.a.guid:case g.b.guid:case g.c.guid:case g.d.guid:case g.e.guid:case g.f.guid:case g.g.guid:case g.h.guid:case g.j.guid:case g.k.guid:case g.m.guid:case g.p.guid:case g.r.guid:case g.s.guid:case g.t.guid:case g.u.guid:case g.v.guid:case g.w.guid:case g.x.guid:case g.y.guid:case g.A.guid:case g.B.guid:case g.D.guid:case g.H.guid:case g.J.guid:case g.L.guid:case g.O.guid:case g.P.guid:case g.R.guid:case g.T.guid:case g.X.guid:case g.Y.guid:case g.bb.guid:case g.gb.guid:case g.ib.guid:case g.jb.guid:case g.lb.guid:case g.mb.guid:case g.nb.guid:case g.ob.guid:case g.pb.guid:case g.tb.guid:case g.wb.guid:o=!0;default:s=t.DataFieldName?new de(Te,e,this._pageId,t,t.Name,r):new v.a(Te,e,this._pageId,t,t.Name,r),o||(a.push({name:"controlType",value:c}),le.a.getInstance().traceManager.getTracer(n).error("Unknown Form Control",a))}return s}catch(e){return _.a.getInstance().reportFailure(n+".createXrmControl",e,null,a),null}},e.prototype._getControlType=function(e,t,r,n,a){if(V.a.equals(e.ClassId,g.o)){var i=this._getCustomControlType(e,t,r);return i||le.a.getInstance().traceManager.getTracer(n+".controlPrimaryType").error("Control primary type could not be determined",a),a.push({name:"manifestControlType",value:i}),i}return e.ClassId.guid},e.prototype._getCustomControlType=function(e,t,r){var n,a,i,o=Object(se.b)(Te.getState(),this._pageId,r),s=Object(ge.c)(Te.getState(),e,o);if(!s){var c=Object(b.h)(),l=(null===(a=null===(n=t.data)||void 0===n?void 0:n.entity)||void 0===a?void 0:a.getEntityName())||"",u=c(Te.getState(),e,this._pageId,o,l);if(u||(u=Object(me.a)(Te.getState(),e,this._pageId,r)),null==u?void 0:u.Parameters)for(var p in u.Parameters)if(null===(i=u.Parameters[p])||void 0===i?void 0:i.Primary){s=u.Parameters[p].Type;break}}return s},e.prototype._getEntityNameForControl=function(e,t){var r="";if(e.Relationship)r=Object(b.T)(Te.getState(),this._pageId,e.Relationship);else{var n=t.getAttribute(e.DataFieldName);n&&n.getParent()&&(r=n.getParent().getEntityName())}return r},e}()},mVnn:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("HSdq");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function a(e,t){var r=Object(n.Zb)(e,t);return r&&r.output?r.output.value:null}},nIt0:function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return o}));var n=r("c/eZ"),a=r("uO/V"),i=r("uQP8"),o="control.update.formlessControlOutputs";function s(e,t,r){return{type:"control.update.formlessControlOutputs.async",execute:function(s,c){var l=s.dispatch,u=s.getState,p=c.TraceManager.getTracer(a.z),d=a.x+".formlessControlOutputsIdAction";try{if(!Object.keys(r).length)return Promise.resolve();var h=u(),g=Object(i.a)(h,e),m=Object(n.__assign)({},g.formlessControlOutputs),f=!1;for(var v in p.info("Updating the unbound output."),r){var b=r[v],y=t+"."+v;m[y]!==b&&(m[y]=b,f=!0)}return f&&l(function(e,t){return{type:o,payload:{formlessControlOutputs:t},meta:{pageId:e}}}(e,m)),c.EventManager.ReportComponentSuccess(d),Promise.resolve()}catch(e){var _="Updating the outbound outputs for the grid failed with error : "+e.message;c.EventManager.ReportComponentFailure(d,Error(_))}}}}},nn4v:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
var n={queryKey:null,pageNumber:1,isNewPageRequested:!1,selectedRows:[],selectedRelatedEntity:null,filters:{},rowProperties:{records:[]},fetchXml:"",controls:{},refreshCounter:0,pagingRefreshInput:0,pagingData:"",relationshipName:null,relationshipRoleOrdinal:null,showChart:null,useRollupView:!1,chartVisualizationType:null,dependentOptionSetColumnStatus:{},chartDrillDownParameters:[]}},"o0+l":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("Sscr"),a="attribute.submitmode";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function i(e,t,r,i){var o=Object(n.x)(t);return{type:a,payload:i,meta:{pageId:e,contextKey:o,dataFieldName:r}}}},oY7N:function(e,t,r){"use strict";r.d(t,"a",(function(){return Wt}));var n=r("c/eZ"),a=r("nuS9"),i=r("4fxQ"),o=r("D9ys"),s=r("4E+q"),c=r("YWpA"),l=r("hPFj"),u=r("H/hG"),p=r("e9UD"),d=r("znb3"),h=r("NJzV"),g=r("VnpK"),m=r("POU9"),f=r("vP/5"),v=r("0u+G"),b=r("uO/V"),y=2/(1+Math.sqrt(5)),_=function(e){function t(t){var r=e.call(this,t)||this;return r._memorizedDescriptor=null,r.onMeasuring=r.onMeasuring.bind(r),r.state={width:0,height:0},r}return Object(n.__extends)(t,e),t.prototype._getGoldenRatioHeight=function(e){return y*e},t.prototype.onMeasuring=function(e,t){var r=!1,n={};e!==this.state.width&&(n.width=e,r=!0),t!==this.state.height&&(n.height=t,r=!0),r&&this.setState(n)},t.prototype.render=function(){var e=this.props.TraceManager&&this.props.TraceManager.getTracer?this.props.TraceManager.getTracer(b.z):null;if(!this.props||!this.props.showChart||!this.props.configuration)return e&&e.info("Chart not rendered because the configuration is missing or show chart is set to false"),null;this._memorizedDescriptor&&this.props.chartId===this._memorizedDescriptor.Id||(this._memorizedDescriptor={Id:this.props.chartId,Label:"",Name:"",ShowLabel:!1,Visible:!0,Disabled:!1});var t,r,n=parseFloat(getComputedStyle(document.documentElement).fontSize),i=this._getTopAndBottomAdjustment(n),o=this._getLeftAndRightAdjustment(n);this.props.isLayoutVertical?(t=this.state.width-o,r=this._getGoldenRatioHeight(t),this.props.style.minHeight=r+i):(t=Math.max(this.state.width,320)-o,r=this.state.height-i);var s={minWidth:t.toString()+"px",minHeight:r.toString()+"px"},l={width:t>0?t:-1,height:r>0?r:-1,eventListeners:[{eventname:"onChartPaneClose",eventhandler:[this._closeChartPane.bind(this)]}]};return a.createElement(c.a,{key:"pageChart_"+this.props.id,testhooks:{id:"pageChart_"+this.props.id},style:this.props.style,onMeasuring:this.onMeasuring,isRequestedMeasuring:!0},a.createElement(c.a,{key:"pageChart_"+this.props.id+"_container",style:s},a.createElement(h.c,{key:this.props.chartId,controlId:this.props.chartId,id:this.props.id,configuration:this.props.configuration,descriptor:this._memorizedDescriptor,parentDefinedControlProps:l,parentContextToken:this.props.contextToken})))},t.prototype._closeChartPane=function(){this.props.closeChartPaneHandler(this.props.id,this.props.contextToken,!1)},t.prototype._getTopAndBottomAdjustment=function(e){var t=0;return this.props.style.borderTopWidth&&(t+=e*("string"==typeof this.props.style.borderTopWidth?parseFloat(this.props.style.borderTopWidth||"0px"):this.props.style.borderTopWidth)),this.props.style.paddingTop&&(t+=e*("string"==typeof this.props.style.paddingTop?parseFloat(this.props.style.paddingTop||"0px"):this.props.style.paddingTop)),this.props.style.borderTop&&(t+=1),this.props.style.borderBottom&&(t+=1),t},t.prototype._getLeftAndRightAdjustment=function(e){var t=0;return this.props.style.paddingLeft&&(t+=e*("string"==typeof this.props.style.paddingLeft?parseFloat(this.props.style.paddingLeft||"0px"):this.props.style.paddingLeft)),this.props.style.paddingRight&&(t+=e*("string"==typeof this.props.style.paddingRight?parseFloat(this.props.style.paddingRight||"0px"):this.props.style.paddingRight)),this.props.style.borderLeft&&(t+=1),this.props.style.borderRight&&(t+=1),t},t}(a.Component),C=r("9r0m"),S=r("ah4O"),O=r("RlP9"),I=r("r2h9"),T=r("RB3d"),j=r("perk"),P=r("Gemh"),E=r("pWlk"),A=r("olrR"),x=r("mGpW"),F=r("Ww2r"),w=r("gBKR"),N=r("lMVv"),k=r("G7N+"),D=r("hXUt"),M=r("5Fed"),R=r("Ev4I"),L=r("JlqV"),V=r("pJ3X"),G=r("oVzJ"),B=r("cZkS"),X=r("qC0c"),U=r("PMTb"),z=[],q=function(e){function t(t){var r=e.call(this,t)||this;return r._onItemIconPointerDown=r._onItemIconPointerDown.bind(r),r._onChange=r._onChange.bind(r),r.props.entityTypeName.toLowerCase()===P.a&&(r.props.loadAllActivityTypes(t.activities),r.props.loadAllActivityResourceString()),r}return Object(n.__extends)(t,e),t.prototype._getEntityTypeNameFromViewId=function(e){return e&&this.props.gridViewSelectorItems&&this.props.gridViewSelectorItems[e]&&this.props.gridViewSelectorItems[e].relatedEntityName?this.props.gridViewSelectorItems[e].relatedEntityName:null},t.prototype._onChange=function(e){var t;this.props.isGridRoot&&this.props.pageToEditedViewMapId&&this.props.selectedViewId!==e&&this.props.removeEditedViewPageMap(null===(t=this.props.pageToEditedViewMapId)||void 0===t?void 0:t.guid,new C.a(this.props.selectedViewId)),this.props.onChange(e,this.props.entityTypeName===P.a?this._getEntityTypeNameFromViewId(e):this.props.entityTypeName)},t.prototype._isViewSelectorHidden=function(){return!(this.props.gridViewSelectorItems&&this.props.viewCategories&&this.props.selectedViewId)},t.prototype.render=function(){var e=Object(F.c)(this.props.resourceStrings,j.VIEWSELECTOR_TOOLTIP),t=this.props.contextString===b.h.GRID,r=t?this._onItemIconPointerDown:null,n=this.props.useViewSelectorV2?this.props.isPhone:this.props.isTablet,i=n?this.props.styleProps.textStyleMobile:this.props.styleProps.textStyle,o=n?this.props.styleProps.viewSelectorMobileStyle:this.props.styleProps.viewSelectorStyle,s=this.props.TraceManager&&this.props.TraceManager.getTracer?this.props.TraceManager.getTracer(b.z):null;if(this._isViewSelectorHidden())return s&&s.info("View Selector not rendered because view selector items or view categories or selected view is not available."),null;var c=[],l=!1;for(var u in this.props.gridViewSelectorItems){var p=this.props.gridViewSelectorItems[u];if(p){var h=p.isUserView;h&&(l=!0);var g=void 0;if(this.props.entityTypeName===P.a&&this.props.pinnedActivityView){var m=p;g=m.isPinned&&this.props.pinnedActivityView.PinnedEntity===m.relatedEntityName}else g=p.isPinned;var f=t?g?d.a.Pinned:d.a.Pin:null,v={":hover":{"::before":{content:g?'""':'""'}}};this.props.useViewSelectorV2&&Object.assign(v,{marginLeft:"8px",marginRight:"8px"});var y=t?v:null,_=Object(F.c)(this.props.resourceStrings,j.VIEWSELECTOR_DEFAULTVIEW),C=Object(F.c)(this.props.resourceStrings,j.VIEWSELECTOR_SETDEFAULTVIEW),O=t?g?_:C:null,E="";E=this.props.entityTypeName===P.a&&this.props.allActivitiesString&&this.props.shouldDisplayNestedViewSelector?(z.indexOf(p.relatedEntityName)+1).toString():h?I.b.userview.toString():I.b.savedview.toString();var A=p.name;u===this.props.selectedViewId&&this.props.isEdited&&(this.props.isRTL?A="*"+A:A+="*"),c.push({value:u,text:A,categoryId:E,iconType:f,iconTitle:O,iconStyle:y})}}if(this.props.selectedViewId&&this.props.quickFindViewId&&this.props.quickFindViewId===this.props.selectedViewId){var x=Object(F.c)(this.props.resourceStrings,j.QUICK_FIND_VIEWS_LABEL_ID);c.push({value:this.props.selectedViewId,text:x,categoryId:I.b.savedview.toString()})}var w=l?this.props.viewCategories:this.props.viewCategories.filter((function(e){return e.id!==I.b.userview.toString()}));return this.props.isGridRoot&&this.props.isInMobileModeForOct2019?a.createElement(V.c,{pageId:this.props.pageId},this.props.isAdvancedFindView?a.createElement(U.a,null,"New view"):a.createElement(V.k,{items:c,selectedItemId:this.props.selectedViewId,onChange:this._onChange})):this.props.isAdvancedFindView?a.createElement(U.a,{style:i},"New view"):a.createElement(S.a,{id:this.props.id,testhooks:{id:"ViewSelector_"+this.props.selectedViewId},value:this.props.selectedViewId,role:"presentation",title:e,categories:w,options:c,style:this.props.style,caretType:d.a.ChevronDownMed,caretStyle:this.props.styleProps.caretStyle,textStyle:i,viewSelectorStyle:o,onChange:this._onChange,onItemIconPointerDown:r,createAccessibilityComponent:T.a,createKeyboardShortcut:T.b,parentCustomControlId:this.props.id,rootZIndex:this.props.rootZIndex,isRTL:this.props.isRTL,useViewSelectorV2:this.props.useViewSelectorV2,placeItemIconOnRight:!0,useHeader:this.props.isGridRoot})},t.prototype.componentDidMount=function(){var e=this;if(this.props.viewIds?this.props.loadGridViewsByViewId(this.props.viewIds,this.props.entityTypeName):this.props.loadViewsByType(this.props.queryViewSelectorTypes,this.props.entityTypeName,this.props.gridViewSelectorItems),!this._isViewSelectorHidden()){var t=!1;if(this.props.selectedViewId&&""!==this.props.selectedViewId&&(this.props.gridViewSelectorItems&&this.props.gridViewSelectorItems[this.props.selectedViewId]||this.props.quickFindViewId&&this.props.quickFindViewId===this.props.selectedViewId)&&(t=!0),!t){if(this.props.viewIds)this.props.viewIds.find((function(t){return t.guid===e.props.selectedViewId}))&&(t=!0);this.props.defaultViewId&&this.props.defaultViewId.guid!==C.a.EMPTYSTRING&&this.props.onChange(this.props.defaultViewId.guid,this.props.entityTypeName)}}},t.prototype._onItemIconPointerDown=function(e){var t=this,r=e,n=e.iconType===d.a.Pinned,a=this.props.TraceManager&&this.props.TraceManager.getTracer?this.props.TraceManager.getTracer(b.z):null,i=e.categoryId,o=this.props.entityTypeName;if(this.props.entityTypeName===P.a){var s=this.props.gridViewSelectorItems;o=s&&s[e.value]?s[e.value].relatedEntityName:o,i=!(!s||!s[e.value])&&s[e.value].isUserView?I.b.userview.toString():I.b.savedview.toString()}a&&a.info("Toggle the the pin status for "+e.value+" for "+o+" entity"),this.props.onItemIconPointerDown(o,e.value,i,"",n).then((function(){if(a&&a.info("Resetting the pin status of all the options and toggle the pin status of the recently selected item"),!n&&t.props.entityTypeName===P.a){var i=t.props.gridViewSelectorItems[r.value];t.props.pinnedActivityView.PinnedEntity=i.relatedEntityName,t.props.pinnedActivityView.ViewId=new C.a(e.value),t.props.pinnedActivityView.ViewType=i.isUserView?I.b.userview:I.b.savedview}for(var o in t.props.gridViewSelectorItems)t.props.gridViewSelectorItems[o].isPinned=o===r.value&&!n;t.forceUpdate()}),(function(e){a&&a.error("Could not pin the selected view, pinning action failed with error "+e)}))},t}(a.Component);function W(e,t,r,n){var a=[];if(t===P.a&&n){var i=1;z.forEach((function(t){a.push({id:i.toString(),name:Object(N.f)(e,t)}),i++}))}else a=Object(P.mb)(e,r);return a}function H(e,t,r){var a;return t.forEach((function(t,i){var o=function(e,t,r){var n=Object(O.f)(e,t,r);n&&!Object(L.b)(e)&&Object(R.l)(e,t)&&(n=Object.keys(n).reduce((function(a,i){return(n[i].isAvailableInOffline||i===C.a.toString(Object(O.a)(e,t,r)))&&(a[i]=n[i]),a}),{}));return n}(e,r,t);o&&(a=Object(n.__assign)(Object(n.__assign)({},a),o))})),a}q.displayName="DataSetViewSelector";var Q=Object(s.a)((function(){var e=null,t=null,r=null,a={gridViewSelectorItems:null,viewCategories:null,allActivitiesString:null,activities:null,activityOptions:null,resourceStrings:null,quickFindViewId:null,styleProps:null},i=Object(E.a)(),o=Object(F.h)();return function(s,c){var l,u=o(s,j.labelList),p=C.a.toString(Object(O.a)(s,c.entityTypeName,I.a.QUICKFIND_SEARCH)),d=null,h=null,g=i(s,c.contextString);z=Object(P.B)(s);var m=!1;if(c.queryViewSelectorTypes&&c.queryViewSelectorTypes.length>0&&!c.viewIds){if(c.entityTypeName===P.a&&c.shouldDisplayNestedViewSelector?(z.forEach((function(e){var t=H(s,c.queryViewSelectorTypes,e);t&&(d=Object(n.__assign)(Object(n.__assign)({},d),t))})),h=Object(F.e)(s,["ViewSelectorAllActivities"])):d=H(s,c.queryViewSelectorTypes,c.entityTypeName),e)for(var f in d)if(!e[f]||e[f]!==d[f]){m=!0;break}}else if(c.viewIds){for(var v={},b=0;b<c.viewIds.length;b++){var y=Object(P.qb)(s,c.viewIds[b],c.id);if(y&&y.grid&&y.grid.rows){var _=e?e[y.viewId.guid]:void 0,S=!_||_.name!==y.title||_.queryType!==y.queryType;f=S?{name:y.title,queryType:y.queryType,isDefault:!1,isQuickFindQuery:!1,isUserView:y.isUserView}:_;Object.assign(v,((l={})[y.viewId.guid]=f,l)),m=m||S}}v&&(d=v)}return!d||e&&Object.keys(e).length===Object.keys(d).length||(m=!0),h&&a.allActivitiesString!==h.ViewSelectorAllActivities&&(m=!0),t!==p&&(m=!0),r!==g&&(m=!0),m&&(t=p,r=g,a={gridViewSelectorItems:e=d,viewCategories:W(s,c.entityTypeName,j,c.shouldDisplayNestedViewSelector),allActivitiesString:h&&h.ViewSelectorAllActivities,activities:null,activityOptions:null,resourceStrings:u,quickFindViewId:t,styleProps:r,isInMobileModeForOct2019:Object(G.b)(s),useViewSelectorV2:Object(X.a)(s,B.le,B.h)}),a}}),(function(e){return{loadViewsByType:function(t,r,n){var a=[];return t.forEach((function(t,i){t===I.a.MAIN_APPLICATION_VIEW&&n&&0!==Object.keys(n).length||a.push(e(Object(A.a)(r,t,void 0,void 0)))})),Promise.all(a)},loadAllActivityResourceString:function(){return e(Object(x.e)(["ViewSelectorAllActivities"]))},loadAllActivityTypes:function(t){var r=null;for(var n in t)t[n].Initialized!==k.a.Initialized&&(r||(r={}),r[n]=["DisplayName","ActivityTypeMask","IsVisibleInMobileClient"]);return r?e(Object(w.e)(r)):Promise.resolve()},loadGridViewsByViewId:function(t,r){var n=[];return t.forEach((function(t,a){n.push(e(Object(A.a)(r,void 0,void 0,t)))})),Promise.all(n)},openPopup:function(t){return e(Object(M.a)(t))},closePopup:function(t){return e(Object(D.a)(t))}}}))(q),Y=r("6Tlt"),K=r("Wg6j"),J=r("XIN1"),Z=r("r7Ib"),$=r("Md8f"),ee=r("5olG"),te=r("c96h"),re=42,ne=function(e){function t(t){var r=e.call(this,t)||this;return r.onMeasuring=r.onMeasuring.bind(r),r.state={commandbarWidth:0},r._lastCommandManagerId=t.commandManagerId,r}return Object(n.__extends)(t,e),t.prototype.onMeasuring=function(e){var t=e-((this.props.style.paddingLeft?"string"==typeof this.props.style.paddingLeft?Object(ee.e)(this.props.style.paddingLeft):this.props.style.paddingLeft:0)+(this.props.style.paddingRight?"string"==typeof this.props.style.paddingRight?Object(ee.e)(this.props.style.paddingRight):this.props.style.paddingRight:0))-(this.props.backButtonEnabled?re:0);t!==this.state.commandbarWidth&&this.setState({commandbarWidth:t})},t.prototype.componentDidUpdate=function(){this.props.commandManagerId!==this._lastCommandManagerId&&(this._lastCommandManagerId=this.props.commandManagerId,this.props.setCommandManagerId(this.props.pageId,this.props.commandManagerId,this.props.contextToken))},t.prototype._renderConsoleAppBackButton=function(){return this.props.backButtonEnabled?a.createElement($.a,{pageId:this.props.pageId}):null},t.prototype._renderNativeSubgridCommandBar=function(){return this.props.isNativeMode?a.createElement(V.e,{commandManagerId:this.props.commandManagerId,pageId:this.props.pageId}):null},t.prototype.render=function(){if(!this.props.pageId||!this.props.ribbonId||!this.props.commandManagerId)return null;var e=!this.state.commandbarWidth,t=a.createElement(Y.a,{commandBarStyle:this.props.commandbarStyles,width:this.state.commandbarWidth,commandbarDisplayMode:K.a.IconLabel,key:this.props.pageId,iconPosition:J.a.Left,commandManagerId:this.props.commandManagerId,id:this.props.pageId,ribbonId:this.props.ribbonId,relationshipType:this.props.relationshipType,addedCommandList:this.props.addedCommandList,appendedCommandList:this.props.appendedCommandList,contextToken:this.props.contextToken,metaDataLoadedResolve:this.props.metaDataLoadedResolve,isHidden:e,rootZIndex:this.props.rootZIndex,customControlType:this.props.customControlType,isNativeMode:this.props.isNativeMode});return this.props.isInMobileModeForOct2019&&this.props.isGridRoot?t:a.createElement(c.a,{key:"commandBar_"+this.props.pageId,testhooks:{id:"commandBar_"+this.props.pageId},style:this.props.style,onMeasuring:this.onMeasuring,isRequestedMeasuring:!0},this._renderConsoleAppBackButton(),t,this._renderNativeSubgridCommandBar())},t}(a.Component);ne.displayName="DataSetCommandBar";var ae=Object(s.a)((function(){return function(e,t){var r=Object(G.b)(e);return{commandManagerId:Object(P.w)(e,t.pageId,t.contextToken)||t.commandManagerId,backButtonEnabled:Object(te.d)(e)&&t.isGridRoot&&!t.collapsed,isInMobileModeForOct2019:r}}}),(function(e){return{setCommandManagerId:function(t,r,n){t&&r&&n&&e(Object(Z.b)(t,r,n))}}}))(ne),ie=r("A6np"),oe=r("jigW");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
function se(e){if(e){var t=e.split(":");if(2===t.length)return t[1].split(",")}return[]}function ce(e){if(e&&e.filterOptions&&e.filterOptions.length>0){var t=e.filterOptions.filter((function(e){return e.isDefault})),r=e.userSetting,n=r&&r.defaultGridViews&&r.defaultGridViews[e.entityTypeName];n&&""!==n.QueueId&&(t=e.filterOptions.filter((function(e){return Object(P.bb)(n.QueueId).sort().join(",")===se(e.value).sort().join(",")})));var i=void 0,o=void 0;e.isGridPaginationStateFeatureEnabled&&null!=e.previousValue&&(i=Object(oe.f)(e.filterOptions,e.previousValue),o=e.previousValue),i||(t.length>0?(i=t[0].text,o=t[0].value):(i=e.filterOptions[0].text,o=e.filterOptions[0].value)),e.updateFilterValue(o);var s=Object(F.c)(e.resourceStrings,j.QUEUE_FILTER_LABEL),l=a.createElement(ie.a,{key:"gridFilter",testhooks:{id:"gridFilter_"+e},title:s,accessibilityLabel:s,defaultValue:i,options:e.filterOptions,onChange:e.onFilterChange,createAccessibilityComponent:T.a,style:e.comboBoxStyle,createKeyboardShortcut:T.b,freeTextMode:!0,suppressFreeTextChangeCallback:!0});return a.createElement(c.a,{key:"GridFilterView",style:e.style},l)}var u=e.TraceManager&&e.TraceManager.getTracer?e.TraceManager.getTracer(b.z):null;return u&&u.info("Queue Filter not rendered because there are no filter options available"),null}var le=r("np0M"),ue=r("Oiu5"),pe={Id:"toggleButtonControl",Label:null,Name:"toggleButtonControl",ShowLabel:!1,Visible:!0,Disabled:!1},de={FormFactor:2,CustomControlId:"MscrmControls.FlipSwitch.FlipSwitchControl",Name:"MscrmControls.FlipSwitch.FlipSwitchControl",Version:"1.0.0",Parameters:{value:{Usage:3,Static:!1,Value:0,Type:"TwoOptions",Attributes:{DefaultValue:0,Options:null},Callback:null}},ShouldOverrideControlVisible:!1};function he(e,t){if(!e.isRollupViewSupported)return null;var r,i,o,s,c=function(e){var t=[];if(!Array.isArray(e))return t;for(var r=0;r<e.length;++r)t.push({Label:e[r],Value:r});return t}([Object(F.c)(e.resourceStrings,j.ROLLUPVIEW_SWITCH_OFF),Object(F.c)(e.resourceStrings,j.ROLLUPVIEW_SWITCH_ON)]),l=e.isOffline,u=(r=e.toggleValue,i=t,o=e.onToggleChange,s=c,Object(n.__assign)(Object(n.__assign)({},de),{Parameters:{value:{Usage:3,Static:!1,Type:"TwoOptions",Value:r?1:0,Attributes:{DefaultValue:0,Options:s,DisplayName:i},Callback:o}}})),p=function(e,t){return Object(n.__assign)(Object(n.__assign)({},pe),{Label:e,Disabled:t})}(t,l),d="rollup_view_switch_"+e.id;return a.createElement(h.c,{key:d,controlId:d,id:e.id,systemDefinedProperties:null,descriptor:p,configuration:u,formInfo:void 0,shouldRender:!0,parentContextToken:null,parentDefinedControlProps:void 0})}function ge(e,t,r,n,i){var o=e.theme,s=e.isRTL,l=e.isActivityManagementFeatureEnabled&&e.entityIsActivityType;return a.createElement(c.a,{key:"ActivityViewContainer",role:"presentation",style:e.activityViewContainerStyle},a.createElement(c.a,{key:"ActivityDueDateFilterView",style:l?e.activityTypeContainerStyle:e.containerStyle},[t,r]),i?a.createElement(c.a,{key:"ActivityTypeFilterView",style:e.activityTypeContainerStyle},[n,i]):null,function(e,t,r,n){if(!t)return;var i=Object(F.c)(e.resourceStrings,j.ROLLUPVIEW_SWITCH_LABEL),o={flex:"1 1 auto",marginLeft:r.sizes.Measures.Measure200,marginRight:r.sizes.Measures.Measure200,marginTop:r.sizes.Measures.Measure050,minWidth:"15rem"},s={whiteSpace:"nowrap",flex:"1 0 auto",marginRight:n?0:r.sizes.Measures.Measure100,marginLeft:n?r.sizes.Measures.Measure100:0};return a.createElement(c.a,{key:"RollupViewControlContainer",style:o},a.createElement(c.a,{key:"rollupViewFilterLabelView",style:s},i),he(e,i))}(e,e.isRollupViewSupported,o,s))}var me=Object(s.a)(void 0,(function(e){return{openPopup:function(t){return e(Object(M.a)(t))},closePopup:function(t){return e(Object(D.a)(t))}}}))((function(e){var t,n=e.TraceManager&&e.TraceManager.getTracer?e.TraceManager.getTracer(b.z):null,i="",o=e.isActivityManagementFeatureEnabled&&e.entityIsActivityType;if(e&&e.filterOptions&&e.filterOptions.length>0){var s=e.filterOptions.filter((function(e){return e.isDefault}));o&&(t=Object(ue.d)(e.filterOptions)),e.isGridPaginationStateFeatureEnabled&&null!=e.previousValue&&(i=o?e.previousValue:Object(oe.f)(e.filterOptions,e.previousValue)),i||(i=s.length>0?o?s[0].value:s[0].text:o?e.filterOptions[0].value:e.filterOptions[0].text)}var l=a.useState(i),p=l[0],d=l[1];if(e&&e.filterOptions&&e.filterOptions.length>0){var h=o?Object(F.c)(e.resourceStrings,e.dueDateFilterLabelResourceString):Object(F.c)(e.resourceStrings,e.entityFilterLabelResourceString),g=null;h&&(g=a.createElement(u.a,{key:"activityDueDateFilterLabel",style:o?e.activityMgmtLabelStyle:e.labelStyle}," ",h," "));var m=a.createElement(c.a,{key:"activityDueDateFilterLabelView",style:{alignItems:"center",justifyContent:"center"}},g),f=a.createElement(ie.a,{key:"activityDueDateFilterComboBox",testhooks:{id:"activityDueDateFilterComboBox_"+e.id},id:"activityDueDateFilterComboBox",defaultValue:i,options:e.filterOptions,onChange:e.onFilterChange,createAccessibilityComponent:T.a,style:e.comboBoxStyle,textStyle:{flex:"1 0 auto",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",width:"0px"},createKeyboardShortcut:T.b,openPopup:e.openPopup,closePopup:e.closePopup,parentCustomControlId:"activityDueDateFilterComboBox",rootZIndex:e.rootZIndex,accessibilityLabel:h,freeTextMode:!0,suppressFreeTextChangeCallback:!0});if(o&&(f=a.createElement(le.a,{key:"activityDueDateFilterComboBox",loader:function(){return Promise.all([r.e(10),r.e(11),r.e(13),r.e(12),r.e(14),r.e(15),r.e(17),r.e(21),r.e(29),r.e(91)]).then(r.bind(null,"YDph")).then((function(e){return e.ComboBox}))},props:{selectedKey:p,key:"activityDueDateFilterComboBox",id:"activityDueDateFilterComboBox",options:t,onChange:function(t,r){d(r.key),e.onFilterChange(r.key)},style:e.dueDatecomboBoxStyle,ariaLabel:h,useComboBoxAsMenuWidth:!0,allowFreeform:!0}})),e.isActivityManagementFeatureEnabled&&!e.isOffline&&!e.isMobile&&e.gridEntityName===b.a){var v=null,y=Object(F.c)(e.resourceStrings,e.activityTypeFilterLabelResourceString);y&&(v=a.createElement(u.a,{key:"activityTypeFilterLabel",style:e.activityMgmtLabelStyle}," ",y," "));var _=a.createElement(c.a,{key:"activityTypeFilterLabelView",style:{alignItems:"center",justifyContent:"center"}},v),C=void 0;if(e.filterOptionsForActivityType&&e.filterOptionsForActivityType.length>0){n&&n.info("Activity Management Filter - Activity Type Filter Rendered with no. of options "+e.filterOptionsForActivityType.length);var S=Object(ue.c)(e.filterOptionsForActivityType);if(e.isActivityFilterSelectAllEnabled){var O=Object(F.c)(e.resourceStrings,j.ACTIVITYTYPE_SELECTALL),I=[];I.push({key:"selectAllKey",text:O}),S=I.concat(S)}var P=[];e.isGridPaginationStateFeatureEnabled&&null!=e.activityTypePreviousValues&&(P=Object(ue.b)(e.activityTypePreviousValues)),C=a.createElement(le.a,{key:"activityTypeFilterBox",loader:function(){return Promise.all([r.e(10),r.e(29),r.e(41)]).then(r.bind(null,"x3Jg")).then((function(e){return e.ActivityTypeCombobox}))},props:{key:"activityTypeFilterBox",id:"activityTypeFilterBox",selectedOptionKeys:P,onActivityTypeFilterClear:function(){e.onActivityTypeFilterClear()},onActivityTypeMenuDismissed:function(t){e.onActivityTypeChange(t)},options:S,ariaLabel:y,isRTL:e.isRTL,style:e.activityTypeContainerStyle,resourceStrings:e.resourceStrings,selectAllEnabled:e.isActivityFilterSelectAllEnabled}})}return ge(e,m,f,_,C)}return ge(e,m,f,null,null)}return n&&n.info("Activity Filter not rendered because there are no filter options available"),null})),fe=r("lU69"),ve=r("gvL4"),be=r("Smta"),ye=r("vTeb"),_e=r("evW+"),Ce=r("1AYO"),Se=r("19Zc"),Oe=r("wV3W"),Ie=r("vO+w");var Te=r("rbxJ"),je=r("9rQ4"),Pe=r("hl8w"),Ee=r("akzq"),Ae=r("Wi7Z"),xe=r("B73A"),Fe=r("E705"),we=r("YT7W"),Ne=r("TCzx"),ke=function(e){function t(t){var r=e.call(this,t)||this;return r._cachedSelectedFilter="",r._onFilterChange=r._onFilterChange.bind(r),r._toggleJumpBarFlyout=r._toggleJumpBarFlyout.bind(r),r._closeJumpBarDomId="close-jumpbar-"+Object(fe.a)(),r._selectedFilterDomId="selected-filter-"+Object(fe.a)(),r.state={isFlyoutOpened:!1},r}return Object(n.__extends)(t,e),t.prototype._onOutsideClickHandler=function(e,t){var r=t.target,n=document.getElementById(e);r&&!n.contains(r)&&n!==r&&this._toggleJumpBarFlyout()},t.prototype.keyDownHandler=function(e){switch(e.EVENT.keyCode){case je.a.Escape:this._setIsFlyoutOpenedState(!1)}},t.prototype._toggleJumpBarFlyout=function(){this._setIsFlyoutOpenedState(!this.state.isFlyoutOpened)},t.prototype._setIsFlyoutOpenedState=function(e){this.setState({isFlyoutOpened:e}),Object(Fe.g)(e)},t.prototype._filterGrid=function(e){var t,r=e.getAttribute("data-value");if(r!==this._cachedSelectedFilter&&(this.props.updateDataSetLoadingState(1),this._cachedSelectedFilter=r),1033===this.props.languageId&&r){var n=e.getAttribute("data-value").toUpperCase();n!==r&&(r=r+"|"+n)}t=this.props.dataSetFetchXml?Object(Pe.c)(this.props.dataSetFetchXml,this.props.entityAttributeMetadata,this.props.primaryNameAttribute):this.props.primaryNameAttribute,this.props.applyGridFilter(Object(Pe.b)(r,t),this.props.isGridRoot,this.props.contextToken),this._setIsFlyoutOpenedState(this.props.renderMobile&&!this.state.isFlyoutOpened)},t.prototype._onFilterChange=function(e){var t=e.target,r=e;("click"===e.type||r&&r.keyCode===je.a.Enter)&&(e.preventDefault(),t&&"a"===t.tagName.toLowerCase()&&(t=t.parentElement),this._filterGrid(t))},t.prototype._renderListItem=function(e,t,r){var i=Object(n.__assign)({},this.props.renderMobile?this.props.styles.listItemStyleMobile:this.props.styles.listItemStyle),o=Object(n.__assign)(Object(n.__assign)({},this.props.styles.hyperlinkStyle),this.props.renderMobile?this.props.styles.hyperlinkStyleMobile:null);return r.describedByElementId&&(i=Object.assign(i,this.props.renderMobile?this.props.styles.listItemSelectedStyleMobile:this.props.styles.listItemSelectedStyle),o=Object.assign(o,this.props.renderMobile?this.props.styles.hyperlinkSelectedStyleMobile:null)),a.createElement(be.a,Object(n.__assign)({},r,{style:i}),a.createElement(ye.a,Object(n.__assign)({},e,{style:o}),t))},t.prototype._createKeyboardShortcuts=function(){var e=Object(F.c)(this.props.resourceStrings,j.CLOSE_JUMPBAR_ARIALABEL),t=this.keyDownHandler.bind(this),r=[],n=new xe.a([je.a.Escape],t,!0,"",e);return r.push(n),r},t.prototype._renderJumpBarAlphabet=function(){var e=this,t=[],r=Object(F.c)(this.props.resourceStrings,j.JUMPBAR_ALPHABET),n=Object(F.c)(this.props.resourceStrings,j.JUMPBAR_NUMBER_INDICATOR),a=Object(F.c)(this.props.resourceStrings,j.JUMPBAR_NUMBER_TOOLTIP),i=Ne.a.getInstance(),o=!!i&&i.get_IsIOS();return r.split(",").forEach((function(r){var i=Object(Te.h)(r),s=i[0],c=i[1],l=s+"_listItem",u=s+"_link",p={id:l,key:l,accessibilityLabel:String.format(j.FILTERBY_ARIALABEL,c),role:Ae.q,onClick:e._onFilterChange,onKeyDown:e._onFilterChange,tabIndex:-1},d={id:u,key:u,testhooks:{id:u},tabIndex:-1,role:Ae.r,accessibilityHidden:!o,accessibilityLabel:o?String.format(j.FILTERBY_ARIALABEL,c):void 0};s===n&&(d.title=a,d.accessibilityLabel=j.NUMBER_ARIALABEL),e.props.selectedFilter!==s&&e.props.selectedFilter!==c||(p.describedByElementId=e._selectedFilterDomId,p.isSelected=!0,p.tabIndex=0),c&&(p.dataValue=c),t.push(e._renderListItem(d,s,p))})),t},t.prototype._renderJumpBarAll=function(){var e=Object(F.c)(this.props.resourceStrings,j.JUMPBAR_ALL),t=Object(F.c)(this.props.resourceStrings,j.JUMPBAR_ALL_TITLE);this._allListItemDomId=e+"_listItem";var r=e+"_link",n=Ne.a.getInstance(),a=!!n&&n.get_IsIOS(),i={id:this._allListItemDomId,key:this._allListItemDomId,onClick:this._onFilterChange,onKeyDown:this._onFilterChange,role:Ae.q,tabIndex:-1,accessibilityLabel:String.format(j.FILTERBY_ARIALABEL,e)},o={id:r,key:r,testhooks:{id:r},tabIndex:-1,role:Ae.r,accessibilityHidden:!a,accessibilityLabel:a?String.format(j.FILTERBY_ARIALABEL,e):void 0,title:t};return this.props.selectedFilter&&this.props.selectedFilter!==e||(i.describedByElementId=this._selectedFilterDomId,i.isSelected=!0,i.tabIndex=0),this._renderListItem(o,e,i)},t.prototype._renderList=function(){var e=Object(F.c)(this.props.resourceStrings,j.JUMPBAR_LETTER_TITLE);return a.createElement(ve.a,{id:"JumpBarItemsList",key:"JumpBarItemsList",testhooks:{id:"JumpBarItemsList"},title:e,role:Ae.j,onKeyDown:this._onJumpbarKeyDown.bind(this),style:Object(n.__assign)(Object(n.__assign)({},this.props.styles.jumpBarStyle),this.props.renderMobile?this.props.styles.jumpBarStyleMobile:null),accessibilityLabel:j.JUMPBAR_ARIALABEL},this._renderJumpBarAll(),this._renderJumpBarAlphabet())},t.prototype._onJumpbarKeyDown=function(e){var t=e.target;if(this.state.isFlyoutOpened){var r=9===e.keyCode,n=e.shiftKey;if(r){if(e.stopPropagation(),e.preventDefault(),n){if(t.id===this._closeJumpBarDomId)return void document.querySelector("#JumpBarItemsList").lastElementChild.focus();(i=t.previousElementSibling)?i.focus():t.id===this._allListItemDomId&&document.getElementById(this._closeJumpBarDomId).focus()}else{if(t.id===this._closeJumpBarDomId)return void document.getElementById(this._allListItemDomId).focus();if(t.parentElement&&t.parentElement.lastElementChild&&t.id===t.parentElement.lastElementChild.getAttribute("id"))return void document.getElementById(this._closeJumpBarDomId).focus();(a=t.nextElementSibling)&&a.focus()}return}}if(e.keyCode===je.a.UpArrow||e.keyCode===je.a.DownArrow||e.keyCode===je.a.LeftArrow||e.keyCode===je.a.RightArrow){e.stopPropagation(),e.preventDefault();var a,i,o=e.keyCode===je.a.DownArrow||e.keyCode===je.a.RightArrow,s=e.keyCode===je.a.UpArrow||e.keyCode===je.a.LeftArrow;if(o)return void((a=t.nextElementSibling)&&a.focus());if(s)return void((i=t.previousElementSibling)&&i.focus())}},t.prototype._renderJumpBarFlyout=function(e,t){var r="jumpbar-flyout_"+this.props.id,n=r+"Accessibility",i=[];return i.push(a.createElement(Ee.a,{key:n,rootElementId:r,shouldManageFocus:!0,isModal:!0,keyboardShortcuts:this._createKeyboardShortcuts(),defaultFocusId:this._closeJumpBarDomId})),a.createElement(c.a,{role:Ae.e},a.createElement(Ce.a,{id:r,testhooks:{id:r},key:r,rootZIndex:this.props.rootZIndex,positionType:"relative",relativeToElementId:t,flyoutStyle:this.props.styles.jumpBarFlyoutStyle,flyoutDirection:this.props.isRTL?Ce.b.upleft:Ce.b.rightup,onOutsideClick:this._onOutsideClickHandler.bind(this,e)},a.createElement(_e.a,{key:"cancel",style:this.props.styles.closeButtonStyle,id:this._closeJumpBarDomId,onClick:this._toggleJumpBarFlyout,onKeyDown:this._onJumpbarKeyDown.bind(this),accessibilityLabel:j.CLOSE_JUMPBAR_ARIALABEL},a.createElement(u.a,{style:this.props.styles.closeButtonTextStyle},a.createElement(J.b,{type:d.a.Close}))),this._renderList()),i)},t.prototype._renderFlyoutButton=function(e){for(var t=Object(F.c)(this.props.resourceStrings,j.JUMPBAR_LETTER_TITLE),r=Object(F.c)(this.props.resourceStrings,j.JUMPBAR_ALPHABET).split(","),n="",i=0;i<3;i++){n+=Object(Te.h)(r[i+1])[0]}return a.createElement(_e.a,{id:e,accessibilityLabel:t,title:t,style:this.props.isMobile?this.props.styles.jumpBarButtonMobileStyle:this.props.styles.jumpBarButtonStyle,onClick:this._toggleJumpBarFlyout,testhooks:{id:e}},a.createElement(u.a,{style:this.props.styles.jumpBarButtonTextStyle},n))},t.prototype.render=function(){try{if(this.props.resourceStrings){var e="jumpBarRoot_"+this.props.id,t=e+"_"+this.props.uniqueId,r="jumpbarBtn_"+(this.props.uniqueId||this.props.id),n={position:"relative"};this.props.renderMobile&&Object.assign(n,{maxWidth:"100%"});var i={height:"0",width:"0"},o="flyoutRelativeElement"+this.props.controlKey;return a.createElement(c.a,{id:t,key:t,testhooks:{id:e},style:n},this.props.isRTL?null:a.createElement(c.a,{id:o,style:i,role:"presentation","aria-hidden":"true"}),this.props.renderMobile?this._renderFlyoutButton(r):this._renderList(),this.state.isFlyoutOpened?this._renderJumpBarFlyout(r,o):null,a.createElement(c.a,{style:{display:"none"},id:this._selectedFilterDomId,key:this._selectedFilterDomId,role:" "},j.SELECTEDFILTER_TEXT),this.props.isRTL?a.createElement(c.a,{id:o,style:i,role:"presentation","aria-hidden":"true"}):null)}return null}catch(e){return console.error(e.message),null}},t}(a.Component);var De=Object(s.a)((function(){var e,t,r=null,n=null,a=null,i=Object(F.h)(),o=(e=null,t=null,function(r,n){var a,i,o,s,c,l,u,p,d,h,g,m,f,v,b,y,_,C,S,O,I,T,j,P,E,A,x,F,w,N,k,D,M,R,L=Object(Oe.a)(r),V=Object(Ie.b)(r)&&Object(X.a)(r,B.Fb,B.Lc)&&(null===(a=Object(Ie.a)(r))||void 0===a?void 0:a.Components)?Object(Ie.a)(r).Components:null;return t!==L&&(t=L,e={jumpBarStyle:{width:"100%",height:L.sizes.Measures.Measure300,display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center",listStyleType:"none",backgroundColor:(null===(s=null===(o=null===(i=null==V?void 0:V.Grid)||void 0===i?void 0:i.Footer)||void 0===o?void 0:o.JumpBar)||void 0===s?void 0:s.BackgroundColor)||L.colors.BaseColor.Grey.Grey1,border:"1px solid transparent"},jumpBarButtonStyle:{display:"flex",fontSize:L.fontSizes.Font085,fontFamily:L.fontFamilies.Regular,color:(null===(u=null===(l=null===(c=null==V?void 0:V.Grid)||void 0===c?void 0:c.Footer)||void 0===l?void 0:l.JumpBar)||void 0===u?void 0:u.TextColor)||L.colors.MainThemeColor.MainColor1.Fill,cursor:L.display.PointerCursorStyle,borderStyle:"none",backgroundColor:"transparent",padding:"0",marginLeft:L.sizes.Measures.Measure100,marginRight:L.sizes.Measures.Measure100,marginTop:L.sizes.Measures.Measure050,marginBottom:L.sizes.Measures.Measure050,maxWidth:"100%"},jumpBarButtonMobileStyle:{display:"flex",fontSize:L.fontSizes.Font100,fontFamily:L.fontFamilies.Regular,color:(null===(h=null===(d=null===(p=null==V?void 0:V.Grid)||void 0===p?void 0:p.Footer)||void 0===d?void 0:d.JumpBar)||void 0===h?void 0:h.TextColor)||L.colors.MainThemeColor.MainColor1.Fill,cursor:L.display.PointerCursorStyle,borderStyle:"none",backgroundColor:"transparent",padding:"0",marginLeft:L.sizes.Measures.Measure100,marginRight:L.sizes.Measures.Measure100,marginTop:L.sizes.Measures.Measure050,marginBottom:L.sizes.Measures.Measure050,maxWidth:"100%"},jumpBarButtonTextStyle:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},jumpBarFlyoutStyle:{border:L.borders.Border02,backgroundColor:L.colors.BaseColor.Grey.Grey1,overflowY:"auto",overflowX:"hidden"},closeButtonStyle:{position:"absolute",top:"0",right:"0",borderStyle:"none",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"transparent",cursor:L.display.PointerCursorStyle,padding:L.sizes.Measures.Measure100,width:L.sizes.Measures.Measure300,height:L.sizes.Measures.Measure300},closeButtonTextStyle:{fontSize:"16px",color:L.colors.BaseColor.Grey.Grey7},jumpBarStyleMobile:{height:"auto",flexWrap:"wrap",display:"flex",alignItems:"center",justifyContent:"flex-start",paddingTop:L.sizes.Measures.Measure300,paddingRight:L.sizes.Measures.Measure050,paddingBottom:L.sizes.Measures.Measure150,paddingLeft:L.sizes.Measures.Measure300,maxWidth:"20rem"},listItemStyle:{textAlign:"center",position:"relative",height:L.sizes.Measures.Measure125},listItemSelectedStyle:{borderStyle:"solid",borderBottomColor:(null===(f=null===(m=null===(g=null==V?void 0:V.Grid)||void 0===g?void 0:g.Footer)||void 0===m?void 0:m.JumpBar)||void 0===f?void 0:f.SelectedColor)||L.colors.MainThemeColor.MainColor1.Fill,borderBottomWidth:L.sizes.Measures.Measure025},listItemStyleMobile:{display:"flex",alignItems:"center",justifyContent:"center",cursor:L.display.PointerCursorStyle,marginRight:L.sizes.Measures.Measure150,marginBottom:L.sizes.Measures.Measure150,width:L.sizes.Measures.Measure300,height:L.sizes.Measures.Measure300,border:L.borders.Border01,borderColor:(null===(y=null===(b=null===(v=null==V?void 0:V.Grid)||void 0===v?void 0:v.Footer)||void 0===b?void 0:b.JumpBar)||void 0===y?void 0:y.BorderColor)||L.colors.BaseColor.Blue.Blue3,backgroundColor:(null===(S=null===(C=null===(_=null==V?void 0:V.Grid)||void 0===_?void 0:_.Footer)||void 0===C?void 0:C.JumpBar)||void 0===S?void 0:S.BackgroundColorMobile)||L.colors.BaseColor.White,":nth-child(2)":{marginRight:"50%"},outlineOffset:"0px !important"},listItemSelectedStyleMobile:{borderColor:(null===(T=null===(I=null===(O=null==V?void 0:V.Grid)||void 0===O?void 0:O.Footer)||void 0===I?void 0:I.JumpBar)||void 0===T?void 0:T.SelectedBorderColor)||L.colors.BaseColor.Transparent,backgroundColor:(null===(E=null===(P=null===(j=null==V?void 0:V.Grid)||void 0===j?void 0:j.Footer)||void 0===P?void 0:P.JumpBar)||void 0===E?void 0:E.SelectedColorMobile)||L.colors.BaseColor.Grey.Grey2},hyperlinkStyle:{textDecoration:"none",textAlign:"center",fontSize:L.fontSizes.Font085,fontFamily:L.fontFamilies.Regular,whiteSpace:"nowrap",color:(null===(F=null===(x=null===(A=null==V?void 0:V.Grid)||void 0===A?void 0:A.Footer)||void 0===x?void 0:x.JumpBar)||void 0===F?void 0:F.LinkColor)||L.colors.BaseColor.Grey.Grey7},hyperlinkStyleMobile:{color:(null===(k=null===(N=null===(w=null==V?void 0:V.Grid)||void 0===w?void 0:w.Footer)||void 0===N?void 0:N.JumpBar)||void 0===k?void 0:k.LinkColor)||L.colors.BaseColor.Blue.Blue3},hyperlinkSelectedStyleMobile:{color:(null===(R=null===(M=null===(D=null==V?void 0:V.Grid)||void 0===D?void 0:D.Footer)||void 0===M?void 0:M.JumpBar)||void 0===R?void 0:R.SelectedBorderColor)||L.colors.BaseColor.Grey.Grey7}}),e});return function(e,t){var s=o(e,t);if(null===r&&(r=Object(N.E)(e,t.entityTypeName)),null==n&&(n=e.metadata.attributes[t.entityTypeName]),Object(X.a)(e,B.ac)){var c=Object(P.v)(e,t.id,t.contextToken);a=c&&c.fetchXml}return{resourceStrings:i(e,j.labelList),primaryNameAttribute:r,dataSetFetchXml:a,entityAttributeMetadata:n,styles:s}}}),(function(e,t){return{applyGridFilter:function(r,n,a){if(e(Object(Se.m)(r,t.id,a)),e(Object(we.b)(t.id,a,1)),n){var i=[{filterType:4,filterExpressionOrValue:r}];t.updateGridPaginationStateHandler(i,t.id),t.setResetPagingInfoForEnhancedPaging()}}}}))(ke),Me=r("fH/t");var Re=r("4Q7K"),Le=r("3IUl"),Ve=r("bc+P"),Ge=r("+6eZ"),Be=r("Baft"),Xe=r("zETL"),Ue=r("r0s4"),ze=function(e){function t(t){var r=e.call(this,t)||this;return r._goToFirstPage=r._goToFirstPage.bind(r),r._goToPreviousPage=r._goToPreviousPage.bind(r),r._goToNextPage=r._goToNextPage.bind(r),Object(F.c)(t.resourceStrings,Me.d)||t.retrieveResourceStrings(Me.k),r}return Object(n.__extends)(t,e),t.prototype._firstButtonEnabled=function(e){return this.props.currentPage>1},t.prototype._nextButtonEnabled=function(e){return(!(this.props.currentPage===Math.floor(e.totalResultCount/e.pageSize))||!this.props.pagingInfo.isGridScrolledToBottom)&&e.hasNextPage},t.prototype._previousButtonEnabled=function(e){return this.props.currentPage>1},t.prototype._goToNextPage=function(e){this.props.updateDataSetLoadingState(1),this.props.incrementLastPage(),this.props.setNewPageRequested(!0),this.props.updatePageNumber(this.props.currentPage+1),this._setFooterButtonsFocus(e,!0)},t.prototype._goToPreviousPage=function(e){this.props.updateDataSetLoadingState(1),this.props.setNewPageRequested(!0),this.props.updatePageNumber(this.props.currentPage-1),this._setFooterButtonsFocus(e,!1)},t.prototype._goToFirstPage=function(e){this.props.updateDataSetLoadingState(1),this.props.setNewPageRequested(!0),this.props.setFirstPage(1),this.props.updatePageNumber(1),this._setFooterButtonsFocus(e,!1)},t.prototype._setFooterButtonsFocus=function(e,t){if(null!==e&&null!==e.currentTarget&&null!==e.currentTarget.parentElement&&null!==e.currentTarget.parentElement.children)if(t&&e.currentTarget.parentElement.children.length>=2&&null!==e.currentTarget.parentElement.children[1]){var r=e.currentTarget,n=e.currentTarget.parentElement.children[1];setTimeout((function(){r.disabled&&n.focus()}),500)}else if(!t&&null!==e.currentTarget.parentElement.lastElementChild){var a=e.currentTarget,i=e.currentTarget.parentElement.lastElementChild;setTimeout((function(){a.disabled&&i.focus()}),500)}},t.prototype._getResources=function(){if(this._loadFirstPage=this._loadFirstPage||Object(F.c)(this.props.resourceStrings,Me.d),this._loadNextPage=this._loadNextPage||Object(F.c)(this.props.resourceStrings,Me.e),this._loadPreviousPage=this._loadPreviousPage||Object(F.c)(this.props.resourceStrings,Me.f),!this._spaceResource){var e=Object(F.c)(this.props.resourceStrings,Me.j);this._spaceResource=Object(Ue.CrmHtmlDecode)(e)}this._gridInfoResource=this._gridInfoResource||Object(F.c)(this.props.resourceStrings,Me.a),this._gridTotalCount=this._gridTotalCount||Object(F.c)(this.props.resourceStrings,Me.c),this._itemSelected=this._itemSelected||Object(F.c)(this.props.resourceStrings,Me.b),this._totalApproximate=this._totalApproximate||Object(F.c)(this.props.resourceStrings,Me.h),this._totalExact=this._totalExact||Object(F.c)(this.props.resourceStrings,Me.i)},t.prototype.render=function(){if(!this.props.pagingData)return null;var e=Object(Ge.a)(this.props.pagingData),t=0,r=0;e.totalResultCount&&(this.props.enhancedPagingDisabled?(t=e.pageSize*(this.props.currentPage-1)+1,r=this.props.currentPage*e.pageSize,-1!==e.totalResultCount&&this.props.currentPage*e.pageSize>e.totalResultCount&&(r=e.totalResultCount,this.props.isServerOffline&&this.props.currentPage>1&&(r=e.pageSize*(this.props.currentPage-1)+e.totalResultCount))):(t=e.pageSize*(this.props.pagingInfo.firstPageNumber-1)+1,r=this.props.pagingInfo.lastPageNumber*e.pageSize,this.props.pagingInfo.pageShift>0&&(t+=this.props.pagingInfo.pageShift,r+=this.props.pagingInfo.pageShift),-1!==e.totalResultCount&&this.props.pagingInfo.lastPageNumber*e.pageSize>e.totalResultCount&&(r=e.totalResultCount,this.props.isServerOffline&&this.props.currentPage>1&&(r=e.pageSize*(this.props.currentPage-1)+e.totalResultCount))));var n=e.totalResultCount,i=this._firstButtonEnabled(e),o=this._nextButtonEnabled(e),s=this._previousButtonEnabled(e);this._getResources();var l=n;-1===n&&(l=r<this.props.gridTotalRecordsCountLimit?this.props.gridTotalRecordsCountLimit:r);var u="";u=-1===n?String.format(this._totalApproximate,this.props.isServerOffline?r:l):this.props.isServerOffline&&n>e.pageSize?String.format(this._totalApproximate,r):String.format(this._totalExact,this.props.isServerOffline?r:n);var p=String.format(this._gridTotalCount,this._spaceResource,u),d=this.props.selectedRowCount>0?String.format(this._itemSelected,this._spaceResource,this.props.selectedRowCount):null,h=Object(F.c)(this.props.resourceStrings,Me.g),g=String.format(h,this.props.currentPage),m=n/e.pageSize;return this.props.isServerOffline&&0!==this.props.currentPage&&(m=-1/e.pageSize),a.createElement(c.a,{style:this.props.styleProps.containerStyle},this._renderPagingText(t,r,p,d),this._renderPagingButtons(i,o,s,g,m))},t.prototype._renderPagingButtons=function(e,t,r,n,i){return(i<0||i>1)&&this.props.enhancedPagingDisabled?a.createElement(c.a,{style:this.props.styleProps.navigationPanelStyle},a.createElement(_e.a,{style:this.props.styleProps.pagingButton,testhooks:{id:"loadFirstPage_"+this.props.id},accessibilityLabel:this._loadFirstPage,disabled:!e,tabIndex:0,onClick:this._goToFirstPage},a.createElement(J.b,{type:d.a.FirstPageButton})),a.createElement(_e.a,{style:this.props.styleProps.pagingButton,testhooks:{id:"moveToPreviousPage_"+this.props.id},accessibilityLabel:this._loadPreviousPage,disabled:!r,tabIndex:0,onClick:this._goToPreviousPage},a.createElement(J.b,{type:d.a.BackButton})),a.createElement(u.a,{style:this.props.styleProps.pageNumberStyle,testhooks:{id:"pageNumber_"+this.props.id},role:Ae.a,notificationType:Be.b},null!==this.props.currentPage?String.format(n,this.props.currentPage):null),a.createElement(_e.a,{style:this.props.styleProps.pagingButton,testhooks:{id:"moveToNextPage_"+this.props.id},accessibilityLabel:this._loadNextPage,disabled:!t,tabIndex:0,onClick:this._goToNextPage},a.createElement(J.b,{type:d.a.Forward}))):null},t.prototype._renderPagingText=function(e,t,r,n){if(!this.props.pagingTextDisabled&&this.props.shouldPagingTextRender&&this.props.gridTotalRecordsCountLimit)return a.createElement(c.a,{style:this.props.styleProps.pagingTextStyle,testhooks:{id:"pagingText"}},a.createElement(u.a,null,String.format(this._gridInfoResource,e,t,r,n)))},t}(a.Component);var qe=Object(s.a)((function(){var e,t,r,a=null,i=Object(F.h)(),o=(e=null,t=null,r={containerStyle:{justifyContent:"space-between",alignItems:"center",width:"100%"},navigationPanelStyle:{flexDirection:"row"},pageNumberStyle:{whiteSpace:"nowrap"},pagingButton:{borderStyle:"none",display:"inline-block",backgroundColor:"transparent",fontSize:"16px"}},function(a,i){var o,s,c,l,u,p,d,h,g,m,f,v,b=Object(Ie.b)(a)&&Object(X.a)(a,B.Fb,B.Lc)&&(null===(c=Object(Ie.a)(a))||void 0===c?void 0:c.Components)?Object(Ie.a)(a).Components:null;if(e!==i){e=i;var y=Object(Oe.a)(a),_=a.user.userSettings.isRTL,C=Object(n.__assign)(Object(n.__assign)({},r.containerStyle),{marginRight:y.sizes.Measures.Measure100,marginLeft:y.sizes.Measures.Measure100}),S=Object(n.__assign)(Object(n.__assign)({},r.navigationPanelStyle),((o={})["margin"+(_?"Right":"Left")]="auto",o)),O=Object(n.__assign)(Object(n.__assign)({},r.pageNumberStyle),{marginRight:y.sizes.Measures.Measure100,marginLeft:y.sizes.Measures.Measure100,fontSize:y.fontSizes.Font085,fontFamily:y.fontFamilies.Regular,color:(null===(u=null===(l=null==b?void 0:b.Grid)||void 0===l?void 0:l.Footer)||void 0===u?void 0:u.TextColor)||y.colors.BaseColor.Grey.Grey7}),I=Object(n.__assign)(Object(n.__assign)(Object(n.__assign)({},r.pagingButton),{color:(null===(d=null===(p=null==b?void 0:b.Grid)||void 0===p?void 0:p.Footer)||void 0===d?void 0:d.IconColor)||y.colors.BaseColor.Blue.Blue3,marginLeft:y.sizes.Measures.Measure050,marginRight:y.sizes.Measures.Measure050,width:"0px",fontSize:y.fontSizes.Font085,"[disabled]":{color:(null===(m=null===(g=null===(h=null==b?void 0:b.Grid)||void 0===h?void 0:h.Footer)||void 0===g?void 0:g.Disabled)||void 0===m?void 0:m.IconColor)||y.colors.BaseColor.Grey.Grey5}}),_&&{transform:"scaleX(-1)"}),T=((s={})["margin"+(_?"Left":"Right")]="auto",s.fontSize=y.fontSizes.Font085,s.fontFamily=y.fontFamilies.Regular,s.color=(null===(v=null===(f=null==b?void 0:b.Grid)||void 0===f?void 0:f.Footer)||void 0===v?void 0:v.TextColor)||y.colors.BaseColor.Grey.Grey7,s);t=Object(n.__assign)(Object(n.__assign)({},r),{containerStyle:C,navigationPanelStyle:S,pagingButton:I,pageNumberStyle:O,pagingTextStyle:T})}return t});return function(e,t){var r=o(e,t.contextString),n=Object(P.fb)(e,t.id,t.contextToken),s=n?n.length:0,c=i(e,Me.k),l=Object(P.Y)(e,t.id,t.contextToken),u=Object(P.x)(e,t.id,t.contextToken);return a!==r&&(a=r),{selectedRowCount:s,resourceStrings:c,pagingData:l,currentPage:null===u?1:u,styleProps:a}}}),(function(e,t){return{retrieveResourceStrings:function(t){return e(Object(x.e)(t))},updatePageNumber:function(r){if(e(Object(we.b)(t.id,t.contextToken,r)),1===r&&t.enhancedPagingDisabled&&e(Object(Xe.b)(t.id,t.contextToken)),t.isGridRoot){var n=[{filterType:12,filterExpressionOrValue:r}];t.updateGridPaginationStateHandler(n,t.id)}return e(Object(Ve.b)(t.id,t.contextToken,null)),e(Object(Le.b)(t.id,t.contextToken,[]))},setNewPageRequested:function(r){e(Object(Re.b)(t.id,t.contextToken,r))}}}))(ze),We=r("PBKq"),He=r("i6iy"),Qe=r("7EJx");var Ye=r("jf1O"),Ke=r("aPRd"),Je=function(e){function t(t){var r=e.call(this,t)||this;return r._quickFindInnerTextRef=null,r._searchBarFocusTriggered=!1,r._onTextInputChange=r._onTextInputChange.bind(r),r._onkeyDown=r._onkeyDown.bind(r),r._onButtonClick=r._onButtonClick.bind(r),r._focusTextInput=r._focusTextInput.bind(r),r.updateSearchTextAndFind=r.updateSearchTextAndFind.bind(r),r.props.isGridPaginationStateFeatureEnabled&&r.props&&r.props.gridInput&&r.props.gridInput.quickFindExpression?r.state={quickFindText:r.props.gridInput.quickFindExpression.trim(),currentViewId:r.props.currentViewIdToRestore,clearQuickFind:!0}:r.state={quickFindText:null,currentViewId:null,clearQuickFind:!1},r}return Object(n.__extends)(t,e),t.prototype.clearSearchBar=function(){this.setState({quickFindText:null,clearQuickFind:!1})},t.prototype.updateSearchTextAndFind=function(e,t){var r=this;this.setState({quickFindText:e},(function(){t&&r._applyQuickFind()}))},t.prototype._onButtonClick=function(e){this.props.updateDataSetLoadingState(1),this.state.clearQuickFind?this._clearQuickFind():this._applyQuickFind()},t.prototype._onkeyDown=function(e){e.keyCode===je.a.Enter&&(this.props.updateDataSetLoadingState(1),this._applyQuickFind())},t.prototype._onTextInputChange=function(e){var t=""===e;this.setState({quickFindText:e,clearQuickFind:t})},t.prototype._applyFilter=function(){var e=this._formatQuickFindText(),t=Object(Pe.b)(e,this.props.primaryNameAttribute);this.props.applyGridFilter(t,this.props.contextToken)},t.prototype._clearFilter=function(){var e=this;this.setState({quickFindText:""},(function(){e._applyFilter()}))},t.prototype._formatQuickFindText=function(){return this.state.quickFindText.split("*").join("%").replace(/%?\s*$/,"%")},t.prototype._applyQuickFind=function(){var e=this;this.state.quickFindText&&""!==this.state.quickFindText.trim()?this.props.shouldUseFilter?(this._applyFilter(),this.setState({clearQuickFind:!0})):this.props.applyQuickFind(this.state.quickFindText,this.props.id,this.props.gridInput,this.props.contextToken,this.props.controlName,this.props.isGridPaginationStateFeatureEnabled).then((function(t){e.setState({clearQuickFind:!0}),e.state.currentViewId||e.setState({currentViewId:t})})):this._clearQuickFind()},t.prototype._clearQuickFind=function(){var e=this;this.props.shouldUseFilter?(this._clearFilter(),this.setState({clearQuickFind:!1})):this.props.clearQuickFind(this.state.currentViewId,this.props.id,this.props.gridInput,this.props.contextToken,this.props.controlName).then((function(){e.setState({quickFindText:"",currentViewId:null,clearQuickFind:!1})}))},t.prototype._getPlaceholderText=function(){return this.props.isGridSearchCanUseCurrentViewFeatureEnabled?this.props.shouldGridSearchUseCurrentView?Object(F.c)(this.props.resourceStrings,j.QUICK_FIND_TEXT_BOX_PLACEHOLDER_TEXT_SEARCH_THIS_VIEW):Object(F.c)(this.props.resourceStrings,j.QUICK_FIND_TEXT_BOX_PLACEHOLDER_TEXT_QUICK_FIND_VIEW):Object(F.c)(this.props.resourceStrings,j.QUICK_FIND_TEXT_BOX_PLACEHOLDER_TEXT)},t.prototype._createUniqueId=function(e){var t=this.props,r=t.contextToken,n=t.id;return r.controlName?e+"_"+r.controlName+"_"+n:e+"_"+n},t.prototype.render=function(){var e=this,t=this._getPlaceholderText(),r=Object(F.c)(this.props.resourceStrings,j.QUICK_FIND_TOOLTIP_CLEAR_BUTTON);if(this.props.showNewQuickFindSearchBarForMobile)return a.createElement(c.a,null,a.createElement(V.i,{placeholder:t,cancelText:Object(F.c)(this.props.resourceStrings,j.QUICK_FIND_CANCEL_LABEL_ID),clearText:r,applyQuickFind:this._applyQuickFind,windowWidth:this.props.viewPortWidth,updateSearchTextAndFind:this.updateSearchTextAndFind,value:this.state.quickFindText,quickFindRNStyleProps:this.props.quickFindRNStyleProps}));var n=this._createUniqueId("quickFind_text"),i=this._createUniqueId("quickFind_button"),o=this._createUniqueId("quickFind_button_icon"),s=Object(F.c)(this.props.resourceStrings,j.QUICK_FIND_TOOLTIP_APPLY_BUTTON),l=this.state&&this.state.clearQuickFind?r:s;return a.createElement(c.a,{style:this.props.styleProps.quickFindStyle,testhooks:{id:"data-set-quickFind-container"}},a.createElement(We.a,{id:n,key:n,ref:function(t){e._quickFindInnerTextRef=t},testhooks:{id:n},value:this.state&&this.state.quickFindText?this.state.quickFindText:null,accessibilityLabel:t,onChangeText:this._onTextInputChange,onKeyDown:this._onkeyDown,style:this.props.styleProps.inputStyle,placeholder:t}),a.createElement(_e.a,{id:i,key:i,testhooks:{id:i},accessibilityLabel:l,title:l,onClick:this._onButtonClick,tabIndex:0,style:this.props.styleProps.buttonStyle},a.createElement(J.b,{id:o,key:o,type:this.state&&this.state.clearQuickFind?d.a.Cancel:d.a.SearchButton,style:this.props.styleProps.buttonIconStyle})))},t.prototype._focusTextInput=function(){if(this.props.focusSearchBoxAfterRender&&!this._searchBarFocusTriggered){var e=i.findDOMNode(this._quickFindInnerTextRef);e&&(e.focus(),this._searchBarFocusTriggered=!0)}},t.prototype.componentDidMount=function(){this._focusTextInput()},t}(a.Component);Je.displayName="DataSetQuickFind";var Ze=Object(s.a)((function(){var e,t,r,a,i=null,o=null,s=null,c=(t=null,r=null,a={buttonStyle:{border:"none",padding:"0",backgroundColor:"transparent",flexDirection:"column","-webkit-appearance":"none"},inputStyle:{border:"none",backgroundColor:"transparent",width:"100%",minWidth:"0px","-webkit-appearance":"none","::-ms-clear":{display:"none"}},quickFindStyle:{borderWidth:"1px",borderStyle:"solid",display:"flex",flexDirection:"row",width:"100%"},buttonIconStyle:{fontWeight:"bold",marginTop:"auto",marginBottom:"auto",width:"100%"}},function(i,o){var s,c,l,u,p,d,h,g,m,f,v,b,y,_,C,S,O,I=Object(Qe.g)(i),T=Object(Ie.b)(i)&&Object(X.a)(i,B.Fb,B.Lc)&&(null===(c=Object(Ie.a)(i))||void 0===c?void 0:c.Components)?Object(Ie.a)(i).Components:null;if(T&&(a=Object.assign(a,{inputStyle:{color:null===(p=null===(u=null===(l=null==T?void 0:T.Grid)||void 0===l?void 0:l.ColumnHeader)||void 0===u?void 0:u.QuickFind)||void 0===p?void 0:p.TextColor,backgroundColor:null===(g=null===(h=null===(d=null==T?void 0:T.Grid)||void 0===d?void 0:d.ColumnHeader)||void 0===h?void 0:h.QuickFind)||void 0===g?void 0:g.BackgroundColor,borderColor:"transparent"},searchIconStyle:{color:null===(v=null===(f=null===(m=null==T?void 0:T.Grid)||void 0===m?void 0:m.ColumnHeader)||void 0===f?void 0:f.QuickFind)||void 0===v?void 0:v.IconColor},buttonIconStyle:{color:null===(_=null===(y=null===(b=null==T?void 0:T.Grid)||void 0===b?void 0:b.ColumnHeader)||void 0===y?void 0:y.QuickFind)||void 0===_?void 0:_.IconColor}})),t!==o||e!==I){t=o,e=I;var j=Object(Oe.a)(i),P=Object(n.__assign)(Object(n.__assign)({},a.buttonStyle),{":before":{content:"''",display:"inline-block",width:j.sizes.Measures.Measure250}}),E=Object(n.__assign)(Object(n.__assign)({},a.quickFindStyle),((s={borderColor:(null===(O=null===(S=null===(C=null==T?void 0:T.Grid)||void 0===C?void 0:C.ColumnHeader)||void 0===S?void 0:S.QuickFind)||void 0===O?void 0:O.BorderColor)||j.colors.BaseColor.Grey.Grey3})["padding"+(I?"Right":"Left")]=j.sizes.Measures.Measure025,s));r=Object(n.__assign)(Object(n.__assign)({},a),{buttonStyle:P,quickFindStyle:E})}return r}),l=Object(Ye.a)(),u=Object(F.h)(),p=null;return function(e,t){var r=c(e,t.contextString),n=l(e,t);s||(s=u(e,j.labelList)),i!==r&&(i=r),o!==n&&(o=n),p||(p=Object(X.c)(e,B.bd));var a=Object(X.a)(e,B.zb),d=null;a&&t.gridInput&&(d=(t.gridInput&&t.gridInput.viewId&&!C.a.isNullOrEmpty(t.gridInput.viewId)?t.gridInput.viewId:null)||Object(O.a)(e,t.entityTypeName,I.a.MAIN_APPLICATION_VIEW));return{quickFindText:"",currentViewId:null,clearQuickFind:!1,primaryNameAttribute:Object(N.E)(e,t.entityTypeName),styleProps:i,quickFindRNStyleProps:o,shouldUseFilter:!(Object(Te.e)(t.contextString)||Object(Te.d)(t.contextString)||Object(Te.g)(t.contextString)&&p),resourceStrings:s,isGridPaginationStateFeatureEnabled:a,currentViewIdToRestore:d,shouldGridSearchUseCurrentView:Object(oe.l)(e),isGridSearchCanUseCurrentViewFeatureEnabled:Object(X.a)(e,B.Db,B.h),isQuickFindImprovementsFeatureEnabled:Object(X.a)(e,B.ad,B.tc),viewPortWidth:Object(Ke.c)(e)}}}),(function(e,t){return{applyQuickFind:function(r,n,a,i,o,s){if(a&&s){var c=[{filterType:1,filterExpressionOrValue:r}];a.entityTypeName===b.a&&c.push({filterType:2,filterExpressionOrValue:t.entityTypeName}),t.updateGridPaginationStateHandler(c,t.id),t.resetPagingInfoForEnhancedPaging()}return e(Object(He.a)(r,n,i,o))},clearQuickFind:function(r,n,a,i,o){if(a){t.updateGridPaginationStateHandler([{filterType:1,filterExpressionOrValue:null}],t.id)}return e(Object(He.b)(r,n,i,o))},applyGridFilter:function(r,n){e(Object(Se.n)(r,t.id,n))}}}),null,{forwardRef:!0})(Je);
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */var $e=function(e){return function(e,t,r,n,i,o){var s=(null==o?void 0:o.seeMoreTooltip)||Object(F.c)(t,j.SEE_MORE_TOOL_TIP),l=(null==o?void 0:o.seeMoreLabel)||Object(F.c)(t,j.SEE_MORE_LABEL),p=s;return(null==o?void 0:o.uniqueLabel)&&(p+=" "+o.uniqueLabel),a.createElement(c.a,{style:r},a.createElement(_e.a,{key:"seeMoreBtn",id:"seemore-btn",title:s,style:n,onClick:e,tabIndex:0,accessibilityLabel:p,describedByElementId:null},a.createElement(u.a,{style:i},l)))}(e.onSeeMoreClick,e.resourceStrings,e.containerStyle,e.buttonStyle,e.seeMoreTextStyle,e.localizedStrings)};
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */var et=r("s2by"),tt=r("/45f"),rt=r("sgPk"),nt=r("WS0f"),at=r("fE8x");var it=r("Cgjg"),ot=r("FPMG"),st=r("0bF2"),ct=r("bCrZ"),lt=r("Wye+"),ut=r("Ds7n"),pt=r("d26+"),dt=r("7oc5"),ht=r("tcXs"),gt=r("c0jI"),mt=r("t8f4"),ft=r("QAhb"),vt=r("8egQ");var bt=r("5cS+"),yt=r("whwt"),_t=r("ASFs"),Ct=r("Z46F"),St=r("LWFb"),Ot=r("kyRo"),It=r("buKK"),Tt=r("+D0h"),jt=r("6FBX"),Pt=r("LnR7"),Et=r("pLx/");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
function At(e){return a.createElement(le.a,{loader:function(){return Promise.all([r.e(9),r.e(10),r.e(11),r.e(13),r.e(12),r.e(14),r.e(15),r.e(17),r.e(21),r.e(34)]).then(r.bind(null,"GDLi")).then((function(e){return e.DataSetExpressionBuilder}))},props:e})}At.displayName="DataSetExpressionBuilderLazyLoadComponent";var xt=r("/U1C"),Ft=r("RrHr"),wt=r("zpQF"),Nt=r("/0Gr"),kt=r("TUxu"),Dt=r("/j9Z"),Mt=r("VcAV"),Rt=r("swEE");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
function Lt(e){return a.createElement(le.a,{loader:function(){return Promise.all([r.e(9),r.e(10),r.e(11),r.e(13),r.e(12),r.e(14),r.e(16),r.e(113),r.e(33)]).then(r.bind(null,"pnQ/")).then((function(e){return e.ColumnEditor}))},props:e})}Lt.displayName="ColumnEditorLazyLoadComponent";var Vt=r("2Sll"),Gt=r("ozuu");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
Object(Vt.a)();var Bt=b.x+".DataSetHost",Xt=Bt+".AdvancedFind.Open",Ut=Bt+".AdvancedFind.Discard",zt=function(e){function t(t){var r=e.call(this,t)||this;return r._quickFindCommandBarId="showQuickFind",r._changeVisualizationCommandBarId="changeVisualization",r._savedDefault=null,r._savedFormInfo=null,r._currentFilterValue=null,r._addedCommandListFromHost=[],r._addedCommandListFromControl=[],r._addedCommandListFromHostParent=[],r._memoizedConfiguration=null,r._memoizedResourceStrings=null,r._memoizedViewConfigurations=null,r._memoizedButtonList=null,r._parentSwitchVisualizationButton=null,r._keyIndex=0,r._width=0,r._height=0,r._isFirstRequestComplete=!1,r._isPreNavigationEventAttached=!1,r._offlineSqlQueryRetrieveState=0,r._dataSetQuickFindRef=a.createRef(),r._isSubGridFirstLoad=!1,r._minWidthForChartPlusGridReflow=640,r._isReflowLayoutVertical=!1,r._isSwitchVisualizationInitialized=!1,r._accessibilityId=1,r._incrementLastPage=function(){r.props.pageNumber===r.state.pagingInfo.lastPageNumber&&r.setState({pagingInfo:Object(n.__assign)(Object(n.__assign)({},r.state.pagingInfo),{lastPageNumber:r.state.pagingInfo.lastPageNumber+1})})},r._setFirstPage=function(e){r.setState({pagingInfo:Object(n.__assign)(Object(n.__assign)({},r.state.pagingInfo),{firstPageNumber:e})})},r._seeMorePopup=r._seeMorePopup.bind(r),r._onSendControlCommandsEventFired=r._onSendControlCommandsEventFired.bind(r),r._onSelectedOrderColumnChangeFired=r._onSelectedOrderColumnChangeFired.bind(r),r._onParentPagePreNavigationEventFired=r._onParentPagePreNavigationEventFired.bind(r),r._onFilterChange=r._onFilterChange.bind(r),r._onActivityTypeMenuDismissed=r._onActivityTypeMenuDismissed.bind(r),r._updateDataSetLoadingStateEvent=r._updateDataSetLoadingStateEvent.bind(r),r._updateFilterValue=r._updateFilterValue.bind(r),r._onRollupViewToggleChanged=r._onRollupViewToggleChanged.bind(r),r._onQuickFind=r._onQuickFind.bind(r),r._onItemIconPointerDown=r._onItemIconPointerDown.bind(r),r._onViewChanged=r._onViewChanged.bind(r),r._onControlLoadedError=r._onControlLoadedError.bind(r),r._updatePagingInfo=r._updatePagingInfo.bind(r),r._updateFilterExpressionStrings=r._updateFilterExpressionStrings.bind(r),r._configureDataSetControlParams=r._configureDataSetControlParams.bind(r),r._openManageDuplicatesDialog=r._openManageDuplicatesDialog.bind(r),r._showInnerError=r._showInnerError.bind(r),r._isInSeeMoreState=r._isInSeeMoreState.bind(r),r._getChartPaneText=r._getChartPaneText.bind(r),r.onMeasuring=r.onMeasuring.bind(r),r.closeFilterPanel=r.closeFilterPanel.bind(r),r._clearActivityTypeFilter=r._clearActivityTypeFilter.bind(r),r._updateCurrentPageNumber=r._updateCurrentPageNumber.bind(r),r._isNativePlatform=null!=t.platformType&&t.platformType===v.b.Native,r._currentPagingString=null,r._preSeeMoreCachedPagingString=null,r._boundOnRecordsSelected=null,r._pageNumberToRestoreForEnhancedPaging=r.props.pageNumberForEnhancedPaging,r._shouldResetPagingForEnhancedPaging=!1,r._previousSortingInfo=null,r._resetProcessedForEnhancedPaging=!0,r.state={quickFindVisibility:!1,addedCommandList:[],inSeeMoreState:!1,pagingInfo:{firstPageNumber:Object(nt.a)(r.props.pageNumberForEnhancedPaging)?1:r.props.pageNumberForEnhancedPaging,lastPageNumber:Object(nt.a)(r.props.pageNumberForEnhancedPaging)?1:r.props.pageNumberForEnhancedPaging,currentPageNumber:Object(nt.a)(r.props.pageNumberForEnhancedPaging)?1:r.props.pageNumberForEnhancedPaging,pageShift:0,isGridScrolledToBottom:!1},compositeControlInitState:k.a.Uninitialized,controlLoadErrorMessage:null,controlLoadInnerErrorMessage:null,loadingState:0,isFilterPanelOpen:!1,columnEditorPanelOpen:!1,isAdvancedFilterEdited:!1},r._parentDefinedProps={eventListeners:[{eventname:"sendgridcontrolcommandstohostcommandbar",eventhandler:[r._onSendControlCommandsEventFired]},{eventname:"onselectedordercolumnchange",eventhandler:[r._onSelectedOrderColumnChangeFired]},{eventname:"parentPagePreNavigation",eventhandler:[r._onParentPagePreNavigationEventFired]},{eventname:"sendpaginginfotopagingcontrol",eventhandler:[r._updatePagingInfo]},{eventname:"sendfilterexpressionstringstodatasethost",eventhandler:[r._updateFilterExpressionStrings]},{eventname:"updatedatasethostloadingstate",eventhandler:[r._updateDataSetLoadingStateEvent]},{eventname:"openmanageduplicatesdialog",eventhandler:[r._openManageDuplicatesDialog]},{eventname:"showinnererror",eventhandler:[r._showInnerError]},{eventname:"sendcurrentpagenumber",eventhandler:[r._updateCurrentPageNumber]}],containerStyleOverrides:{rootContainer:{flex:Object(Te.e)(t.contextString)?"1 1 100%":"1 1 auto",minHeight:"0"}},onControlLoadedError:r._onControlLoadedError},r._seeMoreHelper=new f.a,r}return Object(n.__extends)(t,e),t.prototype._logInfo=function(e){this._tracer&&this._tracer.info(e)},t.prototype._updateDataSetLoadingStateEvent=function(e){this._updateDataSetLoadingState(e.value)},t.prototype._updateDataSetLoadingState=function(e,t){var r=this;void 0===t&&(t={}),(1===e&&this.props.featureControlProps.isGridProgressIndicatorFeatureEnabled||1!==e)&&(this.setState(Object.assign(t,{loadingState:e})),this._currentLoadingTimeoutIdentifier&&clearTimeout(this._currentLoadingTimeoutIdentifier),this._currentLoadingTimeoutIdentifier=null,1===e&&(this._currentLoadingTimeoutIdentifier=setTimeout((function(){r._updateDataSetLoadingState(2)}),3e4)))},t.prototype._openManageDuplicatesDialog=function(e){!this.props.isOffline&&e&&e.entityReference&&e.reject&&this.props.openManageDuplicatesDialog(e)},t.prototype._showInnerError=function(e){this.props.showInnerError(e)},t.prototype._updatePagingInfo=function(e){e&&e.currentPageNumber>0&&(this.props.setNewPageRequested(this.props.id,this.props.contextToken,!1),this.props.featureControlProps.isGridPaginationStateFeatureEnabled&&this.props.gridInput&&(this._resetProcessedForEnhancedPaging||1!==e.currentPageNumber||(this._resetProcessedForEnhancedPaging=!0,this._pageNumberToRestoreForEnhancedPaging=1),this.props.pageNumberForEnhancedPaging!==e.currentPageNumber&&this.props.updatePageNumberForEnhancedPaging(e.currentPageNumber,this.props.contextToken)),Object(_t.e)(this.state.pagingInfo,e)||this.setState({pagingInfo:e}))},t.prototype._updateCurrentPageNumber=function(e){e&&e.currentPageNumber>0&&this.props.updateCurrentPageNumber(this.props.id,this.props.contextToken,e.currentPageNumber)},t.prototype._updateFilterExpressionStrings=function(e){if(this.props.featureControlProps.isGridPaginationStateFeatureEnabled&&this.props.gridInput&&e&&(e.nativeFilterExpressionString||e.dataSetFilterExpressionString)){var t=[{filterType:5,filterExpressionOrValue:e.nativeFilterExpressionString},{filterType:6,filterExpressionOrValue:e.dataSetFilterExpressionString}];this.props.updateGridPaginationStateHandler(t,this.props.id),this.props.updateCurrentPageNumber(this.props.id,this.props.contextToken,1)}},t.prototype._setResetPagingInfoForEnhancedPaging=function(){this.props.featureControlProps.isGridPaginationStateFeatureEnabled&&this.props.gridInput&&this._isNativePlatform&&(this._shouldResetPagingForEnhancedPaging=!0)},t.prototype._resetPagingInfoForEnhancedPaging=function(){this.props.featureControlProps.isGridPaginationStateFeatureEnabled&&this.props.gridInput&&this._isNativePlatform&&(this.setState({pagingInfo:{firstPageNumber:1,lastPageNumber:1,currentPageNumber:1,pageShift:0,isGridScrolledToBottom:!1}}),this._pageNumberToRestoreForEnhancedPaging=1)},t.prototype._onControlLoadedError=function(e){var t=e?e.message:null;this._logTelemetryData(t),this._setControlLoadError()},t.prototype._setControlLoadError=function(e){void 0===e&&(e=j.GRID_CONTROL_LOAD_ERROR),this.setState({controlLoadErrorMessage:Object(F.c)(this.props.resourceStrings,e)})},t.prototype._logTelemetryData=function(e){this._tracer&&this._tracer.error("Loading for the grid failed because of error :"+(e||"CustomControl_Calendar_ErrorView_DefaultMessage"))},t.prototype._renderTitle=function(){if(!this.props.descriptor)return null;var e=this.props.descriptor,t=e.ShowLabel,r=e.Name,n=e.Label,i=this._isWidthLessThanViewportSm()?this.props.styles.titleMobileStyle:this.props.styles.titleStyle;return t&&n?a.createElement(u.a,{key:r,semanticTag:"div",style:i},n):null},t.prototype.onMeasuring=function(e,t){if(this._height=t,!(Math.abs(this._width-e)<50)&&(this._width=e,!this._getCachedSize()||e!==this._getCachedSize().width||t&&t!==this._getCachedSize().height)){var r={},n=this._seeMoreHelper.shouldGivePoppedOutDimensions(!0),a=this._seeMoreHelper.getSeeMorePopupInfo(),i=n?a.endWidthInner:e,o=[];!this._isWidthInitialized()&&e>0&&(r.isWidthInitialized=!0,o.push("isWidthInitialized:"+r.isWidthInitialized));var s=i<=this.props.viewportSm;s!==this._isWidthLessThanViewportSm()&&(r.isWidthLessThanViewportSm=s,o.push("isWidthLessThanViewportSm:"+s));var c=i<=this.props.viewportM;c!==this._isWidthLessThanViewportM()&&(r.isWidthLessThanViewportM=c,o.push("isWidthLessThanViewportM:"+c));var l=i<this._minWidthForChartPlusGridReflow;l!==this._isWidthLessThanMinWidthForChartPlusGridReflow()&&(r.isWidthLessThanMinWidthForChartPlusGridReflow=l,o.push("isWidthLessThanMinWidthForChartPlusGridReflow:"+l));var u=this._jumpBarShouldRenderAsFlyout(i);u!==this._isJumpBarRenderingAsFlyout()&&(r.isJumpBarRenderingAsFlyout=u,o.push("isJumpBarRenderingAsFlyout:"+u));var p=i>480;p!==this._isWidthGreaterThan480()&&(r.isWidthGreaterThan480=p,o.push("isWidthGreaterThan480:"+p));var d=n?a.endHeightInner:t,h=d>240;h!==this._isHeightGreaterThan240()&&(r.isHeightGreaterThan240=h,o.push("isHeightGreaterThan240:"+h)),0!==e&&0!==t||this._tracer&&this._tracer.warn("The measuring service returned width or height as 0. The new dimensions are width is "+e+" and height is "+t);var g=!1,m=this.props.quickFindProps&&s&&!this._checkIfMobileImprovementsEnabledForQuickFindSearchOnGridRoot();m!==this._showCommandBarButtonSearch()&&(r.showCommandBarButtonSearch=m,o.push("showCommandBarButtonSearch:"+m),g=!0);var f=Object(Te.e)(this.props.contextString)||Object(Te.d)(this.props.contextString)&&this.props.featureControlProps.isChartOnAssociatedGridEnabled;if(f!==this._showCommandBarButtonShowChart()&&(r.showCommandBarButtonShowChart=f,o.push("showCommandBarButtonShowChart:"+f),g=!0),o.length>0){o.push("currentWidth:"+e),o.push("currentHeight:"+t),o.push("usePoppedOutDimensions:"+n),o.push("newWidth:"+i),o.push("newHeight:"+d),o.push("commandBarNeedsUpdate:"+g);var v=o.join(",");this._logInfo("onMeasuring change: "+v)}this._getCachedSize()&&this._getCachedSize().update&&(this._cachedSize=this._getCachedSize().update({width:e,height:t,isWidthInitialized:e>0,isWidthLessThanViewportSm:s,isWidthLessThanViewportM:c,isWidthLessThanMinWidthForChartPlusGridReflow:l,isJumpBarRenderingAsFlyout:u,isWidthGreaterThan480:p,isHeightGreaterThan240:h,showCommandBarButtonSearch:m,showCommandBarButtonShowChart:f}));var b=r;g&&(b=Object.assign(b,this._getUpdateAddedCommandList(m,f))),Object.keys(b).length&&this.setState(b)}},t.prototype._getUpdateAddedCommandList=function(e,t){var r=this;if(this._addedCommandListFromHost=[],e&&(this._logInfo("Adding search button to commandbar for DataSethost."),this._addedCommandListFromHost.push({Icon:"SearchButton",DisplayText:Object(F.c)(this.props.resourceStrings,j.QUICK_FIND_COMMANDBAR_TEXT),Id:this._quickFindCommandBarId,execute:this._onQuickFind})),this.props.isQueryMode){this._logInfo("Adding clear query button to commandbar for DataSethost.");var n=this._getClearQueryText();this._addedCommandListFromHost.push({Icon:"ClearDefault",DisplayText:n,Tooltip:{title:n},Id:"ClearQuery",execute:function(){return r.props.clearQuery()}})}if(!this.props.isOffline&&t){this._logInfo("Adding show chart button to commandbar for DataSethost.");var a=this._getChartPaneText();this._addedCommandListFromHost.push({Icon:"SelectChart",DisplayText:a,Tooltip:{title:a},Id:"ShowChartPane",execute:function(){return r.props.toggleChartPane(r.props.id,r.props.contextToken,!r.props.showChart)}})}return this._onAddedCommandListChange(!1)},t.prototype._onViewChanged=function(e,t,r){var n,a=this;void 0===r&&(r=!0),r&&this._updateDataSetLoadingState(1);var i=this.props.descriptor?this.props.descriptor.Id:null;this._logInfo("The view for the grid changed. The new view parameters for the view are - NewViewId : "+e+", EntityTypeName : "+t+"and ControlName : "+i),this._resetPagingInfoForEnhancedPaging(),null===(n=this._dataSetQuickFindRef.current)||void 0===n||n.clearSearchBar();var o=this.props.gridInput&&this.props.gridInput.entityTypeName.toLowerCase()===P.a;this.props.updateView(this.props.id,i,e,t,this.props.commandBarProps&&this.props.commandBarProps.commandManagerId,this.props.contextToken,this.props.userId,this.props.featureControlProps&&this.props.featureControlProps.isQueueFilterPerfUCIEnabled,o).then((function(){a.props.nonCompositionProps&&a.props.nonCompositionProps.setPageInputViewId&&a.props.nonCompositionProps.setPageInputViewId(e),a.state.controlLoadErrorMessage&&a.setState({controlLoadErrorMessage:null})}),(function(e){a._logInfo(e.message),a._setControlLoadError()}))},t.prototype._onItemIconPointerDown=function(e,t,r,n,a){this._logInfo("“Trying to set default view for user. The new view parameters for the view are - NewViewId : "+t+", EntityTypeName : "+e+", ViewType : "+r+"and Unpin  : "+a);var i=se(this._currentFilterValue);return this.props.updateUserDefaultGridView(e,t,r,n,i,a)},t.prototype._onQuickFind=function(){this.setState({quickFindVisibility:!this.state.quickFindVisibility})},t.prototype._getChartPaneText=function(){var e=this.props,t=e.resourceStrings;return e.showChart?Object(F.c)(t,j.CHARTS_HIDE_CHART_PANE_LABEL):Object(F.c)(t,j.CHARTS_SHOW_CHART_PANE_LABEL)},t.prototype._getClearQueryText=function(){return"Clear query"},t.prototype._updateFilterValue=function(e){this._currentFilterValue=e},t.prototype._onFilterChange=function(e,t){void 0===t&&(t=this.props.gridEntityTypeName),this._logInfo("Applying grid filter, the new value received is "+e),2===this.state.loadingState&&this._updateDataSetLoadingState(1),this._updateFilterValue(e);var r=Object(et.a)(this.props.viewSelectorProps.entityTypeName,this.props.userId,this.props.contextToken,this.props.featureControlProps.isQueueFilterPerfUCIEnabled,this.props.entityIsActivityType).getFilterExpression(e,this.props.userSetting,t);this.props.updateCurrentPageNumber(this.props.id,this.props.contextToken,1),this._setResetPagingInfoForEnhancedPaging(),this.props.applyGridFilter(r,e,this.props.contextToken)},t.prototype._clearActivityTypeFilter=function(){this.props.applyActivityTypeFilter("","",this.props.contextToken)},t.prototype._onActivityTypeMenuDismissed=function(e){if(!this.props.isOffline){var t=e.join(","),r=function(e,t){if(null!=e){if(e.indexOf("selectAllKey")>-1||0===e.length||null!=t&&t.length===e.length)return null;for(var r=null,n=[],a=0;a<e.length;a++)n.push({attributeName:"activitytypecode",conditionOperator:0,value:e[a]});return n&&n.length>0&&(r={conditions:n,filterOperator:1}),r}}(e,this.props.entityFilterProps.filterOptionsForActivityType),n=r?JSON.stringify(r):"";void 0===this.props.entityFilterProps.activityTypePreviousValues?this.props.applyActivityTypeFilter(n,t,this.props.contextToken):t!==this.props.entityFilterProps.activityTypePreviousValues&&this._shouldActivitySelectAllFilterFire(t,this.props.entityFilterProps.activityTypePreviousValues,this.props.entityFilterProps.isActivityFilterSelectAllEnabled)&&(this._logInfo("Applying activity type grid filter, the new value received is "+t),2===this.state.loadingState&&this._updateDataSetLoadingState(1),this.props.updateCurrentPageNumber(this.props.id,this.props.contextToken,1),this._setResetPagingInfoForEnhancedPaging(),this.props.applyActivityTypeFilter(n,t,this.props.contextToken));var a=[{name:"ActivityTypeFilterUsage",value:"Initiated"},{name:"SelectedActivityTypeFilterCount",value:e.length},{name:"ActivityTypeFilterDropDownCount",value:this.props.entityFilterProps.filterOptionsForActivityType.length}];this.context&&this.context.EventManager&&this.context.EventManager.ReportComponentSuccess&&this.context.EventManager.ReportComponentSuccess(Bt,a)}},t.prototype._shouldActivitySelectAllFilterFire=function(e,t,r){if(r){var n=!1,a=!1;return(t.indexOf("selectAllKey")>-1||""===t)&&(n=!0),(e.indexOf("selectAllKey")>-1||""===e)&&(a=!0),!(n&&a)}return!0},t.prototype._onRollupViewToggleChanged=function(e){this._logInfo("Toggling rollupView control, the new value received is "+e),this.props.toggleGridRollupView(e,this.props.contextToken)},t.prototype._updateFilterOnViewSelectorChange=function(e){this._logInfo("Updating dataset with the existing filter selection for activity pointer"),this._onFilterChange(this._currentFilterValue,e)},t.prototype._onSendControlCommandsEventFired=function(e){this._logInfo("Adding control commands to command bar. The command to be added are : "+e),e!==this._addedCommandListFromControl&&(this._addedCommandListFromControl=e,this._onAddedCommandListChange())},t.prototype._onSelectedOrderColumnChangeFired=function(e){if(this._logInfo("Updating jumpbar filter based on the selected order column"),this.props.featureControlProps.isJumpBarShouldHonorSortingFeatureEnabled&&this.props.jumpBarProps){var t=e.columnSortingName;t=Object(Pe.d)(t,e.columnSortingType,e.primaryNameAttribute);var r=Object(Pe.b)(this.props.jumpBarProps.selectedFilter,t);this.props.onSelectedOrderColumnChange(r,this.props.contextToken)}},t.prototype._onParentPagePreNavigationEventFired=function(e){var t=this;e&&Array.isArray(e)&&e.length>0&&!this._isPreNavigationEventAttached&&this.context&&this.context.Router&&this.context.Router.registerPreNavigationHandler&&(this._tracer&&this._tracer.info("Adding control preNavigation handlers to the router"),e.forEach((function(e){return t.context.Router.registerPreNavigationHandler((function(){try{return e()}catch(e){t.context&&t.context.EventManager&&t.context.EventManager.ReportComponentFailure&&t.context.EventManager.ReportComponentFailure(Bt,e,null,[{name:"subComponent",value:"onPreNavigation"}])}return Promise.resolve(!0)}))})),this._isPreNavigationEventAttached=!0)},t.prototype._createSwitchVisualization=function(e,t){var r=this;return function(){switch(r._keyIndex++,r.props.contextString){case b.h.ASSOCIATEDGRID:r.props.switchAssociatedGridVisualization(r.props.id,r.props.entityTypeName,r.props.controlId,r.props.viewId,e,r.props.nonCompositionProps&&r.props.nonCompositionProps.viewConfigurations,r.props.nonCompositionProps&&r.props.nonCompositionProps.gridConfigurations,"VIEW_CONFIG"===t);break;case b.h.SUBGRID:r.props.switchSubgridVisualization(r.props.id,e,r.props.controlId);break;case b.h.GRID:default:if(r.props.featureControlProps.isGridPaginationStateFeatureEnabled&&r.props.gridInput){r.props.updateGridPaginationStateHandler([{filterType:3,filterExpressionOrValue:null}],r.props.id),r.props.setCustomFilter("",0,r.props.id,r.props.contextToken)}"VIEW_CONFIG"===t?r.props.switchViewConfiguration(r.props.id,r.props.contextToken,e,r.props.controlId,!1):r.props.switchHomepageConfiguration(r.props.id,r.props.contextToken,e,r.props.controlId,!0)}}},t.prototype._updateChangeVisualizationButtons=function(e){var t=this,r=this.props.nonCompositionProps&&this.props.nonCompositionProps.gridConfigurations,n=this.props.nonCompositionProps&&this.props.nonCompositionProps.viewConfigurations,a=!1;this._parentSwitchVisualizationButton||(this._parentSwitchVisualizationButton={Icon:"SelectChart",DisplayText:Object(F.c)(this.props.resourceStrings,j.SWITCH_VISUALIZATION_BUTTON_LABEL),Id:this._changeVisualizationCommandBarId+"-Parent",WillOpenFlyout:!0,Children:null}),this._memoizedConfiguration===this.props.updatedConfiguration&&this._memoizedViewConfigurations===n&&this._memoizedResourceStrings===this.props.switchVisualizationResourceStrings||this.props.switchVisualizationResourceStrings&&(this._memoizedConfiguration=this.props.updatedConfiguration,this._memoizedViewConfigurations=n,this._memoizedResourceStrings=this.props.switchVisualizationResourceStrings,this._memoizedButtonList=[],Object(gt.c)(r,n,this.props.updatedConfiguration,this.props,this.props.contextString,e).forEach((function(r){if(!(Object(gt.a)(t.props.updatedConfiguration,r.configuration)||r.configuration.isDefaultConfig&&t.props.updatedConfiguration.isDefaultConfig||t.props.featureControlProps.isDisableEditableGridControlOnPhoneFeatureEnabled&&Object(oe.g)(r.configuration,parseInt(e,10)))){var n={Icon:"SelectChart",DisplayText:""+Object(gt.b)(t.props.switchVisualizationResourceStrings,r.configuration),Id:t._changeVisualizationCommandBarId+"-"+r.configuration.Name+"-"+r.formFactor,execute:t._createSwitchVisualization(r.configuration,r.configurationType),IsInFlyout:!0};t._memoizedButtonList.push(n),a=!0}}))),!this._isSwitchVisualizationInitialized&&this.props.commandBarProps&&(Object(gt.d)(this.props.retrieveControlResourceStringsForSwitchVisualization,this.context,r,n,this.props.updatedConfiguration,this.props,this.props.contextString,e),this._isSwitchVisualizationInitialized=!0),this._parentSwitchVisualizationButton.Children=this._memoizedButtonList,a&&this._onAddedCommandListChange()},t.prototype._onAddedCommandListChange=function(e){var t,r,n,a;void 0===e&&(e=!0);var i=[],o=[],s=(null===(r=null===(t=this._parentSwitchVisualizationButton)||void 0===t?void 0:t.Children)||void 0===r?void 0:r.length)>0;if(this.props.featureControlProps.isShowAsButtonFirstEnabled&&s&&o.push(this._parentSwitchVisualizationButton),o.push.apply(o,this._addedCommandListFromControl),o.push.apply(o,this._addedCommandListFromHost),(null===(a=null===(n=this.props.nonCompositionProps)||void 0===n?void 0:n.addedCommandListFromHostParent)||void 0===a?void 0:a.length)>0&&i.push.apply(i,this.props.nonCompositionProps.addedCommandListFromHostParent),!this.props.featureControlProps.isShowAsButtonFirstEnabled&&s&&i.push(this._parentSwitchVisualizationButton),!e)return{addedCommandList:o,appendedCommandList:i};this&&this.setState&&this.setState({addedCommandList:o,appendedCommandList:i})},t.prototype._seeMoreCallback=function(e){this.setState({inSeeMoreState:!this.state.inSeeMoreState})},t.prototype._seeMorePopup=function(e,t){void 0===t&&(t=!1),!0===e?(this._preSeeMoreCachedPagingString=this._currentPagingString,this._currentPagingString=null):(this._currentPagingString=this._preSeeMoreCachedPagingString,this._preSeeMoreCachedPagingString=null),this._keyIndex++,this._seeMoreHelper.seeMorePopup(this._getDataSetHostRootElement(),this._seeMoreCallback.bind(this),e,t,this.props.isRTL)},t.prototype._getDataSetHostRootElement=function(){return i.findDOMNode(this)},t.prototype._onRecordsSelectedCallback=function(e,t){this._logInfo("onRecordsSelected for DataSetHost. New selected rows are "+t);for(var r=[],n=0,a=t;n<a.length;n++){var i=a[n];r.push(new C.a(i))}if(this.props.markSelectedRows(this.props.id,this.props.contextToken,r),e){var o=this.props.updatedConfiguration.Parameters[this.props.nestedGridDatasetName];this.props.markSelectedRelatedEntity(this.props.id,this.props.contextToken,o.TargetEntityType)}else this.props.markSelectedRelatedEntity(this.props.id,this.props.contextToken,null);this.props.isGridEditable&&t.length>0&&this.props.rowProperties(this.props.id,this.props.contextToken,r),this.props.isGridEditable&&(this._logInfo("Running onRecordSelect for EditableGrid"),this.props.runOnRecordSelect(this.props.id,this.props.contextToken,r)),!e&&this._onRecordsSelectedParent&&(this._logInfo("onRecordsSelected: Calling onRecordsSelected callback for the parent control"),this._onRecordsSelectedParent(t))},t.prototype.markGridFirstRequestComplete=function(){this._isFirstRequestComplete=!0},t.prototype._isDataSetHostKnownError=function(e){return!(!e||""===e)&&(-1!==e.indexOf(Ct.a.getHexErrorCodeFromInt(2415919120))||!(-1===e.indexOf(Ct.a.getHexErrorCodeFromInt(-2147093999))||this.props.offlineProps.isEntityAvailableForOffline&&this.props.offlineProps.isOfflineAvailableForUse))},t.prototype._onDataSetUpdateCallback=function(e){this._logInfo("DataSetUpdated for DataSetHost control");var t=[{name:"currentPagingString",value:e&&e.existedPagingString||""}];this.markGridFirstRequestComplete(),this._currentPagingString!==e.existedPagingString&&t.push({name:"previousPagingString",value:this._currentPagingString});var r=!1;e.error?(r=this._isDataSetHostKnownError(e.errorMessage)||!Object(Mt.b)(e.innerError),e.innerError&&t.push({name:"InnerErrorMessage",value:e.innerError}),this.context.EventManager.ReportComponentFailure(Bt,new Error(e.errorMessage||""),null,t)):this.context.EventManager.ReportComponentSuccess(Bt,t);var n={};if(r)n={compositeControlInitState:k.a.Error,controlLoadErrorMessage:e.errorMessage},e.innerError&&(n.controlLoadInnerErrorMessage=e.innerError);else{this.props.updateFetchXml(this.props.id,this.props.contextToken,e.fetchXmlInUse);var a=null;if(e.existedFilteringString){var i=JSON.parse(e.existedFilteringString);a=Object(g.j)(i,Ue.CrmXmlEncode),this.props.setCustomFilter(a,0,this.props.id,this.props.contextToken)}if(this.props.featureControlProps.isGridPaginationStateFeatureEnabled){var o=[],s=!1,c=null;e.existedValidSortingArrayString&&(c=e.existedValidSortingArrayString);var l=!Object(nt.a)(c)&&JSON.parse(c);if(l&&l instanceof Array&&l.length>0&&c!==this.props.gridSortingInfo&&(this.props.gridInput&&o.push({filterType:7,filterExpressionOrValue:c}),s=!0),s){if(e.existedPagingString){var u=JSON.parse(e.existedPagingString);u.firstPageNumber&&(this.props.updateCurrentPageNumber(this.props.id,this.props.contextToken,u.firstPageNumber),this.props.gridInput&&this._setResetPagingInfoForEnhancedPaging())}this.props.gridInput&&this.props.updateGridPaginationStateHandler(o,this.props.id)}}this.props.updateQueryKey(e.newQueryKey,this.props.id,this.props.contextToken),this.props.updatePagingData(this.props.id,this.props.contextToken,e.existedPagingString),this.props.setNewPageRequested(this.props.id,this.props.contextToken,!1),this._logInfo("onDataSetUpdate: eventPagingString: "+e.existedPagingString),this._currentPagingString=e.existedPagingString}2!==this.state.loadingState?this._updateDataSetLoadingState(2,n):this.setState(n),this._accessibilityId++},t.prototype._configureDataSetControlParams=function(){if(this.props.updatedConfiguration){var e=this.props.updatedConfiguration.Parameters[this.props.primaryDataSetName];if(e){!Object(nt.a)(e.onRecordsSelected)&&Object(nt.a)(this._onRecordsSelectedParent)&&e.onRecordsSelected!==this._boundOnRecordsSelected&&(this._onRecordsSelectedParent=e.onRecordsSelected),this._isFirstRequestComplete&&(e.FirstDataRequestType=0),Object(nt.a)(this._boundOnRecordsSelected)&&(this._boundOnRecordsSelected=this._onRecordsSelectedCallback.bind(this,!1)),e.onRecordsSelected=this._boundOnRecordsSelected,e.onDataSetUpdate=this._onDataSetUpdateCallback.bind(this);var t=this.props.descriptor,r=1,n=this.state.pagingInfo.lastPageNumber;this.props.isGridEditable||this._isNativePlatform?this.props.featureControlProps.isGridPaginationStateFeatureEnabled&&this._isNativePlatform&&(r=this.state.pagingInfo.firstPageNumber):(r=this.props.pageNumber,n=this.props.pageNumber);var a={firstPageNumber:r,lastPageNumber:n,pageSize:!this._isInSeeMoreState()&&t&&t.Parameters&&t.Parameters[b.q]&&parseInt(t.Parameters[b.q],10)||this.props.recordsPerPageSetting,pagingRefreshInput:this.props.pagingRefreshInput?this.props.pagingRefreshInput.toString():""},i=Object(Ge.a)(this._currentPagingString);if(i&&i.pageSize&&(this._logInfo("Updating pageSize based on _receivedPagingStringData.pageSize to "+i.pageSize),a.pageSize=i.pageSize),e.PagingInput={Static:!0,Value:JSON.stringify(a)},this.props.refreshCounter){var o=this.props.refreshCounter.toString();if(e.RefreshInput={Value:parseInt(o,10),Static:!0},!Object(nt.a)(this.props.customFilter)&&!Object(nt.a)(this.props.customFilter.customFilterXml)&&this.props.customFilter.source&&1===this.props.customFilter.source){var s=Object(g.i)(this.props.customFilter.customFilterXml);e.FilteringInput={Static:!0,Value:JSON.stringify(s)}}}if(this.props.featureControlProps.isGridPaginationStateFeatureEnabled&&this.props.gridInput){if(!Object(nt.a)(this.props.customFilter)&&!Object(nt.a)(this.props.customFilter.customFilterXml)){s=Object(g.i)(this.props.customFilter.customFilterXml);e.FilteringInput={Static:!0,Value:JSON.stringify(s)}}var c=!Object(nt.a)(this.props.gridSortingInfo)&&JSON.parse(this.props.gridSortingInfo),l=c&&c instanceof Array&&c.length>0,u=!Object(nt.a)(this._previousSortingInfo)&&JSON.parse(this._previousSortingInfo),p=u&&u instanceof Array&&u.length>0;(l||p&&this.props.gridSortingInfo!==this._previousSortingInfo)&&(this._previousSortingInfo=this.props.gridSortingInfo,e.SortingInput={Static:!0,Value:this.props.gridSortingInfo})}this.props.gridEntityTypeName&&(e.EntityName=this.props.gridEntityTypeName)}this._addExtraParametersToConfiguration();var d=this.props.updatedConfiguration.Parameters[this.props.nestedGridDatasetName];if(d&&(d.onRecordsSelected=this._onRecordsSelectedCallback.bind(this,!0),this.props.refreshCounter)){o=this.props.refreshCounter.toString();d.RefreshInput={Value:parseInt(o,10),Static:!0}}}},t.prototype._addExtraParametersToConfiguration=function(){if(this.props.featureControlProps.isGridPaginationStateFeatureEnabled&&this.props.gridInput&&(this.props.updatedConfiguration.Parameters.NativeFilterExpressionToRestore={Usage:1,Static:!0,Value:this.props.nativeFilterExpression},!Object(nt.a)(this._pageNumberToRestoreForEnhancedPaging))){var e=this._pageNumberToRestoreForEnhancedPaging;this._pageNumberToRestoreForEnhancedPaging>1&&(this._shouldResetPagingForEnhancedPaging||!this._resetProcessedForEnhancedPaging)&&(this._shouldResetPagingForEnhancedPaging=!1,this._resetProcessedForEnhancedPaging=!1,e=-1),this.props.updatedConfiguration.Parameters.PageNumberToRestore={Usage:1,Static:!0,Value:e}}this.props.lookupAttributeForRecordHierarchy&&this.props.gridInput&&(this.props.updatedConfiguration.Parameters.LookupAttributeNameForHierarchy={Usage:1,Static:!0,Value:this.props.lookupAttributeForRecordHierarchy})},t.prototype._renderAccessibilityNotification=function(e){var t,r=e+"_accessibility",n={left:"-3000%",width:"0%",height:"0%",position:"absolute"};this.props.featureControlProps.isAssociatedGridHeightEnabled&&(n.overflow="hidden");var i=Object(F.c)(this.props.resourceStrings,j.GRID_LOADING_PLACEHOLDER).replace("{0}",this.props.entityDisplayName),o=2===this.state.loadingState?null!==(t=this.props.notificationMessage)&&void 0!==t?t:"":i;return a.createElement(c.a,{key:r+"_"+this._accessibilityId,id:r,style:n,role:Ae.s,notificationType:Be.b},o)},t.prototype._renderQuickFind=function(){var e=this._showNewQuickFindSearchBarForMobile();if(this.props.quickFindProps&&this._isWidthInitialized()){if(this._isWidthLessThanViewportSm()&&(this.state.quickFindVisibility||e)){var t=Object.assign(this.props.quickFindProps,{focusSearchBoxAfterRender:!0});return a.createElement(c.a,{key:"quickFind",style:this.props.styles.quickFindMobileStyle},a.createElement(Ze,Object(n.__assign)({},t,{updateGridPaginationStateHandler:this.props.updateGridPaginationStateHandler,resetPagingInfoForEnhancedPaging:this._resetPagingInfoForEnhancedPaging.bind(this),updateDataSetLoadingState:this._updateDataSetLoadingState.bind(this),ref:this._dataSetQuickFindRef,showNewQuickFindSearchBarForMobile:e})))}if(!this._isWidthLessThanViewportSm())return Object(Te.g)(this.props.contextString)?a.createElement(c.a,{style:this.props.styles.quickFindContainerStyle},this._getQuickFind()):this._getQuickFind()}return null},t.prototype._renderAdvancedFilter=function(){var e=this;return this._isWidthInitialized()&&this.props.showAdvancedFilter&&this.props.quickFindProps&&a.createElement(_e.a,{key:"openAdvancedFilter",id:"open-advanced-filter",iconType:"filter",title:Object(F.c)(this.props.resourceStrings,xt.c.OpenAdvancedFiltersTitleAndAria),style:this.props.styles.advancedFilterButtonStyles,onClick:function(){e._renderAdvancedFindPanel()},tabIndex:0,accessibilityLabel:Object(F.c)(this.props.resourceStrings,xt.c.OpenAdvancedFiltersTitleAndAria)},a.createElement(J.b,{id:"filter",accessibilityHidden:!0,type:d.a.Filter}))},t.prototype._renderAdvancedFindPanel=function(){var e,t=this;this._updateDataSetLoadingState(1);var r=[{name:"entityName",value:this.props.entityTypeName},{name:"ViewId",value:null===(e=this.props.viewId)||void 0===e?void 0:e.guid}];this.props.retrieveRelatedEntitiesMetadata(this.props.entityTypeName).then((function(){t.setState({isFilterPanelOpen:!0}),t._updateDataSetLoadingState(2),t.context.EventManager.ReportComponentSuccess(Xt,r)}),(function(e){t._tracer.error(null==e?void 0:e.message),t._updateDataSetLoadingState(2),t.context.EventManager.ReportComponentFailure(Xt,new Error(e),r)}))},t.prototype._renderDiscardChanges=function(){var e=this;if(this.props.showAdvancedFilter&&this.props.isViewEdited&&this._isWidthInitialized()&&!this.props.showColumnEditor)return a.createElement(_e.a,{key:"clearAdvancedFilter",id:"clear-advanced-filter",iconType:"clearFilter",title:Object(F.c)(this.props.resourceStrings,j.AdvancedFind_DiscardButton_Title),style:this.props.styles.advancedFilterButtonStyles,onClick:function(){var t;e.props.removeEditedViewPageMap(e.props.gridInput.pageToEditedViewMapId.guid,e.props.viewId),e._clearCustomFilterAndUpdateControlKeyIndex();var r=[{name:"entityName",value:e.props.entityTypeName},{name:"ViewId",value:null===(t=e.props.viewId)||void 0===t?void 0:t.guid}];e.context.EventManager.ReportComponentSuccess(Ut,r)},tabIndex:0,accessibilityLabel:Object(F.c)(this.props.resourceStrings,j.AdvancedFilter_DiscardButton_AccessibilityLabel)},a.createElement(J.b,{id:"clearFilter",type:d.a.GlobalFilterClearAll}))},t.prototype._renderColumnEditor=function(){var e=this;if(this.props.showColumnEditor&&this._isWidthInitialized()){var t=Object(F.c)(this.props.resourceStrings,j.ColumnEditorButton);return a.createElement(Gt.a,{key:"columnEditorBtn",id:"columnEditor-btn",iconProps:{iconName:"ColumnOptions",style:{color:"black"}},title:t,"aria-label":t,onClick:function(){return e.setState({columnEditorPanelOpen:!0})},style:this.props.styles.columnEditorButtonStyle})}},t.prototype._clearCustomFilterAndUpdateControlKeyIndex=function(){var e=this;this.props.setCustomFilter("",0,this.props.id,this.props.contextToken).then((function(){e._keyIndex++,e._onViewChanged(e.props.viewId.guid,e.props.entityTypeName,!1)}))},t.prototype._getQuickFind=function(){return a.createElement(c.a,{key:"quickFind",style:this.props.styles.quickFindStyle},a.createElement(Ze,Object(n.__assign)({},this.props.quickFindProps,{updateGridPaginationStateHandler:this.props.updateGridPaginationStateHandler,resetPagingInfoForEnhancedPaging:this._resetPagingInfoForEnhancedPaging.bind(this),updateDataSetLoadingState:this._updateDataSetLoadingState.bind(this),ref:this._dataSetQuickFindRef})))},t.prototype._renderViewSelector=function(){if(this.props.viewSelectorProps&&this._isWidthInitialized()){var e=this._isWidthLessThanViewportSm()?this.props.styles.viewSelectorOuterMobileStyle:this.props.styles.viewSelectorOuterStyle;return a.createElement(c.a,{key:"viewSelector",style:e},a.createElement(Q,Object(n.__assign)({isGridRoot:Object(Te.e)(this.props.contextString)},this.props.viewSelectorProps,{isTablet:this._isWidthLessThanViewportM(),isPhone:this._isWidthLessThanViewportSm(),key:"dataSetHostView",onChange:this._onViewChanged,onItemIconPointerDown:this._onItemIconPointerDown,rootZIndex:this._isInSeeMoreState(),isRTL:this.props.isRTL,removeEditedViewPageMap:this.props.removeEditedViewPageMap})))}return this._renderTitle()},t.prototype._renderQueueFilter=function(){if((this.props.entityTypeName===jt.Bb||this.props.entityTypeName===Pt.a)&&this.props.queueFilterProps&&this._isWidthInitialized()){var e=this._isWidthLessThanViewportSm()?this.props.styles.filterContainerMobileStyle:this.props.styles.filterContainerStyle;return a.createElement(ce,Object(n.__assign)({},this.props.queueFilterProps,{key:"queueFilter",onFilterChange:this._onFilterChange,updateFilterValue:this._updateFilterValue,resourceStrings:this.props.resourceStrings,style:e,isGridPaginationStateFeatureEnabled:this.props.featureControlProps.isGridPaginationStateFeatureEnabled}))}return null},t.prototype._renderEntityFilter=function(){if(this.props.entityFilterProps&&this._isWidthInitialized()){var e=this._isWidthLessThanViewportSm(),t=e?this.props.styles.filterContainerMobileStyle:this.props.styles.filterContainerStyle,r=this.props.styles.activityTypeFilterContainerStyle;return a.createElement(me,Object(n.__assign)({},this.props.entityFilterProps,{onToggleChange:this._onRollupViewToggleChanged,key:"EntityFilterDataSet",onFilterChange:this._onFilterChange,onActivityTypeChange:this._onActivityTypeMenuDismissed,onActivityTypeFilterClear:this._clearActivityTypeFilter,gridEntityName:this.props.gridEntityTypeName,resourceStrings:this.props.resourceStrings,containerStyle:t,activityTypeContainerStyle:r,rootZIndex:this._isInSeeMoreState(),isGridPaginationStateFeatureEnabled:this.props.featureControlProps.isGridPaginationStateFeatureEnabled,isMobile:e}))}return null},t.prototype._renderDataSetChart=function(){return this.props.chartProps&&this._isWidthInitialized()?(this.props.chartProps.isLayoutVertical=this._isReflowLayoutVertical,a.createElement(_,Object(n.__assign)({},this.props.chartProps,{style:this._isReflowLayoutVertical?this._isWidthLessThanViewportSm()?this.props.styles.reflowChartMobileStyle:this.props.styles.reflowChartStyle:this.props.styles.chartStyle,key:"pageChartDataSet",closeChartPaneHandler:this.props.toggleChartPane}))):null},t.prototype._renderBackButtonForGridInMobile=function(){return this.props.commandBarProps&&this._isWidthInitialized()&&Object(Te.e)(this.props.contextString)&&this._isWidthLessThanViewportSm()&&this.props.backButtonEnabled?a.createElement($.a,{pageId:this.props.id,overwriteStyle:{borderWidth:0,height:"auto",padding:0,margin:"-8px 0"}}):null},t.prototype._renderCommandBar=function(){var e=this;if(!this.props.commandBarProps||!this._isWidthInitialized())return null;this._commandBarLoadedPromise||(this._commandBarLoadedPromise=new Promise((function(t){e._commandBarLoadedResolve=t}))),this._commandManagerId=this._commandManagerId||this.props.commandBarProps.commandManagerId||Object(fe.a)();var t=this.props.styles.commandManagerContainerStyle,r=this.props.styles.commandBarStyle;this._isWidthLessThanViewportSm()&&(t=this.props.styles.commandManagerContainerMobileStyle,r=this.props.styles.commandBarMobileInnerStyle);var i=Object(Te.e)(this.props.contextString);return Object(K.b)(this.props.commandBarRefreshProps,r,this._isWidthLessThanViewportSm(),t),a.createElement(ae,Object(n.__assign)({},this.props.commandBarProps,{key:"commandBarDataSet",addedCommandList:this.state.addedCommandList,appendedCommandList:this.state.appendedCommandList,metaDataLoadedResolve:this._commandBarLoadedResolve,commandManagerId:this._commandManagerId,style:t,commandbarStyles:r,rootZIndex:this._isInSeeMoreState(),customControlType:this.props.updatedConfiguration.CustomControlId,isGridRoot:i,collapsed:this._isWidthLessThanViewportSm(),isNativeMode:this._isNativeSubgrid()}))},t.prototype._renderFooter=function(){var e=!1;if(this.props.totalResultCount<=this.props.pageSize&&!this.props.totalRecordCountLimitExceeded&&Object(Te.g)(this.props.contextString)&&!this._isInSeeMoreState()&&!this.props.jumpBarProps&&!(e=this._shouldRenderSeeMoreButton()))return this._logInfo("Hiding the footer for the subgrid because there is less than 2 pages of data"),null;if(this._isWidthInitialized()&&(this.props.jumpBarProps||this.props.pagingProps)){var t=this._isJumpBarRenderingAsFlyout()?this.props.styles.footerMobileStyle:this.props.isGridEditable?this.props.styles.footerEditableGridStyle:Object(n.__assign)(Object(n.__assign)({},this.props.styles.footerOuterStyle),this.props.jumpBarProps?this.props.styles.defaultFooterHeightStyle:this.props.styles.jumpBarLessFooterHeightStyle);if(!this.props.isGridEditable)return this._hideJumpbarForMobile()?null:a.createElement(c.a,{key:"dataSetFooter_"+this.props.id,style:t},!e&&this._renderJumpBar(),a.createElement(c.a,{key:"dataSetPagingContainer_"+this.props.id,style:this.props.styles.footerPagingContainer},this._renderPaging(e),this._renderSeeMoreButton()));if(this.props.jumpBarProps)return a.createElement(c.a,{key:"dataSetFooter_"+this.props.id,style:t},this._renderJumpBar());this._logInfo("Hiding the footer for the editable grid because the jump bar props is null")}return this._logInfo("Hiding the footer for the grid because the width for the controld is 0 or the jump bar props is null or paging props is null"),null},t.prototype._jumpBarShouldRenderAsFlyout=function(e){var t=Object(F.c)(this.props.resourceStrings,j.JUMPBAR_ALPHABET);if(t){var r=t.split(","),n=e-100,a=this._isJumpBarRenderingAsFlyout()?.5:-.5;return!!r&&n/r.length<=32+a}return!1},t.prototype._renderJumpBar=function(){var e=null;return this._isJumpBarRenderingAsFlyout()&&(e=this.props.styles.jumpBarButtonContainerStyle),this.props.jumpBarProps?a.createElement(c.a,{key:"jumpBar_"+this.props.id,style:e},a.createElement(De,Object(n.__assign)({},this.props.jumpBarProps,{rootZIndex:this._isInSeeMoreState(),controlKey:this.props.controlKey,renderMobile:this._isJumpBarRenderingAsFlyout(),isDeviceSizeSmall:!this._isWidthGreaterThan480(),isRTL:this.props.isRTL,isGridRoot:Object(Te.e)(this.props.contextString),updateGridPaginationStateHandler:this.props.updateGridPaginationStateHandler,setResetPagingInfoForEnhancedPaging:this._setResetPagingInfoForEnhancedPaging.bind(this),updateDataSetLoadingState:this._updateDataSetLoadingState.bind(this),isMobile:this._isWidthLessThanViewportM()}))):null},t.prototype._renderPaging=function(e){var t=Object(Te.f)(this.props),r=!this.props.hasCustomDataProvider&&Object(nt.a)(this.props.totalRecordCountLimitExceeded);return t&&this._logInfo("Hiding the paging button for the grid because the sharepoint grid does not support paging"),this.props.pagingProps?a.createElement(qe,Object(n.__assign)({},this.props.pagingProps,{pagingInfo:this.state.pagingInfo,shouldPagingTextRender:!e,incrementLastPage:this._incrementLastPage,setFirstPage:this._setFirstPage,enhancedPagingDisabled:!e&&!t&&!this._isNativePlatform,pagingTextDisabled:r,gridTotalRecordsCountLimit:this.props.gridTotalRecordsCountLimit,isGridRoot:Object(Te.e)(this.props.contextString),updateGridPaginationStateHandler:this.props.updateGridPaginationStateHandler,updateDataSetLoadingState:this._updateDataSetLoadingState.bind(this),isServerOffline:this.props.isOffline})):null},t.prototype.renderDataSetHostComponent=function(e,t,r,i,o){var s,u,p,g,f=this,v=[],y=this._isWidthLessThanViewportSm();this._isReflowLayoutVertical=!(!this._isWidthLessThanMinWidthForChartPlusGridReflow()||!this.props.chartProps);try{var _=this._getDataSetHostErrorMessage();if(Object(nt.a)(_)||this.state.compositeControlInitState===k.a.Initializing){if(this._isWidthInitialized()||Object(Te.g)(this.props.contextString)&&this.state.compositeControlInitState!==k.a.Initializing){this._isShowChartChanged&&(this._getUpdateAddedCommandList(this._showCommandBarButtonSearch(),this._showCommandBarButtonShowChart()),this._onAddedCommandListChange(),this._isShowChartChanged=!1);var C=(Object(Te.e)(this.props.contextString)||Object(Te.d)(this.props.contextString))&&this.props.entityIsActivityType;y||Object(Te.g)(this.props.contextString)?(this.props.viewSelectorProps||this.props.quickFindProps||this.props.entityFilterProps||this.props.queueFilterProps||this.props.commandBarProps)&&(this.props.featureControlProps.isInMobileModeForOct2019&&Object(Te.e)(this.props.contextString)&&(o=Object(n.__assign)(Object(n.__assign)({},o),{display:"none"})),v.push(a.createElement(c.a,{key:"dataSetHeader_"+this.props.id,style:r},this._renderHeader([this._renderBackButtonForGridInMobile(),this._renderViewSelector(),this._renderCommandBar()],o),this._renderQuickFind(),C||this.props.entityFilterProps&&this.props.entityFilterProps.isRollupViewSupported&&this.props.contextString===b.h.ASSOCIATEDGRID?this._renderEntityFilter():this._renderQueueFilter()))):(v.push(this._renderCommandBar()),(this.props.viewSelectorProps||this.props.quickFindProps||this.props.entityFilterProps||this.props.queueFilterProps)&&v.push(a.createElement(c.a,{key:"dataSetHeader_"+this.props.id,style:r},this._renderHeader([this._renderViewSelector(),this._renderDiscardChanges(),this._renderColumnEditor(),this._renderAdvancedFilter(),this._renderQuickFind()],o),C||this.props.entityFilterProps&&this.props.entityFilterProps.isRollupViewSupported&&this.props.contextString===b.h.ASSOCIATEDGRID?this._renderEntityFilter():this._renderQueueFilter())));var S=this.props.chartProps&&this._isReflowLayoutVertical?this.props.styles.reflowdataSetContentBodyStyle:this.props.styles.dataSetContentBodyStyle;if(this.props.featureControlProps.isAssociatedGridHeightEnabled&&Object(Te.d)(this.props.contextString)&&(S=Object(n.__assign)(Object(n.__assign)({},S),{flexBasis:"0px"})),this.props.chartProps&&!this._isReflowLayoutVertical&&this.props.featureControlProps.isSuiterChartEnabled||this._showNewQuickFindSearchBarForMobile()){S=Object(n.__assign)(Object(n.__assign)({},S),{borderTop:"1px solid #d8d8d8"})}var O=(null===(g=null===(p=null===(u=this.props)||void 0===u?void 0:u.configuration)||void 0===p?void 0:p.Parameters)||void 0===g?void 0:g.EnableSubGridAutoCollapse)&&this.props.configuration.Parameters.EnableSubGridAutoCollapse,I=O&&O.Value,T=this.props.featureControlProps.isSubGridAutoCollapseEnabled&&Object(Te.g)(this.props.contextString)&&"true"===I;T&&0===this.props.totalResultCount&&(S=Object(n.__assign)(Object(n.__assign)({},S),{display:"none"})),this.props.featureControlProps.isSubGridRemoveMinHeightEnabled&&T&&(S=Object(n.__assign)(Object(n.__assign)({},S),{minHeight:"0px"}));var P=y&&Object(Te.e)(this.props.contextString),E=this._parentDefinedProps;this.props.parentDefinedControlProps&&(E.height=this.props.parentDefinedControlProps.height>0&&this._seeMoreHelper.getSeeMorePopupStatus()===m.b.NotInUse?this.props.parentDefinedControlProps.height:void 0,E.width=this.props.parentDefinedControlProps.width>0&&this._seeMoreHelper.getSeeMorePopupStatus()===m.b.NotInUse?this.props.parentDefinedControlProps.width:void 0,E.decorators=this.props.parentDefinedControlProps.decorators,E.propertyBagOverrides=this.props.parentDefinedControlProps.propertyBagOverrides),E.parentInSeeMoreMode=this._seeMoreHelper.getSeeMorePopupStatus()!==m.b.NotInUse,E.containerStyleOverrides=this._getCombinedContainerStyleOverrides();var A=null;this.props.chartProps&&this._isWidthInitialized()&&(A={width:"70%"});var x=Ne.a.getInstance().get_IsBrowserIE()?Object.assign(i,{flex:"1 1 100%"}):i;v.push(a.createElement(c.a,{key:"dataSetContentBody_"+this.props.id,style:S},this._renderDataSetChart(),a.createElement(c.a,{key:"dataSetBody_"+this.props.id,style:!0===this._isReflowLayoutVertical?this.props.styles.reflowGridStyle:Object.assign(x,A),className:this._isInSeeMoreState()?"seeMore":void 0,testhooks:{id:"data-set-body-container"}},a.createElement(h.c,{key:this.props.controlKey+this._keyIndex,controlId:this.props.controlId,id:this.props.id,formInfo:this._savedFormInfo,configuration:this.props.updatedConfiguration,descriptor:this.props.descriptor?this.props.descriptor:this._savedDefault,systemDefinedProperties:this.props.systemDefinedProperties,rowSpan:this.props.rowSpan,parentDefinedControlProps:E,parentContextToken:this.props.contextToken,contextString:this.props.contextString,externalCommandManagerId:this._commandManagerId,externalCommandPromise:this._commandBarLoadedPromise,shouldRender:this.props.nonCompositionProps?this.props.nonCompositionProps.shouldRender:void 0}),P?null:this._renderFooter()))),P&&v.push(this._renderFooter()),v.push(this._renderAccessibilityNotification(e)),v=v.concat(this._renderAccessibilityComponent(e))}}else if(2!==this.state.loadingState&&this._updateDataSetLoadingState(2),v.push(a.createElement(c.a,{key:"dataSetHeader_"+this.props.id,style:r},this._renderHeader([this._renderViewSelector()],o))),this._isWidthInitialized()){var w={fontSize:this._isHeightGreaterThan240()&&this._isWidthGreaterThan480()?"4.5em":"2em",color:"red"},N=Object(F.c)(this.props.resourceStrings,j.SEE_MORE_DETAILS);v.push(a.createElement(c.a,null,a.createElement(l.a,{id:"gridErrorContainer"+this.props.id,text:_,icon:d.a.DetailsPageClose,iconStyle:w}),this.state.controlLoadInnerErrorMessage&&!this._isDataSetHostKnownError(this.state.controlLoadErrorMessage)&&a.createElement(c.a,{style:{display:"flex",justifyContent:"center"}},a.createElement(ye.a,{key:"gridInnerErrorMessage",href:"#",accessibilityLabel:N,onClick:function(){f.props.showInnerError(f.state.controlLoadInnerErrorMessage)}},N))))}var D=Object(n.__assign)(Object(n.__assign)({},t),this.state.controlLoadInnerErrorMessage&&{backgroundColor:"#FFFFFF"});return a.createElement(c.a,{style:D,onMeasuring:this.onMeasuring,isRequestedMeasuring:!0,id:e,key:e,testhooks:(s={id:e},s[St.b]=this.props.previewId,s[St.c]=20,s),semanticTag:this.props.semanticTag},v)}catch(e){this._onControlLoadedError(e)}},t.prototype._getDataSetHostErrorMessage=function(){var e,t=null;if(this.props.hasReadRolePrivilege)if(this.props.isUCIEntity||this.props.hasCustomDataProvider)if(this.props.offlineProps.isOfflineSqlQueryAvailable)t=this.props.isOffline&&this.state.controlLoadErrorMessage&&!this.props.hasCustomDataProvider?this.props.offlineProps.isEntityAvailableForOffline?this.props.offlineProps.isOfflineAvailableForUse?this.state.controlLoadErrorMessage:Object(F.c)(this.props.resourceStrings,j.OFFLINE_NOT_READY_FOR_USE):Object(F.c)(this.props.resourceStrings,j.ENTITY_NOT_AVAILABLE_IN_PROFILE):this.state.controlLoadErrorMessage;else{var r="";this.props.offlineProps.offlineErrorMessageKey&&(r=Object(F.c)(this.props.resourceStrings,this.props.offlineProps.offlineErrorMessageKey)),r||(r=Object(F.c)(this.props.resourceStrings,j.VIEW_NOTAVAILABLE_IN_OFFLINE)),t=r}else{var n=this.props.entityDisplayName?this.props.entityDisplayName:this.props.entityTypeName,a=Object(F.c)(this.props.resourceStrings,j.UCI_DISABLED_ENTITY_ERROR);t=String.format(a,n)}else t=Object(F.c)(this.props.resourceStrings,j.READ_PRIVILEGE_VIOLATION_KEY);return Object(nt.a)(t)||null===(e=this._tracer)||void 0===e||e.error(Bt+"._getDataSetHostErrorMessage : "+t,this.props.isOffline&&this.props.offlineProps.offlineGridErrorTelemetryParams),t},t.prototype._renderHeader=function(e,t){void 0===e&&(e=[]);var r=(e||[]).filter((function(e){return!!e}));return r.length?a.createElement(c.a,{key:"dataSetHeaderInner_"+this.props.id,style:t},r):null},t.prototype._getParentDefinedPropsDecoratorValue=function(e){return this.props.parentDefinedControlProps&&this.props.parentDefinedControlProps.decorators&&this.props.parentDefinedControlProps.decorators[e]},t.prototype._shouldRenderSeeMoreButton=function(){return this._getParentDefinedPropsDecoratorValue("ShowSeeMore")&&!!this.props.totalResultCount},t.prototype._renderSeeMoreButton=function(){var e=Object(Te.g)(this.props.contextString),t=Object(Te.d)(this.props.contextString),r=this._seeMoreHelper.getSeeMorePopupStatus(),n=Object(Te.f)(this.props);return!((e||t)&&!n)||r===m.b.PopFadeIn||r===m.b.PoppedOut||r===m.b.ReturnFadeOutAndMove||this.props.totalResultCount>=0&&this.props.totalResultCount<=this.props.pageSize&&!this._shouldRenderSeeMoreButton()||!this._isNativePlatform?(this._logInfo("Hiding the See more button for the grid because the grid does not support see more or there is less than 2 pages of data"),null):a.createElement($e,{onSeeMoreClick:this._seeMorePopup.bind(this,!0,!1),resourceStrings:this.props.resourceStrings,containerStyle:this.props.styles.seeMoreButtonContainerStyle,buttonStyle:this.props.styles.seeMoreButtonStyle,seeMoreTextStyle:this.props.styles.seeMoreButtonTextStyle,localizedStrings:this._getSeeMoreLocalizedStrings()})},t.prototype._getSeeMoreLocalizedStrings=function(){var e=null;return this.props.viewSelectorProps&&this.props.viewSelectorProps.title?e=this.props.viewSelectorProps.title:this.props.descriptor.ShowLabel&&this.props.descriptor.Label?e=this.props.descriptor.Label:this.props.entityDisplayName&&(e=this.props.entityDisplayName),this._isNativeSubgrid()?{uniqueLabel:e,seeMoreLabel:Object(F.c)(this.props.resourceStrings,j.SEE_ALL_LABEL),seeMoreTooltip:Object(F.c)(this.props.resourceStrings,j.SEE_ALL_TOOL_TIP)}:{uniqueLabel:e}},t.prototype._isStreamOnSuiterDashboard=function(){return this.props.featureControlProps.isSuiterDashboardEnabled&&Object(Te.g)(this.props.contextString)&&this.props.configuration&&this.props.configuration.Parameters&&this.props.configuration.Parameters.UseDefaultCardFormForList&&this.props.configuration.Parameters.UseDefaultCardFormForList.Value},t.prototype._renderProgressIndicator=function(){var e="datasethost-progress-indicator";this.props.descriptor&&(e+="-"+this.props.descriptor.Id);var t=Object(n.__assign)({},this.props.styles.dataSetChangingProgressIndicatorContainerStyle),r=this.props.styles.progressIndicatorContainerStyle;return 1===this.state.loadingState?(t.width=this._width,t.height=Math.max(this._height,100)):0===this.state.loadingState&&this._isStreamOnSuiterDashboard()&&(r=Object(n.__assign)(Object(n.__assign)({},r),{borderBottom:"none"})),a.createElement(c.a,{key:"progressIndicatorContainer",id:"progressIndicatorContainer",style:0===this.state.loadingState?r:t},a.createElement(c.a,{key:"progressIndicator",id:"progressIndicator",style:0===this.state.loadingState?this.props.styles.progressIndicatorStyle:this.props.styles.dataSetChangingProgressIndicatorStyle},a.createElement(p.a,{key:e,id:e,testhooks:{id:e},style:this.props.styles.datasethostProgressIndicatorStyle,progressType:"ring",displayDelay:0===this.state.loadingState&&2e3,active:!0})))},t.prototype.componentWillUnmount=function(){this._seeMoreHelper&&this._seeMoreHelper.destroy(),clearTimeout(this._statusTimeout),this._statusTimeout=null},Object.defineProperty(t.prototype,"_tracer",{get:function(){return this.context?this.context.TraceManager.getTracer(b.z):null},enumerable:!1,configurable:!0}),t.prototype._updateStatus=function(e){var t=this;this.state.statusMessage===e||this._isSubGridFirstLoad||(clearTimeout(this._statusTimeout),this._statusTimeout=setTimeout((function(){return t.setState({statusMessage:e})}),1e3))},t.prototype.render=function(){var e,t,r,i,o,s=this;if(Object(nt.a)(this.props.updatedConfiguration))return this._logInfo("DataSetHost not rendered. Configuration is null"),null;if(!this.props.isInitialized&&this.props.contextToken&&this.props.primaryDataSetName&&this.state.compositeControlInitState!==k.a.Error){var l=this.props.updatedConfiguration.Parameters[this.props.primaryDataSetName];if(!l)return this._logInfo("DataSetHost not rendered. DataSet is not initialized and configuration does not contain primary dataset name."),null;if(this.state.compositeControlInitState===k.a.Uninitialized){this.setState({compositeControlInitState:k.a.Initializing});var p=this.props.viewId?this.props.viewId:l.ViewId?C.a.parse(l.ViewId):null,d=this.props.gridEntityTypeName||l.TargetEntityType||l.EntityName;if(!d&&!this.props.hasCustomDataProvider)return this._tracer&&this._tracer.error("DataSetHost not rendered. Reason: entityName unknown"),null;this.props&&this.props.hasCustomDataProvider&&this._logInfo("render: Initializing DataSetHost, id "+this.props.controlId+", for custom data provider"),this._logInfo("Initializing grid for "+p+" view and "+d+" entity."),this.props.initializeGrid(p,d,this.props.commandBarProps&&this.props.commandBarProps.commandManagerId,this.props.contextToken).then((function(){s._logInfo("Initialized grid for "+p+" view and "+d+" entity."),s.setState({compositeControlInitState:k.a.Initialized})}),(function(e){var t=e instanceof Error?e.message:e;-1!==tt.c.indexOf(t)?s._setControlLoadError(t):s._tracer&&s._tracer.error("Grid initialization failed. Reason: "+t),s.setState({compositeControlInitState:k.a.Error})}))}return this._logInfo("DataSetHost not rendered. Either state is not initialized or resource strings are not initialized"),null}if(this.props&&this.props.nonCompositionProps&&this.props.nonCompositionProps.addedCommandListFromHostParent&&this._addedCommandListFromHostParent!==this.props.nonCompositionProps.addedCommandListFromHostParent&&(this._addedCommandListFromHostParent=this.props.nonCompositionProps.addedCommandListFromHostParent,this._onAddedCommandListChange()),this.props.descriptor&&this.props.descriptor.Parameters){var h=this.props.descriptor.Parameters[b.c];if(this._isWidthLessThanViewportSm()&&h&&"false"===h)return this._logInfo("DataSetHost not rendered. Available on phone is set to false"),null}this._configureDataSetControlParams(),this._updateViewSelectorProps(this.props),!this.props.viewId||!(null===(e=this.props.nonCompositionProps)||void 0===e?void 0:e.setPageInputViewId)||this.props.viewId.guid===(null===(r=null===(t=this.props.gridInput)||void 0===t?void 0:t.viewId)||void 0===r?void 0:r.guid)&&(null===(i=this.props.gridInput)||void 0===i?void 0:i.viewType)||this.props.savedQueryType===I.a.QUICKFIND_SEARCH||this.props.nonCompositionProps.setPageInputViewId(this.props.viewId.guid),this._savedDefault&&this.props.controlId===this._savedDefault.Id||(this._savedDefault={Id:this.props.controlId,HasContext:!0,Label:"",Name:"",ShowLabel:!1,Visible:!0,Disabled:!1}),this.props.formInfo&&(this._savedFormInfo=this.props.formInfo,null!=this.props.ribbonId&&(this._savedFormInfo.RibbonId=this.props.ribbonId));var g=this.props.descriptor&&this.props.descriptor.DomId&&this.props.descriptor.Id?this.props.descriptor.DomId.includes(this.props.descriptor.Id)?this.props.descriptor.DomId:this.props.descriptor.Id:this.props.id,f="dataSetRoot_"+g,v=this.props.styles,y=v.containerStyle,_=v.headerStyle,S=this.props.styles,O=S.rootStyle,T=S.headerInnerStyle,j=S.bodyStyle;this._updateChangeVisualizationButtons(this.props.updatedConfiguration.FormFactor.toString());var P=y,E={shadowStyle:null,innerStyle:null,outerStyle:null};this._isWidthLessThanViewportSm()&&(j=this.props.styles.bodyMobileStyle,T=this.props.styles.headerInnerMobileStyle);var A=this._seeMoreHelper.getSeeMorePopupStatus(),x=this._seeMoreHelper.getSeeMorePopupInfo();A!==m.b.NotInUse&&(E=m.a.getCustomControlFancyPopoutStyles(this.props.renderer,A,x),A!==m.b.ReturnFadeIn&&(P={height:x.startHeight,width:x.startWidth},O=Object(n.__assign)(Object(n.__assign)({},O),{height:x.endHeightInner-48})));var F=this.renderDataSetHostComponent(f,O,_,j,T),w=(this._getDataSetHostRootElement(),this._seeMorePopup.bind(this,!1)),N=this.props.isRTL,D=function(e,t,r,n,i,o,s,l){void 0===l&&(l=!1);var u=i||o,p="DataSetHostContainer";return a.createElement(c.a,{key:p,id:p+"_"+s,style:u,testhooks:{id:p}},e.renderCloseButton(n,!0,!1,l),e.renderSpacer(!0,!1),t)}(this._seeMoreHelper,F,0,w,E.innerStyle,O,f,N),M=Object(n.__assign)({},E.outerStyle?E.outerStyle:O);0===this.state.loadingState?(M.visibility="hidden",M.maxHeight="0"):1===this.state.loadingState&&(M=Object(n.__assign)(Object(n.__assign)({},M),{opacity:"0.6",pointerEvents:"none",minHeight:this._height}));var R=function(e,t,r,n){var i=t||{width:"100%"},o=n?Ae.e:null;return a.createElement(c.a,{key:"DataSetHostOuterContainer",id:r+"_outer",style:i,role:o},e)}(D,M,f,(null===(o=this._seeMoreHelper)||void 0===o?void 0:o.getSeeMorePopupStatus())!==m.b.NotInUse),L=function(e,t){return t=t||{display:"none"},a.createElement(c.a,{key:"shadow",id:e?e+"shadow":null,style:t})}(f,E.shadowStyle),V="datassethost_root_view_"+g+"_"+f,G=Ne.a.getInstance().get_IsBrowserIE()&&Object(Te.g)(this.props.contextString)?{overflow:"visible"}:{},B=this.props.styles.mobileSubGridContainerStyles,X=Object.assign(P,G);return this._isNativePlatform&&Object(Te.g)(this.props.contextString)&&this.props.featureControlProps.isInMobileModeForApril2020&&this.props.featureControlProps.isSubgridImprovementsEnabled&&(X=Object(n.__assign)(Object(n.__assign)({},X),B)),a.createElement(c.a,{key:V,style:X},a.createElement(u.a,{role:Ae.s,notificationType:Be.b,style:{left:"-3000%",width:"0%",height:"0%",position:"absolute"}},this.state.statusMessage),L,R,this.props.showAdvancedFilter&&this.state.isFilterPanelOpen&&a.createElement(At,{controlId:this.props.controlId,controlKey:this.props.controlKey,id:this.props.id,contextToken:this.props.contextToken,entityTypeName:this.props.entityTypeName,fetchXML:this.props.fetchXML,filterPanelOpen:this.state.isFilterPanelOpen,viewId:this.props.viewId,gridInput:this.props.gridInput,updateFetchXml:this.props.updateFetchXml,updatePageInput:this.props.updatePageInput,closeFilterPanel:this.closeFilterPanel,onViewChanged:this._onViewChanged,setAdvancedPanelApplyClick:function(){s._clearCustomFilterAndUpdateControlKeyIndex(),s.setState({isAdvancedFilterEdited:!0})},originalView:this.props.originalView,resourceStrings:this.props.resourceStrings,telemetryMonitorAdvancedFindDiscard:Ut,resetAdvancedFilter:function(){return s.setState({isAdvancedFilterEdited:!1})}}),this.props.showColumnEditor&&a.createElement(Lt,{entityTypeName:this.props.entityTypeName,onViewChanged:this._onViewChanged,columnEditorPanelOpen:this.state.columnEditorPanelOpen,columnEditorPanelDismiss:function(){return s.setState({columnEditorPanelOpen:!1})},viewId:this.props.viewId,pageId:this.props.id,gridInput:this.props.gridInput,updatePageInput:this.props.updatePageInput,fetchXML:this.props.fetchXML,isAdvancedFindFilterEdited:this.state.isAdvancedFilterEdited}),2!==this.state.loadingState?this._renderProgressIndicator():null)},t.prototype.componentDidMount=function(){this._getUpdateAddedCommandList(this._showCommandBarButtonSearch(),this._showCommandBarButtonShowChart())},t.prototype.closeFilterPanel=function(){this.setState({isFilterPanelOpen:!1})},t.prototype.componentWillReceiveProps=function(e){var t=this;(Object(Te.e)(this.props.contextString)||Object(Te.g)(this.props.contextString)||Object(Te.d)(this.props.contextString))&&!this.props.isOffline&&e.isOffline&&0===this._offlineSqlQueryRetrieveState&&this.props.offlineProps.isEmptyOfflineSqlQuery&&(this._offlineSqlQueryRetrieveState=1,this.props.retrieveView(this.props.entityTypeName,this.props.savedQueryType,this.props.viewType,this.props.viewId,!1).then((function(){t._offlineSqlQueryRetrieveState=2;var e=[{name:"scenario",value:"Called retrieveView"},{name:"entityTypeName",value:t.props.entityTypeName},{name:"viewId",value:C.a.toString(t.props.viewId)}];t.context&&t.context.EventManager&&t.context.EventManager.ReportComponentSuccess&&t.context.EventManager.ReportComponentSuccess(Bt+".componentWillReceiveProps",e)})).catch((function(e){t._offlineSqlQueryRetrieveState=2;var r=[{name:"scenario",value:"Called retrieveView"},{name:"error",value:e&&e.message},{name:"entityTypeName",value:t.props.entityTypeName},{name:"viewId",value:C.a.toString(t.props.viewId)},{name:"viewType",value:t.props.viewType},{name:"savedQueryType",value:t.props.savedQueryType}];t.context&&t.context.EventManager&&t.context.EventManager.ReportComponentFailure&&t.context.EventManager.ReportComponentFailure(Bt+".componentWillReceiveProps",e,null,r)}))),this._isShowChartChanged=this.props.showChart!==e.showChart},t.prototype.shouldComponentUpdate=function(e){return this.props.entityTypeName===P.a&&this.props.gridEntityTypeName!==e.gridEntityTypeName&&this._currentFilterValue?(this._updateFilterOnViewSelectorChange(e.gridEntityTypeName),!1):1!==this._offlineSqlQueryRetrieveState&&(0!==e.refreshCounter&&this.props.refreshCounter!==e.refreshCounter&&2===this.state.loadingState&&this._updateDataSetLoadingState(1),!0)},t.prototype.componentDidUpdate=function(){this._seeMoreHelper.getSeeMorePopupStatus()!==m.b.NotInUse&&this._seeMoreHelper.checkOnPopupStatus(!0,!1,this._getDataSetHostRootElement());var e=Object(F.c)(this.props.resourceStrings,j.GRID_LOADING_PLACEHOLDER).replace("{0}",this.props.entityDisplayName),t=2===this.state.loadingState?this.props.notificationMessage:e;Object(Te.g)(this.props.contextString)&&(0===this.state.loadingState?this._isSubGridFirstLoad=!0:1===this.state.loadingState&&(this._isSubGridFirstLoad=!1)),this._updateStatus(t)},t.prototype._renderAccessibilityComponent=function(e){var t=e+"Accessibility";if(Object(Te.e)(this.props.contextString)){var r=[];if(this.props.viewSelectorProps){var n=this.props.viewSelectorProps.id;r.push(a.createElement(Ee.a,{key:t,rootElementId:e,isModal:!1,shouldManageFocus:!0,defaultFocusId:n}))}else r.push(a.createElement(Ee.a,{key:t,rootElementId:e,isModal:!1,shouldManageFocus:!0}));return r}return null},t.prototype._isInSeeMoreState=function(){var e=this._seeMoreHelper.getSeeMorePopupStatus();return e!==m.b.NotInUse&&e!==m.b.ReturnFadeOutAndMove&&e!==m.b.ReturnFadeIn},t.prototype._isNativeSubgrid=function(){return Object(Te.g)(this.props.contextString)&&this.props.clientHostSubtype===Rt.a.Phone&&this.props.featureControlProps.isInMobileModeForOct2019&&this.props.featureControlProps.isInMobileModeForApril2020&&this.props.featureControlProps.isSubgridImprovementsEnabled},t.prototype._getCombinedContainerStyleOverrides=function(){var e=this._parentDefinedProps.containerStyleOverrides,t=this.props.parentDefinedControlProps&&this.props.parentDefinedControlProps.containerStyleOverrides;return Object.assign(e,t,{rootContainer:Object.assign(e.rootContainer,{flex:Object(Te.e)(this.props.contextString)||this._isInSeeMoreState()?"1 1 100%":"1 1 auto"},t&&t.rootContainer),primaryInnerContainer:this._isInSeeMoreState()?{flex:"1 1 100%",minHeight:"0"}:{}})},t.prototype._updateViewSelectorProps=function(e){if(e.descriptor&&e.viewSelectorProps&&e.descriptor.Parameters){var t=e.descriptor.Parameters[b.B],r=t?t.toString().split(","):null,n=r?r.map((function(e){return C.a.tryParse(e)})):null;e.viewSelectorProps.viewIds=n||null}},t.prototype._getCachedSize=function(){return this._cachedSize||(this._cachedSize=this.props.cachedSize),this._cachedSize},t.prototype._isWidthInitialized=function(){return this.state.isWidthInitialized||this._getCachedSize()&&this._getCachedSize().isWidthInitialized||!1},t.prototype._isWidthLessThanViewportSm=function(){return this.state.isWidthLessThanViewportSm||this._getCachedSize()&&this._getCachedSize().isWidthLessThanViewportSm||!1},t.prototype._isWidthLessThanViewportM=function(){return this.state.isWidthLessThanViewportM||this._getCachedSize()&&this._getCachedSize().isWidthLessThanViewportM||!1},t.prototype._isWidthLessThanMinWidthForChartPlusGridReflow=function(){return this.state.isWidthLessThanMinWidthForChartPlusGridReflow||this._getCachedSize()&&this._getCachedSize().isWidthLessThanMinWidthForChartPlusGridReflow||!1},t.prototype._isWidthGreaterThan480=function(){return this.state.isWidthGreaterThan480||this._getCachedSize()&&this._getCachedSize().isWidthGreaterThan480||!1},t.prototype._isHeightGreaterThan240=function(){return this.state.isHeightGreaterThan240||this._getCachedSize()&&this._getCachedSize().isHeightGreaterThan240||!1},t.prototype._showCommandBarButtonSearch=function(){return this.state.showCommandBarButtonSearch||this._getCachedSize()&&this._getCachedSize().showCommandBarButtonSearch||!1},t.prototype._showCommandBarButtonShowChart=function(){return this.state.showCommandBarButtonShowChart||this._getCachedSize()&&this._getCachedSize().showCommandBarButtonShowChart||!1},t.prototype._isJumpBarRenderingAsFlyout=function(){return this.state.isJumpBarRenderingAsFlyout||this._getCachedSize()&&this._getCachedSize().isJumpBarRenderingAsFlyout||!1},t.prototype._hideJumpbarForMobile=function(){return this.props.featureControlProps.isJumpbarFeatureForMobileEnabled&&this._isWidthLessThanViewportSm()&&(Object(Te.e)(this.props.contextString)||Object(Te.d)(this.props.contextString))&&this.props.featureControlProps.isInMobileModeForApril2020},t.prototype._showNewQuickFindSearchBarForMobile=function(){var e,t;return this._checkIfMobileImprovementsEnabledForQuickFindSearchOnGridRoot()&&this._isWidthLessThanViewportSm()&&((null===(e=this.props.configuration)||void 0===e?void 0:e.CustomControlId)===b.p||(null===(t=this.props.configuration)||void 0===t?void 0:t.Name)===b.m)},t.prototype._checkIfMobileImprovementsEnabledForQuickFindSearchOnGridRoot=function(){return this.props.featureControlProps.isQuickFindImprovementsEnabled&&this.props.featureControlProps.isInMobileModeForApril2020&&Object(Te.e)(this.props.contextString)},t}(a.Component);function qt(e,t){return a.createElement(zt,Object(n.__assign)({},e,{renderer:t.renderer}))}zt.displayName="DataSetHost",zt.contextType=Ot.a,qt.contextTypes={renderer:o.object};var Wt=Object(s.a)(Te.i,(function(e,t){return{initializeGrid:function(r,n,a,i){var o=rt.a.fromXmlAndSql("","",r).getQueryState(),s=t.descriptor&&t.descriptor.Parameters?t.descriptor.Parameters[b.r]:null,c=t.descriptor&&t.descriptor.Parameters&&t.descriptor.Parameters[b.s]?parseInt(t.descriptor.Parameters[b.s],10):null;a||(a=Object(oe.c)(t.id,i));var l=e(Object(ct.d)(o,n,t.id,i,t.descriptor,s,c,void 0,a)),u=e(Object(bt.b)(n,r,t.id)),p=e(Object(x.e)(j.labelList));return Promise.all([l,p,u])},removeEditedViewPageMap:function(t,r){return e(Object(Ft.c)(t,r.guid))},updatePageInput:function(t,r){return e(Object(wt.b)(t,r))},updateView:function(r,n,a,i,o,s,c,l,u){var p=e(Object(lt.a)(r,s,n,a,i)).then((function(){return e(Object(ht.a)(r,o))})),d=C.a.tryParseOrNull(a),h=e(Object(bt.b)(i,d,r)),g=Promise.resolve(null);if(u){var m=Object(et.a)(i,c,s,l,!0);g=e(m.getFilterOptionsAction())}return Promise.all([p,h,g]).then((function(){if(Object(Te.e)(t.contextString)){t.updateGridPaginationStateHandler([{filterType:0,filterExpressionOrValue:null}],t.id)}e(Object(Se.m)("",r,s)),e(Object(Se.n)("",r,s)),e(Object(Se.j)("",r,s)),e(Object(it.b)("",0,r,s))}))},retrieveView:function(t,r,n,a,i){return e(Object(A.a)(t,r,n,a,!1))},markSelectedRows:function(t,r,n){return e(Object(Le.b)(t,r,n))},markSelectedRelatedEntity:function(t,r,n){return e(Object(Ve.b)(t,r,n))},rowProperties:function(t,r,n){return e(Object(ut.b)(t,r,n))},updateFetchXml:function(t,r,n){return e(Object(pt.b)(t,r,n))},applyGridFilter:function(r,n,a){if(Object(Te.e)(t.contextString)){var i=[{filterType:8,filterExpressionOrValue:r},{filterType:11,filterExpressionOrValue:n}];t.updateGridPaginationStateHandler(i,t.id)}e(Object(Se.k)(n,t.id,a)),e(Object(Se.l)(r,t.id,a))},applyActivityTypeFilter:function(r,n,a){if(Object(Te.e)(t.contextString)){var i=[{filterType:9,filterExpressionOrValue:r},{filterType:10,filterExpressionOrValue:n}];t.updateGridPaginationStateHandler(i,t.id)}e(Object(Se.h)(n,t.id,a)),e(Object(Se.i)(r,t.id,a))},onSelectedOrderColumnChange:function(r,n){e(Object(Se.o)(r,t.id,n))},toggleGridRollupView:function(r,n){e(Object(dt.b)(r,t.id,n))},updatePagingData:function(t,r,n){return e(Object(ot.b)(t,r,n))},updateQueryKey:function(t,r,n){e(Object(st.b)(t,r,n))},setCustomFilter:function(t,r,n,a){return e(Object(it.b)(t,r,n,a))},runOnRecordSelect:function(r,n,a){e(function(e,t,r,n,a){return{type:"dataset.run.on.record.select",sync:!0,execute:function(a,i){var o=a.dispatch,s=a.getState,c=i.TraceManager.getTracer(b.z),l=b.x+".RunOnRecordAction";try{if(i&&i.ScriptManager){var u=i.ScriptManager.getContainer(e);if(u&&n&&1===n.length){var p=Object(at.c)(s()),d=Object(at.b)(s());p&&(o(u.getEventManager().addGridOnRecordSelectHandlers(t)),o(u.getEventManager().addGridOnChangeHandlers(t))),(p||d)&&o(u.getEventManager().runOnRecordSelect(t,r)),c.info("Triggered the action for {0} selected records"+n.length),i.EventManager.ReportComponentSuccess(l)}}}catch(e){var h="Triggered action for selected records failed with error : "+e.message;i.EventManager.ReportComponentFailure(l,Error(h))}}}}(r,n,n.controlName?n.controlName:"entity_control",a,Object(Te.e)(t.contextString)||Object(Te.g)(t.contextString)))},retrieveRelatedEntitiesMetadata:function(t){return e(Object(Nt.a)(t))},switchHomepageConfiguration:function(t,r,n,a,i){e(Object(gt.g)(t,r,n,a,i))},switchViewConfiguration:function(t,r,n,a,i){e(Object(gt.i)(t,r,n,a,i))},switchSubgridVisualization:function(t,r,n){e(Object(gt.h)(t,r,n))},switchAssociatedGridVisualization:function(t,r,n,a,i,o,s,c){e(c?Object(gt.f)(t,r,n,a,i,o,s):Object(gt.e)(t,r,n,i,s))},toggleChartPane:function(t,r,n){e(Object(yt.b)(t,r,n))},clearQuery:function(){e(Object(Et.a)())},updateUserDefaultGridView:function(t,r,n,a,i,o){return e(function(e,t,r,n,a,i){return{type:"grid.update.userdefaultview",execute:function(o,s){var c=s.TraceManager.getTracer(b.z),l=b.x+".updateUserDefaultGridViewAction";try{c.info("Updating the user default view for the grid.");var u=o.getState(),p=new ft.a("usersettings",Object(Qe.q)(u)),d=Object(N.h)(u,e);if(!p||!d.ObjectTypeCode)return Promise.resolve();i&&(t="",r="",a=[],n="");for(var h=[],g=0,m=a;g<m.length;g++){var f=m[g],v=C.a.tryParse(f),y=C.a.externalGuid(v);h.push(y)}var _=String.format("<DefaultGridViews><DefaultGridView><EntityTypeCode>{0}</EntityTypeCode><ChildEntityName>{1}</ChildEntityName><QueueId>{2}</QueueId><ViewId>{3}</ViewId><ViewType>{4}</ViewType></DefaultGridView></DefaultGridViews>",d.ObjectTypeCode,n||"",1===h.length?h.toString():"",C.a.externalGuid(C.a.tryParse(t)),r);o.dispatch(Object(mt.f)(p,{personalizationsettings:_}));var S={ViewId:t,ViewType:+r,QueueId:a.toString()};return o.dispatch(Object(vt.f)(S,e)),s.EventManager.ReportComponentSuccess(l),Promise.resolve()}catch(e){var O="Failed to update user default grid view with error : "+e.message;s.EventManager.ReportComponentFailure(l,Error(O))}}}}(t,r,n,a,i,o))},updateCurrentPageNumber:function(t,r,n){return e(Object(we.b)(t,r,n))},setNewPageRequested:function(t,r,n){e(Object(Re.b)(t,r,n))},retrieveControlResourceStringsForSwitchVisualization:function(t){var r=t.filter((function(e){return null!=e}));return e(Object(x.e)(r))},updatePageNumberForEnhancedPaging:function(e){if(Object(Te.e)(t.contextString)){var r=[{filterType:12,filterExpressionOrValue:e}];t.updateGridPaginationStateHandler(r,t.id)}},openManageDuplicatesDialog:function(t){e(Object(It.a)(null,null,ft.a.fromExternalEntityReference(t.entityReference))).then((function(r){if(0===r.status)return e(Object(Tt.a)(r.pageId)).then((function(e){"ignore_save"===e.value.param_lastButtonClicked&&t.reject()}))}))},showInnerError:function(r){var n=new Dt.a(r,null,null,null,null,{stack:r+" "+(new Error).stack,message:r});e(Object(kt.a)(t.id,n))}}}))(qt)},otMa:function(e,t,r){"use strict";r.d(t,"c",(function(){return s})),r.d(t,"e",(function(){return c})),r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return u})),r.d(t,"d",(function(){return p}));var n=r("rn9m"),a=r("Roat"),i=r("U56z"),o="customcontrol.propertybag.device.isoperationavailable";function s(){return{type:o,execute:function(e,t){return new n.a(t,e).isOperationAvailable(i.b.getBarcodeValue.name)},sync:!0}}function c(){return{type:o,execute:function(e,t){return new a.a(t,e).isOperationAvailable(i.f.takePicture.name)},sync:!0}}function l(){return{type:o,execute:function(e,t){return new a.a(t,e).isOperationAvailable(i.f.captureVideo.name)},sync:!0}}function u(){return{type:o,execute:function(e,t){return new a.a(t,e).isOperationAvailable(i.f.captureAudio.name)},sync:!0}}function p(){return{type:o,execute:function(){return!1},sync:!0}}},"pLx/":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("Z1aD"),a=r("45T4");function i(e,t){return Object(n.a)(a.a,{},t,e)}},r7Ib:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));var n=r("Sscr"),a=r("uO/V"),i="grid.setCommandManagerId";function o(e,t,r){return{type:"grid.setCommandManagerId.async",execute:function(o,s){var c=o.dispatch,l=(o.getState,s.TraceManager.getTracer(a.z)),u=a.x+".setCommandManagerIdAction";try{l.info("Updating the command manager id for the grid.");var p=Object(n.v)(r);return c(function(e,t,r){return{type:i,payload:t,meta:{pageId:e,dataSetContextKey:r}}}(e,t,p)),s.EventManager.ReportComponentSuccess(u),Promise.resolve()}catch(e){var d="Updating the command manager id for the grid failed with error : "+e.message;s.EventManager.ReportComponentFailure(u,Error(d))}}}}},rbxJ:function(e,t,r){"use strict";r.d(t,"i",(function(){return de})),r.d(t,"g",(function(){return ne})),r.d(t,"e",(function(){return ae})),r.d(t,"d",(function(){return ie})),r.d(t,"f",(function(){return ge})),r.d(t,"h",(function(){return me})),r.d(t,"c",(function(){return se})),r.d(t,"a",(function(){return pe})),r.d(t,"b",(function(){return ue}));var n=r("c/eZ"),a=r("9r0m"),i=r("swEE"),o=r("NxDw"),s=r("G7N+"),c=r("S2mk"),l=r("UOiB"),u=r("Fas2"),p=r("r2h9"),d=r("lMVv"),h=r("7EJx"),g=r("EGsq"),m=r("Ww2r"),f=r("RlP9"),v=r("z9yS"),b=r("uO/V"),y=r("Gemh"),_=r("Sscr");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
function C(){var e=null,t=null,r=null;return function(n,a){var i=a.parentContextToken,o=a.contextString,s=function(e,t){var r=t.parentContextToken;switch(t.contextString){case b.h.ASSOCIATEDGRID:var n=Object(y.gb)(e,t,r);return _.a(r,n.relationshipName,n.ordinal);case b.h.SUBGRID:if(t.descriptor&&t.descriptor.StreamId)return _.o(r,t.descriptor.Name,t.descriptor.StreamId,!!t.descriptor.IsTile);var a=_.p(r,t.descriptor.Name),i=a&&a.parentContextToken?a.parentContextToken.entityTypeName:null;return a.relationshipType=se(e,t,i,a),a;case b.h.GRID:return _.k(e,t.id);case b.h.CUSTOM:return _.c(r,t.controlId);default:return r}}(n,a);return(r!==o||S(e,s)||S(t,i))&&(e=s,t=i,r=o),e}}function S(e,t){return e&&t?e.entityTypeName!==t.entityTypeName||e.controlName!==t.controlName||(e.formId&&e.formId.guid)!==(t.formId&&t.formId.guid)||(e.recordId&&e.recordId.guid)!==(t.recordId&&t.recordId.guid)||e.relationshipName!==t.relationshipName||e.roleOrd!==t.roleOrd:e!==t}var O=r("jf1O"),I=r("perk"),T=r("/3Li"),j=r("0u+G"),P=r("wV3W"),E=r("DgF7"),A=r("Wg6j"),x=r("WS0f"),F=r("VWqI"),w=r("Ev4I"),N=r("JlqV"),k=r("cZkS"),D=r("qC0c"),M=r("c0jI"),R=r("jigW"),L=r("sOTk"),V=r("7pqb"),G=r("s2by"),B=r("VnpK"),X=r("CIm2"),U=r("+6eZ"),z=r("3/zo"),q=r("oVzJ"),W=r("2OIc"),H=r("/V8d"),Q=r("M6d0"),Y=r("Oiu5"),K=r("/U1C"),J=r("W51q"),Z=r("c56u"),$=r("F2uj"),ee=r("HF9s"),te=r("c96h"),re=r("TCzx");function ne(e){return e===b.h.SUBGRID}function ae(e){return e===b.h.GRID}function ie(e){return e===b.h.ASSOCIATEDGRID}function oe(e){switch(e){case b.h.ASSOCIATEDGRID:case b.h.SUBGRID:return"div";case b.h.GRID:default:return"section"}}function se(e,t,r,n){var a=r?Object(d.G)(e,r,n.relationshipName):null;if(null===a&&t.descriptor&&t.descriptor.Parameters){var i=t.descriptor.Parameters[b.F.RELATIONSHIP_NAME],o=t.descriptor.Parameters[b.F.TARGET_ENTITY_TYPE];i&&r?a=Object(d.G)(e,r,i):i&&o&&(a=Object(d.G)(e,o,i))}return a}function ce(){var e=null,t=null;return function(r){return e!==r.contextString&&(e=r.contextString,t=function(e){switch(e.contextString){case b.h.ASSOCIATEDGRID:case b.h.SUBGRID:return[p.a.SUB_GRID,p.a.MAIN_APPLICATION_VIEW];case b.h.GRID:return e.isAdvancedFindView?[p.a.ADVANCED_SEARCH]:[p.a.MAIN_APPLICATION_VIEW];default:return[p.a.MAIN_APPLICATION_VIEW]}}(r)),t}}function le(e){return e&&[e.CustomControlId,e.Name].some((function(e){return-1!==H.a.indexOf(e)}))}function ue(e,t,r){if(!e||!e.contextTokenType||e.contextTokenType!==l.a.AssociatedGrid&&e.contextTokenType!==l.a.MainGrid)return null;switch(t){case"displayChart":return!1;case"displayCommandBar":return!0;case"displayIndex":return le(r);case"displayQuickFind":case"displayViewSelector":return!0}return null}function pe(){var e=null,t=null;return function(r,n,a){if(e&&t===n.CustomControlId)return e;var i=n&&n.CustomControlId?n.CustomControlId:null;if(!i)return null;var o=Object(y.ab)(r,i),s=Object(W.e)(r,i);if(o&&s&&s.Properties.DataSetDefinitions&&s.Properties.DataSetDefinitions[o]&&s.Properties.DataSetDefinitions[o].CDSDataSetOptions){var c=s.Properties.DataSetDefinitions[o].CDSDataSetOptions;e={displayChart:c.hasOwnProperty("displayChart")?c.displayChart:ue(a,"displayChart",n),displayCommandBar:c.hasOwnProperty("displayCommandBar")?c.displayCommandBar:ue(a,"displayCommandBar",n),displayIndex:c.hasOwnProperty("displayIndex")?c.displayIndex:ue(a,"displayIndex",n),displayQuickFind:c.hasOwnProperty("displayQuickFind")?c.displayQuickFind:ue(a,"displayQuickFind",n),displayViewSelector:c.hasOwnProperty("displayViewSelector")?c.displayViewSelector:ue(a,"displayViewSelector",n)},t=n.CustomControlId}return e}}function de(){var e,t,r,l,_,S,B,W,H,ue,pe,de,ge,be,ye,_e,Ce,Se,Oe,Ie,Te,je,Pe,Ee,Ae,xe,Fe,we,Ne,ke,De,Me,Re,Le,Ve,Ge,Be=null,Xe=null,Ue=null,ze=null,qe="",We=null,He=null,Qe=null,Ye=null,Ke=null,Je=null,Ze=null,$e=null,et=(t=null,function(e,r,n,a){var i=t;switch(Object(x.b)(a)&&(a=r.contextString),a){case b.h.ASSOCIATEDGRID:i=Object(u.b)(n);break;case b.h.SUBGRID:i=Object(u.l)(n);break;case b.h.GRID:default:i=Object(u.h)(n)}return i!==t&&(t=i),t}),tt=Object(O.a)(),rt=C(),nt=(r=null,_=null,l=function(e,t,r){var n,i,s,l,u;if(Object(y.ib)(e,t.id,r)){n=Object(y.T)(e,t.id,r);var p=Object(y.qb)(e,n,t.id);i=p&&p.entityLogicalName,u=p&&p.isUserView,s=Object(y.r)(e,t.id,r,i),l=Object(y.s)(e,t.id,r)!==v.a.savedvisualization}else{var d=Object(y.ab)(e,t.configuration.CustomControlId);if(d){var h=t.configuration.Parameters[d];h&&(n=h.ViewId&&new a.a(h.ViewId),i=h.TargetEntityType,s=h.VisualizationId&&new a.a(h.VisualizationId),l=!(!h.IsUserChart||"true"!==h.IsUserChart),u=!(!h.IsUserView||"true"!==h.IsUserView))}}if(!a.a.isNullOrEmpty(n)&&s&&i){var g=Object(y.q)(e,t.id,r),m=Object(y.p)(e,t.id,r),f=Object(y.C)(e,t.id,r),C=he(e,t,r,f,!0),S=Object(y.N)(e,t.id,r),O=e.user&&e.user.userId,I=Object(D.c)(e,k.Zc),T=Object(G.a)(i,O,r,I),j=T&&T.getFilterAndLinkedEntities(f&&f.activityOrQueueFilterValue?f.activityOrQueueFilterValue:void 0),P=j&&null!==j.linkEntities?JSON.stringify(j.linkEntities):null,A=Object(D.a)(e,k.Od,k.h),x=!A||A&&Object(E.a)(e)===o.a.MobileApplication,F=A,w=ie(t.contextString)?Object(c.p)(b.d,i,a.a.toString(n),a.a.toString(s),r.relationshipName,S,l,u,C,P,F):Object(c.t)(b.d,i,a.a.toString(n),a.a.toString(s),S,g,l,m,u,C,P,x,F);if(_){var N=w&&w.CustomControlId?w.CustomControlId:null;if((L=Object(y.ab)(e,N))&&w.Parameters[L]){var M=w.Parameters[L],R=_.Parameters[L];M.ViewId===R.ViewId&&M.VisualizationId===R.VisualizationId&&M.EntityName===R.EntityName&&M.HighchartFilterExpression===R.HighchartFilterExpression&&M.ChartDrillDownParameters===R.ChartDrillDownParameters&&M.ExtraFilters===R.ExtraFilters||(_=w)}}else _=w}else if(_&&i&&!s){var L;N=_.CustomControlId,(L=Object(y.ab)(e,N))&&_.Parameters[L]&&i!==(R=_.Parameters[L]).EntityName&&(_=null)}return _},function(e,t,n){var a=l(e,t,n),i=t.id;return r&&r.configuration===a&&r.id===i||(r={configuration:a,id:i,chartId:b.d,showChart:!0,contextToken:n}),r}),at=(S=null,function(e,t,r,n,a,i){var o=i.commandBarStyle,s=t.id,c=se(e,t,r&&r.parentContextToken?r.parentContextToken.entityTypeName:null,r),l=Object(y.w)(e,s,r);return S&&S.commandManagerId===l&&S.pageId===s&&S.ribbonId===a&&S.relationshipType===c&&S.contextToken===r&&S.style===o||(S={commandManagerId:l,pageId:s,ribbonId:a,relationshipType:c,contextToken:r,style:o}),S}),it=(B=null,W=ce(),function(e,t,r,n,i,o){var s,c=o.viewSelectorStyle,l=a.a.toString(i),u=W(t),d=Object(y.nb)(t.id,l),g=ae(t.contextString),m=g,v=t.contextString,b=Object(y.Z)(e),_=Object(h.g)(e),C=Object(y.qb)(e,i,t.id),S=C?C.title:null,O=p.a.MAIN_APPLICATION_VIEW;ne(v)?O=p.a.SUB_GRID:g&&t.isAdvancedFindView&&(O=p.a.ADVANCED_SEARCH);var I=Object(f.a)(e,n,O),T=I||a.a.EMPTY,j=Object(L.g)(e,null==t?void 0:t.id),P=Object(y.rb)(e,null===(s=null==j?void 0:j.pageToEditedViewMapId)||void 0===s?void 0:s.guid,null==i?void 0:i.guid);return B&&B.id===d&&B.entityTypeName===n&&B.selectedViewId===l&&B.queryViewSelectorTypes===u&&B.shouldDisplayNestedViewSelector===m&&B.isRTL===_&&B.defaultViewId===T&&B.isEdited===!!P||(B={id:d,pageId:t.id,title:S,entityTypeName:n,selectedViewId:l,style:c,queryViewSelectorTypes:u,shouldDisplayNestedViewSelector:m,contextString:v,pinnedActivityView:b,isRTL:_,defaultViewId:T,isAdvancedFindView:t.isQueryMode&&t.isAdvancedFindView,isEdited:!!P,pageToEditedViewMapId:null==j?void 0:j.pageToEditedViewMapId}),B}),ot=(H=null,function(e,t,r,n,a){var i=t.id,o=Object(y.G)(e,t),s=Object(h.w)(e),c=a.filterComboStyle,l=Object(L.g)(e,i).entityFilterValue;return H&&H.id===i&&H.entityTypeName===n&&H.filterOptions===o&&H.comboBoxStyle===c&&H.userSetting===s&&l===H.previousValue||(H={id:i,filterOptions:o,entityTypeName:n,updateFilterValue:null,onFilterChange:null,resourceStrings:null,userSetting:s,style:null,comboBoxStyle:c,previousValue:l}),H}),st=(ue=null,function(e,t,r,a,i){var o=t.id,s=Object(y.G)(e,t,a),c=Object(Y.a)(e),l=i.filterComboStyle,u=i.dueDateComboBoxStyles,p=i.activityTypeComboBoxStyles,d=Object(R.h)(e,r.relationshipName,ie(t.contextString)),g=!Object(N.b)(e),m=Object(y.kb)(e,o,r),f=Object(h.g)(e),v=Object(P.a)(e),b=Object(L.g)(e,o),_=b.entityFilterValue,C=b.activityTypeFilterValue,S=Object(D.a)(e,k.a,k.h),O=Object(D.a)(e,k.a,k.Lc),T=Object(y.ub)(e,a),j=Object(D.c)(e,k.Zc),E=Object(G.a)(a,e.user.userId,r,j,T),A=E&&E.getFilterLabelResourceKey(),x=I.ACTIVITY_MGMT_ACTIVITY_TYPE_LABEL,F=I.ACTIVITY_MGMT_DUE_DATE_LABEL;if(!ue||ue.id!==o||ue.entityTypeName!==a||ue.filterOptions!==s||ue.comboBoxStyle!==l||ue.dueDatecomboBoxStyle!==u||ue.activityTypecomboBoxStyle!==p||ue.labelStyle!==i.filterLabelStyle||ue.activityMgmtLabelStyle!==i.activityMgmtLabelStyle||ue.isActivityManagementFeatureEnabled!==S||ue.filterOptionsForActivityType!==c||ue.isRollupViewSupported!==d||ue.isOffline!==g||ue.toggleValue!==m||ue.isRTL!==f||ue.theme!==v||ue.previousValue!==_||ue.activityTypePreviousValues!==C||ue.isActivityFilterSelectAllEnabled!==O||ue.entityIsActivityType!==T){var w={isRollupViewSupported:d,isOffline:g,toggleValue:m,onToggleChange:null,isRTL:f,theme:v};ue=Object(n.__assign)({id:o,filterOptions:s,filterOptionsForActivityType:c,entityTypeName:a,onFilterChange:null,onActivityTypeChange:null,onActivityTypeFilterClear:null,gridEntityName:null,resourceStrings:null,comboBoxStyle:l,dueDatecomboBoxStyle:u,activityTypecomboBoxStyle:p,containerStyle:null,activityTypeContainerStyle:null,labelStyle:i.filterLabelStyle,activityMgmtLabelStyle:i.activityMgmtLabelStyle,previousValue:_,activityTypePreviousValues:C,isActivityManagementFeatureEnabled:S,activityViewContainerStyle:i.activityViewContainerStyle,entityFilterLabelResourceString:A,activityTypeFilterLabelResourceString:x,dueDateFilterLabelResourceString:F,isActivityFilterSelectAllEnabled:O,isRTL:f,entityIsActivityType:T},w)}return ue}),ct=(pe=null,de=[1041,2052,3076,1028,1042],function(e,t,r,n,a,i){var o=e.id,s=e.descriptor&&e.descriptor.Id?e.descriptor.Id:null,c=a?JSON.parse(a).conditions[0]:null,l=function(e,t){if(t=t?t.value.replace("%","").toUpperCase():null,e){var r=me(e.split(",")[0]),n=r[1].split("|");if(n&&t===n[0])return r[1]}return t}(Object(m.c)(i,I.JUMPBAR_ALPHABET),c);return de.indexOf(n)>-1?pe=null:pe&&pe.id===o&&pe.contextToken===t&&pe.entityTypeName===r&&pe.selectedFilter===l||(pe={id:o,uniqueId:s,contextToken:t,entityTypeName:r,selectedFilter:l,languageId:n}),pe}),lt=(ge=null,function(e,t,r,n){var a=e.id,i=e.contextString;return ge&&ge.id===a&&ge.contextToken===t&&ge.entityTypeName===r&&ge.gridInput===n||(ge={id:a,contextToken:t,entityTypeName:r,contextString:i,gridInput:n}),ge}),ut=(be=null,function(e,t,r){var n=e.id,a=e.contextString;return be&&be.id===n&&be.contextToken===t||(be={id:n,contextToken:t,contextString:a}),be}),pt=Object(m.h)(),dt=(Ce=null,Se=null,Te=null,ke={useSkypeProtocol:Oe={Type:"WholeNumber.None",Usage:1,Static:!0,Value:null,Primary:!1},gridPageNumber:Ie={Type:"WholeNumber.None",Usage:1,Static:!0,Value:null,Primary:!1},isNewPageRequested:je={Type:"WholeNumber.None",Usage:1,Static:!0,Value:null,Primary:!1},enhancedPagingDisabled:Pe={Type:"WholeNumber.None",Usage:1,Static:!0,Value:!1,Primary:!1},isActivityTypeFilterDisabled:Ee={Type:"WholeNumber.None",Usage:1,Static:!0,Value:null,Primary:!1},showAddNewCommand:Ae={Type:"WholeNumber.None",Usage:1,Static:!0,Value:null,Primary:!1},emptySubgridIconAndTextChanges:xe={Type:"WholeNumber.None",Usage:1,Static:!0,Value:null,Primary:!1},emptyGridChangesIfQuickFindImprovementsEnabled:Fe={Type:"WholeNumber.None",Usage:1,Static:!0,Value:null,Primary:!1},headerDialogOnTop:we={Type:"TwoOptions",Usage:1,Static:!0,Value:!1,Primary:!1},headerDialogPreventDismissOnScroll:Ne={Type:"TwoOptions",Usage:1,Static:!0,Value:!1,Primary:!1}},function(e,t,r){var a=Object(E.e)(e),s=Object(g.x)(e).useSkypeProtocol,c=Object(y.x)(e,t.id,r),l=Object(y.X)(e,t.id,r);l||Te===c||(Te=c),ye||(ye=Object(T.a)(e),_e=null!=ye&&ye===j.b.Native);var u=!_e,p=Object(D.a)(e,k.a,k.h),d=t.systemDefinedProperties,h=c!==Te&&l,m=u!==Pe.Value,f=!1;p&&(ie(t.contextString)||ae(t.contextString))&&(f=!0);var v=!1;Object(q.a)(e)&&ne(t.contextString)&&(v=!0);var b=!1;Object(q.a)(e)&&Object(D.c)(e,k.Md)&&ne(t.contextString)&&Object(E.a)(e)===o.a.MobileApplication&&(b=!0);var _=!1;if(Object(q.a)(e)&&Object(D.c)(e,k.ad)&&ae(t.contextString)&&Object(E.a)(e)===o.a.MobileApplication){var C=Object(y.C)(e,t.id,r);(null==C?void 0:C.quickFind)&&(_=!0)}var S=!ae(t.contextString)&&i.a.Tablet===a,O=i.a.Tablet===a&&!ie(t.contextString)||"Web"===Object(E.k)(e)&&!re.a.getInstance().get_IsAndroid()&&!re.a.getInstance().get_IsWindows()&&!re.a.getInstance().get_isIPhone();if(a!==Ce||s!==Se||h||m||l!==je.Value||f!==Ee.Value||v!==Ae.Value||b!==xe.Value||_!==Fe.Value||S!==we.Value||O!==Ne.Value){Ce=a,Se=s,Ie.Value=c,Te=c,je.Value=l,Pe.Value=u,Ee.Value=f,Ae.Value=v,xe.Value=b,Fe.Value=_,we.Value=S,Ne.Value=O;var I=null==Ce?s:null;(I!==Oe.Value||h||m)&&(Oe.Value=I,ke=Object(n.__assign)(Object(n.__assign)({},d),{useSkypeProtocol:Oe,gridPageNumber:Ie,isNewPageRequested:je,enhancedPagingDisabled:Pe,isActivityTypeFilterDisabled:Ee,showAddNewCommand:Ae,emptySubgridIconAndTextChanges:xe,emptyGridChangesIfQuickFindImprovementsEnabled:Fe,headerDialogOnTop:we,headerDialogPreventDismissOnScroll:Ne}))}return ke}),ht=(De=null,Me=null,function(e,t,r){return e&&(Me&&De===e&&!r||(Me=Object(n.__assign)({},e),e.Parameters&&(Me.Parameters=Object(n.__assign)({},e.Parameters),t&&e.Parameters[t]&&(Me.Parameters[t]=Object(n.__assign)({},e.Parameters[t]),e.Parameters[t].Columns&&(Me.Parameters[t].Columns=e.Parameters[t].Columns.slice(0)))),De=e)),Me}),gt=Object(A.s)(),mt=(Re=[],function(e,t,r,n,a,i,o,s,c,l,u){return Re&&Re.length&&Re.splice(0,Re.length),Re.push({name:V.b.IsGridRoot,value:e},{name:V.b.IsSubGrid,value:t},{name:V.b.IsAssociatedGrid,value:r},{name:V.b.EntityName,value:n},{name:V.b.ViewId,value:a},{name:V.b.IsEmptyFetch,value:i},{name:V.b.IsEmptyOfflineSqlQuery,value:o},{name:V.b.IsValidFetchXmlForOfflineUsage,value:s},{name:V.b.IsEntityAvailableForOfflineUsage,value:c},{name:V.b.OfflineConfigurationErrorCode,value:l},{name:V.b.RelatedEntityUnavailableOffline,value:u}),Re}),ft=(Le=null,function(e){return Le||(Le={isGridPaginationStateFeatureEnabled:Object(D.a)(e,k.zb),isAssociatedGridHeightEnabled:Object(R.e)(e),isChartOnAssociatedGridEnabled:Object(D.a)(e,k.x,k.h,k.i),isGridProgressIndicatorFeatureEnabled:Object(D.a)(e,k.Ab),isInMobileModeForOct2019:Object(q.b)(e),isJumpBarShouldHonorSortingFeatureEnabled:Object(D.a)(e,k.ac),isJumpbarFeatureForMobileEnabled:Object(D.c)(e,k.Kb),isSuiterChartEnabled:Object(D.a)(e,k.Od,k.h),isSuiterDashboardEnabled:Object(D.a)(e,k.Pd,k.h),isAdvancedFindEnabled:Object(J.a)(e),isDisableEditableGridControlOnPhoneFeatureEnabled:Object(D.c)(e,k.O),isInMobileModeForApril2020:Object(q.a)(e),isSubgridImprovementsEnabled:Object(D.c)(e,k.Md),isSubGridAutoCollapseEnabled:Object(D.a)(e,k.Jd,k.Lc),isSubGridRemoveMinHeightEnabled:Object(D.a)(e,k.Ld,k.Lc),isQuickFindImprovementsEnabled:Object(D.c)(e,k.ad),isShowAsButtonFirstEnabled:Object(D.c)(e,k.Bd),isColumnEditorButtonEnabled:Object(y.tb)(e),isQueueFilterPerfUCIEnabled:Object(D.c)(e,k.Zc)}),Le}),vt=(Ve={fetchXML:null,entityName:null,isOffline:null},Ge={error:!1,errorCode:null,relatedEntityUnavailableOffline:null},function(e,t,r,n){if(Ve.entityName!==r||Ve.fetchXML!==t||Ve.isOffline!==n)if(Object(w.k)(r)){var a=Object(w.b)(e,t);Ge={error:a.error,errorCode:a.error?I.LINKED_ENTITY_NOT_SUPPORTED:null,relatedEntityUnavailableOffline:a.relatedEntityUnavailableOffline},Ve={fetchXML:t,entityName:r,isOffline:n}}else Ge={error:!0,errorCode:I.ACTIVITY_ENTITY_NOT_SUPPORTED_OFFLINE},Ve={fetchXML:t,entityName:r,isOffline:n};return Ge});return function(t,r){var i,o=Object(h.w)(t),c=rt(t,r),l=Object(y.v)(t,r.id,c),u=c.relationshipName,v=c.roleOrd,_=Object(y.N)(t,r.id,c),C=Object(y.I)(t,r.id,c),S=Object(y.x)(t,r.id,c),O=r.descriptor,A=ve.bind(null,r,O),V=r.configuration,B=V&&V.CustomControlId?V.CustomControlId:null,q=Object(T.a)(t),W=Object(E.e)(t),H=Object(y.ab)(t,B)||(r.contextString===b.h.CUSTOM?b.g:null),Y=ae(r.contextString),J=ft(t),re=Object(y.A)(t,c,r),se=null,ce=!1,ue=null,pe=Object(y.t)(t,r.id,c),de=Object(y.C)(t,r.id,c);Y&&(se=Object(L.g)(t,r.id),J.isGridPaginationStateFeatureEnabled&&((ue=se.gridSortingInfo)&&(Object(x.a)(Ye)||Ye!==ue)&&(Ye=ue,ce=!0),pe&&(Object(x.a)(Ke)||Ke!==pe.customFilterXml)&&(Ke=pe.customFilterXml,ce=!0)),(de&&Object(x.a)(Je)||Je!==de)&&(Je=de,ce=!0));var ge=ht(V,H,ce),me=ge&&ge.Parameters?ge.Parameters[H]:null,be=ie(r.contextString),ye=ne(r.contextString),_e=!Object(N.b)(t),Ce=Object(y.jb)(t,c,r),Se=me&&!!me.DataProvider,Oe=me&&!!me.BoundViewParams,Ie=Object(g.x)(t),Te=Ie&&Ie.gridTotalRecordCountLimit?Ie.gridTotalRecordCountLimit:5e3,je=Object(y.ib)(t,r.id,c),Pe=le(r.configuration),Ee=le(r.configuration);if(null!=r.nonCompositionProps){var Ae=V&&V.FormFactor&&V.FormFactor.toString(),xe=Object(M.c)(r.nonCompositionProps.gridConfigurations,r.nonCompositionProps.viewConfigurations,V,null,b.h.GRID,Ae).map((function(e){return e.configuration.DisplayNameKey})),Fe=pt(t,xe);(!Qe&&""!==Object(m.c)(Fe,xe[0])||Qe!==Fe)&&(Qe=Fe)}var we=!!l,Ne=Object(y.T)(t,r.id,c)||(O&&O.Parameters&&O.Parameters.ViewId?a.a.parse(O.Parameters.ViewId):null),ke=Object(y.qb)(t,Ne,r.id),De=(null==ke?void 0:ke.isUserView)?p.b.userview:p.b.savedview,Me=null==ke?void 0:ke.queryType,Re=null==ke?void 0:ke.entityLogicalName;Re&&Re!==Ue&&(Ue=Re);var Le=Object(d.h)(t,Ue),Ve=!_e&&q===j.b.Web&&Y&&J.isAdvancedFindEnabled&&(null==Le?void 0:Le.IsValidForAdvancedFind);if(!He||e!==Ve){var Ge=Object(n.__spreadArrays)(I.labelList);Ve&&(Ge=Object(n.__spreadArrays)(Ge,[K.c.OpenAdvancedFiltersTitleAndAria]));var bt=pt(t,Ge);""!==Object(m.c)(bt,I.JUMPBAR_ALL_TITLE)?(He=bt,e=Ve):we=!1}var yt=Object(y.W)(t,B);yt&&yt!==We&&(We=yt);var _t=tt(t,r);le(r.configuration)&&(Object.assign(_t.bodyStyle,{flexDirection:"column"}),Object.assign(_t.bodyMobileStyle,{flexDirection:"column"}));var Ct=Object(y.F)(t,r.id,c)||(O&&O.Parameters&&O.Parameters[b.u]?O.Parameters[b.u]:null),St=Ct;Y&&(St=se.entityTypeName);var Ot=Object(F.b)(t,Ct);Le&&Le.Initialized===s.a.Initialized||Se||Oe||(we=!1);var It=Le?Le.DisplayName:"",Tt=Object(g.t)(t),jt=Object(d.i)(t,Ct),Pt=!(ke&&ke.fetchXML),Et=ke&&ke.viewId,At=vt(t,Pt?"":ke.fetchXML,Ue,_e),xt=!Pt&&!At.error,Ft=null!=ke&&Object(x.b)(ke.offlineSqlQuery),wt=Object(w.l)(t,Ue),Nt=mt(Y,ye,be,Ue,Et?Et.guid:null,Pt,Ft,xt,wt,At.error&&At.errorCode||"",At.error&&At.relatedEntityUnavailableOffline||""),kt=!((Y||be||ye)&&ke&&ke.fetchXML&&_e&&wt)||!Ft&&xt,Dt="";if(kt?wt||(Dt=I.ENTITY_NOT_AVAILABLE_IN_PROFILE):Ft?Dt=I.SQL_QUERY_NOT_AVAILABLE:At.error&&(Dt=At.errorCode),me){me.TargetEntityType&&Ct!==me.TargetEntityType&&(Ct=me.TargetEntityType),me.ExtraFilters=he(t,r,c,de,!1);var Mt=function(e,t,r,n,a){var i=[],o=Object(y.q)(e,t.id,r);if(o){var s=JSON.parse(o);if(s.conditions)for(var c=0,l=s.conditions;c<l.length;c++){var u=l[c];u.linkEntityExpressions&&(i=i.concat(u.linkEntityExpressions))}}var p=e.user&&e.user.userId,d=Object(D.c)(e,k.Zc),h=Object(y.ub)(e,n),g=Object(G.a)(n,p,r,d,h),m=g&&g.getFilterAndLinkedEntities(a&&void 0!==a.activityOrQueueFilterValue?a.activityOrQueueFilterValue:X.a,a&&!a.activityOrQueue);m&&m.linkEntities&&(i=i.concat(m.linkEntities));return(m=m||{filter:null,linkEntities:null}).linkEntities=i,m}(t,r,c,Ct,de);if(Mt&&Mt.filter&&(me.ExtraFilters?me.ExtraFilters.push(JSON.stringify(Mt.filter)):me.ExtraFilters=[JSON.stringify(Mt.filter)]),Mt&&Mt.linkEntities&&Mt.linkEntities.length>0){var Rt={Static:!0,Value:Object(U.b)(Mt.linkEntities)};if(me.LinkingInput){Rt=me.LinkingInput;var Lt=Object(U.a)(me.LinkingInput.Value);if(Lt){var Vt=new z.a;Lt.forEach((function(e){Vt.addLinkedEntity(e)})),Mt.linkEntities.forEach((function(e){Vt.addLinkedEntity(e)})),Rt.Value=Object(U.b)(Vt.getLinkedEntities())}}me.LinkingInput=Rt}if(Ne){var Gt=a.a.toString(Ne);Gt!==me.ViewId&&(me.ViewId=Gt)}else Ne=a.a.tryParseOrNull(me.ViewId);(O&&O.Parameters?"false"===O.Parameters[b.F.ENABLE_CONTEXTUALACTIONS]:null)&&(ge.Parameters[b.i]={Usage:1,Static:!0,Type:"Enum",Value:!1,Primary:!1})}Ct&&Ct!==ze&&(ze=Ct);var Bt=Object(d.r)(t,Ct)&&r.contextString===b.h.GRID?y.a:Ct,Xt=me&&me.CommandBarContext,Ut=et(t,r,Bt,Xt),zt=function(e,t,r){var n=Object(y.qb)(e,t,r);return n&&n.grid&&n.grid.rows&&n.grid.rows[0]&&n.grid.rows[0].cells}(t,Ne,r.id),qt=null==zt?void 0:zt.map((function(e){return e.name})),Wt=null==Xe?void 0:Xe.map((function(e){return e.name}));(JSON.stringify(qt)!==JSON.stringify(Wt)||(Ne&&Ne.guid)!==(Be&&Be.guid)||u===Ze&&v!==$e)&&(Be=Ne,$e=v,qe=(O&&O.Id?O.Id:"")+(new Date).getTime(),Xe=zt),u&&u!==Ze&&(Ze=u);var Ht=Object(y.o)(t,Ct),Qt=Ht?Ht.lookupAttribute:null;me&&(function(e,t,r,n,a,i,o){var s=Object(d.h)(e,n);if(s&&le(t.configuration)){var c=b.b;r.Columns||(r.Columns=[]),n!==y.a||a&&a.some((function(e){return e.name===c}))||r.Columns.find((function(e){return e.Name===c}))||r.Columns.push({Alias:c,DataType:"",Type:"",Name:c});var l=s&&s.PrimaryNameAttribute,u=a&&a.some((function(e){return e.name===l}));if(!l||u||r.Columns.some((function(e){return e.Name===l}))||r.Columns.push({Alias:l,DataType:"",Type:"",Name:l}),!Object(y.vb)(t.configuration.Parameters)){var p=Object(R.a)(s.PrimaryImageAttribute);p&&!r.Columns.find((function(e){return e.Name===p}))&&r.Columns.push({Alias:Q.d,DataType:"SingleLine.Text",Type:"",Name:p}),Object(D.a)(e,k.ub)&&i&&o&&(r.Columns.find((function(e){return e.Name===y.c}))||r.Columns.push({Alias:y.c,DataType:"Whole.None",Type:"",Name:y.c,PreventMetadataRequest:!0}),r.Columns.find((function(e){return e.Name===i}))||r.Columns.push({Alias:i,DataType:"Lookup.Simple",Type:"",Name:i}))}}}(t,r,me,Ct,Xe,Qt,!Object(x.a)(se)),function(e,t,r,n,a){if(!Object(y.vb)(t.configuration.Parameters))return;(null==a?void 0:a.some((function(t){var r;return(null===(r=Object($.a)(e,n,t.name))||void 0===r?void 0:r.Type)===ee.a.moneyType})))&&(r.Columns.some((function(e){return e.Alias===b.A}))||r.Columns.push({Alias:b.A,DataType:"Lookup.Simple",Type:"",Name:Q.w}))}(t,r,me,Ct,Xe));var Yt=!Ct||(Object(F.i)(Ct)||Object(F.g)(t,Ct,2,0)&&function(e,t){var r=!0;t&&t.forEach((function(t){if(t.relatedEntityName&&!(r=Object(F.g)(e,t.relatedEntityName,2,0)))return!1}));return r}(t,Xe)),Kt=Object(y.Y)(t,r.id,c),Jt=Kt?JSON.parse(Kt):null,Zt=Jt?Jt.totalResultCount:null,$t=Jt?Jt.pageSize:null,er=null!==Zt&&Zt>-1?0===Zt?Object(m.c)(He,I.NO_DATA_AVAILABLE):String.format(I.X_RECORDS_PRESENT,Zt):"",tr=gt(t,Y),rr=!(null!=q&&q===j.b.Native),nr=Object(y.rb)(t,null===(i=null==se?void 0:se.pageToEditedViewMapId)||void 0===i?void 0:i.guid,null==Ne?void 0:Ne.guid),ar={isEmptyOfflineSqlQuery:Ft,isEntityAvailableForOffline:wt,isOfflineSqlQueryAvailable:kt,offlineErrorMessageKey:Dt,isOfflineAvailableForUse:Object(Z.w)(t),offlineGridErrorTelemetryParams:Nt},ir=Object(te.d)(t),or=Object(f.c)(t,Be),sr=!_e&&q===j.b.Web&&Y&&J.isColumnEditorButtonEnabled&&!be&&!ye,cr=Object(y.ub)(t,Ct);return{showAdvancedFilter:Ve,isViewEdited:!!nr,isInitialized:we,viewId:Be,customFilter:pe,gridEntityTypeName:Ue,chartEntityTypeName:Ue,isUCIEntity:Ot,totalRecordCountLimitExceeded:Ce,chartProps:je?nt(t,r,c):null,viewDescriptor:ke,commandBarProps:A(b.E.COMMANDBAR_ENABLED,!0,b.F.ENABLE_CONTEXTUALACTIONS,H,!0)?at(t,r,c,O,Ut,_t):null,viewSelectorProps:St&&A(b.E.VIEWSELECTOR_ENABLED,!0,b.F.ENABLE_VIEW_PICKER,H)?it(t,r,c,St,Be,_t):null,queueFilterProps:V&&A(null,!0,b.F.ENABLE_QUEUEFILTER,H)?ot(t,r,c,Ct,_t):null,entityFilterProps:_e||!cr&&!Object(R.h)(t,Ze,be)?null:st(t,r,c,Ct,_t),jumpBarProps:A(b.E.JUMPBAR_ENABLED,Pe,b.F.ENABLE_JUMPBAR,H)&&fe(r)?ct(r,c,Ct,o.languageId,de?de.jumpBar:null,He):null,quickFindProps:A(b.E.QUICKFIND_ENABLED,!0,b.F.ENABLE_QUICKFIND,H)?lt(r,c,Ct,se):null,pagingProps:A(b.E.PAGING_ENABLED,Ee,null,H)?ut(r,c,Ct):null,contextToken:c,controlKey:qe,styles:_t,refreshCounter:_,pagingRefreshInput:C,pageNumber:S,ribbonId:Ut,semanticTag:oe(r.contextString),recordsPerPageSetting:Object(h.h)(t),userSetting:o,hasReadRolePrivilege:Yt,resourceStrings:He,switchVisualizationResourceStrings:Qe,entityTypeName:ze,primaryDataSetName:H,nestedGridDatasetName:We,viewportSm:Object(P.a)(t).sizes.Breakpoints.DimensionS,viewportM:Object(P.a)(t).sizes.Breakpoints.DimensionM,systemDefinedProperties:dt(t,r,c),platformType:Object(T.a)(t),isGridEditable:Object(y.vb)(V?V.Parameters:null),notificationMessage:er,totalResultCount:Zt,pageSize:$t,offlineProps:ar,isRTL:Object(h.g)(t),entityDisplayName:It,isOffline:_e,showChart:je,entityIconVectorName:jt,webResourceUrl:Tt,hasCustomDataProvider:Se,commandBarRefreshProps:tr,updatedConfiguration:ge,offlineGridErrorTelemetryParams:Nt,gridInput:se,gridTotalRecordsCountLimit:Te,gridSortingInfo:ue,nativeFilterExpression:J.isGridPaginationStateFeatureEnabled&&se?se.nativeFilterExpression:null,pageNumberForEnhancedPaging:J.isGridPaginationStateFeatureEnabled&&!rr&&se?se.gridPageNumber:null,userId:t.user&&t.user.userId||null,lookupAttributeForRecordHierarchy:Qt,fetchXML:re,viewType:De,savedQueryType:Me,featureControlProps:J,clientHostSubtype:W,backButtonEnabled:ir,originalView:or,showColumnEditor:sr,entityIsActivityType:cr}}}function he(e,t,r,n,a){if(!n)return[];var i=ae(t.contextString),o=ie(t.contextString),s=ne(t.contextString)&&Object(D.c)(e,k.bd),c=[];for(var l in n)c.push([l,n[l]]);var u=c.reduce((function(e,t){var r=t[0],n=t[1];return(i||o||s)&&"quickFind"===r||("activityOrQueueFilterValue"===r||"activityTypeSelectedValues"===r)||!n||e.push(n),e}),[]);if(a){var p=Object(y.t)(e,t.id,r);if(p&&p.customFilterXml){var d=Object(B.i)(p.customFilterXml),h=JSON.stringify(d);h&&u.push(h)}}else{var g=Object(y.q)(e,t.id,r);g&&u.push(g)}return u}function ge(e){var t=e.configuration&&"MscrmControls.SharepointAssociatedGrid.SharepointControl"===e.configuration.CustomControlId;return t||(t=e.configuration&&"MscrmControls.SharepointAssociatedGrid.SharepointControl"===e.configuration.Name),t}function me(e){if(!e&&"("!==e[0]||")"!==e[e.length-1])throw new Error(String.format("Resource string group must be in the format (A:a).  The format {0} is invalid.",e));var t=(e=(e=e.replace("(","")).replace(")","")).split(":");if(2!==t.length)throw new Error("Resource string group must have a search list defined.  E.g : (A:a).");return t}function fe(e){var t,r,n;return"no"!==(null===(n=null===(r=null===(t=e.configuration)||void 0===t?void 0:t.Parameters)||void 0===r?void 0:r.EnableJumpBar)||void 0===n?void 0:n.Value)}function ve(e,t,r,n,a,i,o){var s=e.dataSetUIOptions,c=n;if(o=!!Object(x.a)(o)||o,!s&&e.configuration&&e.configuration.Parameters){var l=e.configuration.Parameters[i];l&&l[b.f]&&(s=l[b.f])}var u=t&&t.Parameters&&t.Parameters[a]?"true"===t.Parameters[a]:o;return s&&r&&!Object(x.a)(s[r])&&(c=s[r]),c&&u}},slAZ:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"c",(function(){return i})),r.d(t,"f",(function(){return c})),r.d(t,"b",(function(){return o})),r.d(t,"e",(function(){return l}));var n=r("Sscr"),a="controls.addCustomFilter",i="controls.startCustomFilter",o="controls.endCustomFilter";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function s(e,t,r,i,o){var s=Object(n.v)(i);return{type:a,payload:{customFilter:o,entityLogicalName:r},meta:{pageId:e,controlName:t,contextKey:s}}}function c(e,t,r){var a=Object(n.v)(r);return{type:i,payload:{},meta:{pageId:e,controlName:t,contextKey:a}}}function l(e,t,r){var a=Object(n.v)(r);return{type:o,payload:{},meta:{pageId:e,controlName:t,contextKey:a}}}},uCYK:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("Sscr"),a="footer.visible";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function i(e,t,r){var i=Object(n.v)(t);return{type:a,payload:r,meta:{pageId:e,contextKey:i}}}},vqdi:function(e,t,r){"use strict";r.d(t,"a",(function(){return C}));var n=r("OROb"),a=r("lMVv"),i=r("sgPk"),o=r("C8Q/"),s=r("ig6i"),c=r("cm3g"),l=r("9r0m"),u=r("HSdq"),p=r("Sscr"),d=r("sOTk"),h=r("Gemh"),g=r("0hZT"),m=r("fE8x"),f=r("r454"),v=r("cZkS"),b=r("qC0c"),y=r("EcZf"),_=r("YEEA");function C(e,t,r,C,S,O,I,T){return void 0===I&&(I=!1),{type:"embeddedEntity.save",execute:function(C,j){var P,E=C.getState(),A=new l.a(r),x=Object(p.f)(T,A,t);switch(Object(d.l)(E,e)){case g.a:P=Object(h.R)(E,e,x);break;default:P=Object(u.ac)(E,e,x)}var F=Object(m.c)(E),w=Object(m.b)(E);if((F||w)&&"Dashboard"!==Object(d.l)(E,e)){var N=j.ScriptManager.getContainer(e).getEventManager();if(C.dispatch(N.runOnSave(T,1,null,r)))return Promise.reject(Object(_.b)(E,e,2200000005,""))}return C.dispatch(Object(n.c)(P,I,S)).then((function(n){var u=Object(h.qb)(E,new l.a(O),e),p=Object(a.h)(E,t),d=i.a.fromXmlAndSql(u.fetchXML,u.offlineSqlQuery,u.viewId,null,u.entityLogicalName,C.getState);return d.where(new o.a("eq",new s.a(t,p.PrimaryIdAttribute),new c.a(r))),C.dispatch(Object(y.d)(d.getQueryState())).then((function(){return n}))})).catch((function(e){return Object(b.a)(E,v.xb)&&P&&C.dispatch(Object(f.b)(P,!1)),Promise.reject(e)}))}}}},w82B:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));var n=r("cZkS"),a=r("9r0m"),i=r("G7N+"),o=r("9LTA"),s=r("8Fmj"),c=r("7dGM"),l=r("dUXI"),u=r("y5DA"),p=r("gBKR"),d=r("mGpW"),h=r("olrR"),g=r("Ww2r"),m=r("RlP9"),f=r("kl3Z"),v=r("+Z9T"),b=r("vUcA"),y=r("Z46F"),_=r("WS0f"),C=r("KDdL"),S=r("8ADW");function O(e,t,r){return{type:"chartData.retrieve.preReq_async",execute:function(n,O){var I=n.dispatch,T=n.getState,j=T(),P=S.b+".chartData.retrieve.preReq_async",E=e.visualizationId,A=e.viewId;return I(Object(h.a)(t,void 0,e.viewType,A)).then((function(){j=T();var n=Object(m.c)(j,A);if(!function(e,t,n,a){if(!n||!n.fetchXML)return Object(u.a)(e,t,Object(g.b)(e,l.g),a,r),!1;return!0}(j,I,n,e))return Promise.resolve(null);var h=I(Object(s.a)(t,e.visualizationType,E)),v=I(Object(d.e)(l.A));return Promise.all([h,v]).then((function(){var t,s;j=T();var h=Object(c.a)(j,E);if(function(e){if(e&&e.WebResourceId)return!0;return!1}(h))return Object(o.d)(j,I,a.a.toString(e.visualizationId),a.a.toString(e.viewId),r),Promise.resolve(e);if(!function(e,t,n,a){if(n){if(n.initialized===i.a.Error){var o=Object(b.a)(n.errorCode)||l.u;return t(Object(d.e)([o])).then((function(){var n=Object(g.b)(e,o);Object(u.a)(e,t,n,a,r)}),(function(){Object(u.a)(e,t,Object(g.b)(e,l.u),a,r)})),!1}return!!n.DataDescription||(Object(u.a)(e,t,Object(g.b)(e,l.o),a,r),!1)}return!1}(j,I,h,e))return Promise.resolve(null);e.initialized||(e.initialize(h.DataDescription,n.fetchXML,h.PresentationDescription,n.title,n.entityLogicalName,h.Name,h.PrimaryEntityTypeCode,!1),e.setupAggregationQueries());var m={},v=e.dataDefinition.allAttributeNamesByEntity;Array.from(v.keys()).map((function(e){var t=Array.from(v.get(e).keys());m[e]=t}));var y=Object(f.c)(n).filter((function(e){return-1===e.indexOf(".")}));if(y&&y.length>0){var S=n.entityLogicalName;S in m?(t=m[S]).push.apply(t,y):m[S]=y}try{var A=h.PresentationDescription,x=Object(C.a)(A);if(!Object(_.b)(A)&&x.length>0){var F=n.entityLogicalName,w=[];w.push(function(e,t){var r=t[2]?t[2].toLowerCase():"";if(r.substring(0,e.length)!==e)return"";return r.substring(e.length+1,r.length)}(F,x)),F in m?(s=m[F]).push.apply(s,w):m[F]=w}}catch(e){var N="Failed to retrieve entity metadata attributes for Chart Series with error : "+e.message;O.EventManager.ReportComponentFailure(P,Error(N))}return I(Object(p.e)(m)).then((function(){return e}))}),(function(t){return Object(u.b)(t.getNegativeErrorCode(),T(),I,Object(g.b)(T(),l.q),e,r),Promise.resolve(null)}))}),(function(t){var n=t&&!Object(v.a)(t.errorCode)&&t.errorCode,a=Object(b.a)(n),i=a?Object(g.b)(j,a):"retrieve chart failed. error code: "+y.a.getHexErrorCodeFromInt(n);return Object(u.a)(j,I,i,e,r),Promise.resolve(null)}))}}}var I=r("Fpc+"),T=r("qC0c");function j(e,t,r,s){return void 0===s&&(s=!1),{type:"chartData.retrieve.async",execute:function(l,u){var p=l.dispatch,d=l.getState,h=[];try{h.push({name:S.g,value:a.a.toString(e.viewId)}),h.push({name:S.h,value:a.a.toString(e.visualizationId)});var g=d(),m=e.visualizationId,f=a.a.toString(m),v=e.viewId,b=a.a.toString(v);if(!Object(C.b)(d,p,u,h,e,t,r))return Promise.resolve();var y=void 0,_=Object(T.c)(g,n.rd);return((y=_?Object(c.e)(g,e.getStorageKey()):Object(c.d)(g,f,b))===i.a.Initialized&&Object(c.b)(g,f,b)||y===i.a.Initializing)&&!s?Promise.resolve():(p(_?Object(C.d)(e.getStorageKey(),I.c):Object(C.c)(f,b,I.c)),p(O(e,t,r)).then((function(e){if(!e||e.isWebResourceChart)return Promise.resolve();var n=e;return p(Object(o.b)(n,t,r))})))}catch(e){return u.EventManager.ReportComponentFailure(C.f+".retrieveChartData",Error(e),S.b,h),Promise.reject(e)}}}}},whwt:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return y}));var n=r("Sscr"),a=r("uO/V"),i=r("8Fmj"),o=r("RlP9"),s=r("9r0m"),c=r("Gemh"),l=r("7dGM"),u=r("lMVv"),p=r("Zdrd"),d=r("cqI9"),h=r("z9yS"),g=r("mGpW"),m=r("dUXI"),f=r("JlqV"),v=r("zETL"),b="chart.showChart.update";function y(e,t,r){return{type:"chart.showChart.update.async",execute:function(b,y){var C=b.dispatch,S=b.getState,O=y.TraceManager.getTracer(a.z),I=a.x+".updateShowChartAction";try{O.info("Updating the show chart"),t||(t=Object(n.k)(S(),e));var T=S(),j=Object(n.v)(t),P=Object(c.T)(T,e,t),E=Object(o.c)(T,P),A=E&&E.entityLogicalName,x=Object(c.r)(T,e,t,A),F=Object(c.s)(T,e,t),w=Object(l.a)(T,x),N=w&&w.PrimaryEntityTypeCode,k=N&&Object(u.m)(T,parseInt(N,10));A&&k&&A!==k&&(x=null,F=h.a.savedvisualization);var D=Object(l.i)(T,A);if(x&&D&&D.chartTypes&&Object.keys(D.chartTypes).length>0){var M=s.a.toString(x);F=M in D.chartTypes[h.a[h.a.savedvisualization]]?h.a.savedvisualization:h.a.uservisualization}return r?Object(f.b)(S())?(C(Object(g.e)(m.A)).then((function(){C(Object(i.a)(A,F,x)).then((function(r){return s.a.isNullOrEmpty(r)?(F=h.a.uservisualization,C(Object(p.b)(e,t,F)).then((function(){return C(Object(i.a)(A,F,x)).then((function(e){return Promise.resolve(e)}))}))):Promise.resolve(r)})).then((function(n){var a=s.a.toString(n);Promise.all([C(Object(d.b)(e,t,a)),C(Object(p.b)(e,t,F)),C(_(e,j,r))]).then((function(){return y.EventManager.ReportComponentSuccess(I),C(Object(v.b)(e,t)),Promise.resolve()}))}))})).catch((function(e){return y.EventManager.ReportComponentFailure(I,Error("Retrieve resource strings for chart failed")),Promise.reject(e)})),Promise.resolve()):Promise.resolve():(C(_(e,j,r)),y.EventManager.ReportComponentSuccess(I),Promise.resolve())}catch(e){var R="Update the show chart failed with error : "+e.message;y.EventManager.ReportComponentFailure(I,Error(R))}}}}function _(e,t,r){return{type:b,payload:{name:"showChart",value:r},meta:{pageId:e,dataSetContextKey:t}}}},x6Ak:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("Sscr"),a="refresh.timer";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function i(e,t,r){var i=Object(n.x)(t);return{type:a,payload:null,meta:{pageId:e,contextKey:i,controlName:r}}}},xirW:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s}));var n=r("UOiB"),a=r("Sscr"),i=r("krRo"),o="attribute.notification.update";function s(e,t,r,s,c){return{type:"attribute.notification.add.clear.form.notification",sync:!0,execute:function(e,l){e.dispatch(function(e,t,r,s){if(s&&s.contextTokenType&&s.contextTokenType===n.a.GridRow)return Object(i.d)(e,s,t,r);var c=Object(a.x)(s);return{type:o,payload:r,meta:{pageId:e,contextKey:c,dataFieldName:t}}}(t,r,s,c))}}}},y5DA:function(e,t,r){"use strict";r.d(t,"c",(function(){return p})),r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return h}));var n=r("9LTA"),a=r("Ww2r"),i=r("dUXI"),o=r("BuSU"),s=r("Je7O"),c=r("cZkS"),l=r("qC0c"),u=r("9r0m");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
function p(e,t,r,n,o){var s=null;if(s=Object(a.b)(e,i.q),"function"==typeof r.get_ErrorCode)switch(r.get_ErrorCode()){case-2147093999:s=Object(a.b)(e,i.r);break;case-2147220960:s=Object(a.b)(e,i.o);break;case-2147164125:s=Object(a.b)(e,i.a);break;case-2147164130:case-2147164126:s=Object(a.b)(e,i.j);break;case-2147217149:s=Object(a.b)(e,i.i);break;case-2147217098:s=Object(a.b)(e,i.x);break;case-2147220969:case-2147187962:s=Object(a.b)(e,i.p);break;default:r.get_Message()&&(s=s+" "+r.get_Message())}d(e,t,s,n,o)}function d(e,t,r,a,i){var p;p=function(e){var t=Object(o.a)();return t.ErrorInformation=new s.a,t.ErrorInformation.set_ErrorDescription(e),t}(r),Object(l.c)(e,c.rd)?(t(Object(n.a)(a.getStorageKey(),p)),Object(n.e)(e,t,a.getStorageKey(),i)):(t(Object(n.c)(u.a.toString(a.visualizationId)||u.a.EMPTYGUIDSTRING,u.a.toString(a.viewId)||u.a.EMPTYGUIDSTRING,p)),Object(n.d)(e,t,u.a.toString(a.visualizationId)||u.a.EMPTYGUIDSTRING,u.a.toString(a.viewId)||u.a.EMPTYGUIDSTRING,i))}function h(e,t,r,n,o,s){d(t,r,-2147220960===e?Object(a.b)(t,i.o):n,o,s)}},ya7l:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("4Tx6"),a=r("Z1aD");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
function i(e,t,r,i,o,s,c,l){var u={powerBIEmbedUrl:t,powerBIGroupId:r,powerBIDashboardId:i,powerBITileId:o,powerBIReportId:s,powerBIReportUrl:c,powerBIComponentTypeCode:l};return Object(a.a)(n.a,u,e,{target:"dialog"})}},zvr0:function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return o}));var n=r("c/eZ"),a=r("Sscr"),i=r("uQP8"),o="control.update.unboundOutputs";function s(e,t,r,s){return{type:"control.update.unboundOutputs.async",execute:function(c){var l=c.dispatch,u=c.getState;if(!Object.keys(s).length)return Promise.resolve();var p=u(),d=Object(i.a)(p,e),h=!1,g=Object(a.v)(r),m=Object(n.__assign)({},d.forms[g].controlUnboundOutputs);for(var f in s){var v=s[f],b=t+"."+f;m[b]!==v&&(m[b]=v,h=!0)}return h&&l(function(e,t,r){return{type:o,payload:{controlUnboundOutputs:r},meta:{pageId:e,contextKey:t}}}(e,g,m)),Promise.resolve()}}}}}]),window.bundleExecutionMarkers["scripts/es5/kbarticlepage.js?v=1.4.9962-v91onpremise"].end=window.performance.now(),window.reportBundleExecutionTimes&&window.reportBundleExecutionTimes();