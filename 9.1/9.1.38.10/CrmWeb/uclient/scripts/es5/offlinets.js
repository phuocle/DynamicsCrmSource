(window.bundleExecutionMarkers=window.bundleExecutionMarkers||{})["scripts/es5/offlinets.js?v=1.4.9962-v91onpremise"]={begin:performance.now()},(window.__wpJsonpUci=window.__wpJsonpUci||[]).push([[24],{"+6eZ":function(e,t,n){"use strict";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
function r(e){var t=null;try{t=JSON.parse(e)}catch(e){}return t}
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function a(e){var t="";try{t=JSON.stringify(e)}catch(e){}return t}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}))},CqBl:function(e,t,n){"use strict";n.r(t),n.d(t,"offlineReducer",(function(){return ee})),n.d(t,"OfflineTypescriptInterface",(function(){return Mn})),n.d(t,"ConstructOfflineState",(function(){return O})),n.d(t,"createReInitializeOfflineAction",(function(){return v.b})),n.d(t,"getOfflineFeatureStatus",(function(){return a.p})),n.d(t,"getIsOfflineEnabled",(function(){return a.k})),n.d(t,"isOfflineAvailableForUse",(function(){return a.w})),n.d(t,"inOfflineEnabledProfile",(function(){return lt.a})),n.d(t,"getReInitializeOffline",(function(){return a.u})),n.d(t,"hasOfflineAvailableEntitiesOrProfileVersionHasChanged",(function(){return f})),n.d(t,"hasOfflineConfigurationExceptAvailableEntitiesChanged",(function(){return p})),n.d(t,"initializeOfflineLifecycleAsyncAction",(function(){return C.initializeOfflineLifecycleAsyncAction})),n.d(t,"isOldStateEmpty",(function(){return d})),n.d(t,"OfflineUpdateStateTree",(function(){return E})),n.d(t,"offlineUpdateStateTreeFromSessionState",(function(){return r.a})),n.d(t,"getXrmWebApiOfflineInstance",(function(){return jn})),n.d(t,"OfflineResourceIds",(function(){return Et}));var r=n("OJ8X"),a=n("c56u"),i=n("hRGi"),o=n("BvBP"),s=n("EGsq"),l=n("7EJx"),c=n("9r0m"),u=n("WS0f"),_=n("kh6f");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
function p(e,t){return(!c.a.equals(i.c(e),l.e(e))||o.c(e)!==s.s(e)||o.a(e)!==s.m(e)||o.b(e)!==s.r(e))&&(_.c.info("Offline.EvalulateOfflineStatus: returning true"),!0)}function d(e,t,n){if(Object(u.a)(e)||Object(u.a)(t))return _.c.info("Offline.isOldStateEmpty: returning true"),!0}function f(e){return i.d(e)!==l.f(e)||function(e,t){var n=!1,r=e.length,a=t.length;if(r!==a)n=!0;else for(var i=0,o=e;i<o.length;i++){var s=o[i];t.indexOf(s)<0&&(n=!0)}return n}(i.b(e),l.d(e))}var m=n("bH+A"),g=n("Ev4I");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
function h(e){return e&&e.offline&&e.offline.client&&e.offline.client.lastMetadataVersionUsedForValidation?e.offline.client.lastMetadataVersionUsedForValidation:null}
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */var b,S=n("rcZN");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */!function(e){e.ENTITY="entitylogicalname",e.OBJECTTYPECODE="objecttypecode",e.TRANSACTION_CURRENCY="transactioncurrency",e.BUSINESS_PROCESS_FLOW_INSTANCE="businessprocessflowinstance",e.SYSTEM_USER="systemuser"}(b||(b={}));var y=n("ygXU");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function O(e,t,n){var r=Object(a.c)(e),_=!!Object(o.e)(e)&&Object(a.a)(e),p=Object(i.c)(e);Object(u.a)(p)||c.a.equals(p,c.a.EMPTY)||c.a.equals(p,l.e(e))||(r=!0);var d=function(e,t){e&&((t=Object(u.a)(t)?[]:t).forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e.indexOf(m.a.OfflineCommandDefinition)<0&&e.push(m.a.OfflineCommandDefinition),e.indexOf(b.BUSINESS_PROCESS_FLOW_INSTANCE)<0&&e.push(b.BUSINESS_PROCESS_FLOW_INSTANCE));return e}
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */(l.d(e),function(e){return e&&e.metadata&&e.metadata.offlineBPFEntities?e.metadata.offlineBPFEntities.offlineBPFEntities:null}(e));return{server:{profileId:l.e(e),profileVersion:l.f(e),profileAvailableEntities:d,norsyncServerConnectionString:s.s(e),isTrialOrganization:s.r(e),isMocaOfflineFeatureEnabled:s.m(e)},client:{reInitializeOffline:t||Object(a.u)(e),offlineFeatureStatus:Object(a.p)(e),upSyncStatus:n?y.a.Pending:Object(S.b)(e),offlineDisabledEntities:g.h(e),offlineDisabledPrimaryEntities:g.i(e),offlineAvailablePrimaryEntities:g.g(e),entityPluralName:g.f(e),status:Object(a.q)(e),statusReason:Object(a.r)(e),errorCode:Object(a.n)(e),errorMessage:Object(a.o)(e),existingDatabaseName:Object(a.d)(e),isDbCleanupNeeded:r,isProfileChanged:Object(i.a)(e),lastMetadataVersionUsedForValidation:h(e),isCalculationOfDisabledEntitiesPending:g.c(e),applyApplicationMetadataChanges:_,isUserSelectOffline:Object(a.v)(e),isOfflineFirstTimeSyncCompleted:Object(a.l)(e)}}}function E(e){return{type:"offline.set.state.tree",payload:e}}var v=n("AqHJ"),C=n("GBfE"),T=n("ASFs"),N=n("c/eZ"),A=n("O3n1"),F=n("xC+Q");var D=n("gKZ6"),P=n("x9BS"),I=n("gFjC");var x=n("He+0"),L=n("nlyT"),R=n("pkDq"),w=n("H9DM"),M=n("hzb9"),j=n("AX1v"),k=n("L+41"),B=n("5iz+"),W=n("h/9p"),V=n("GUUD"),U=n("766A"),G=n("nK7r"),q=n("717U"),z=n("9xFr"),H=Object.freeze({offlineFeatureStatus:j.a.Default,status:k.a.NotAvailable,upSyncStatus:y.a.Pending,offlineDisabledEntities:[],entityPluralName:{},offlineDisabledPrimaryEntities:[],offlineAvailablePrimaryEntities:{},statusReason:B.a.None,errorCode:null,errorMessage:null,existingDatabaseName:"",isDbCleanupNeeded:!1,isProfileChanged:!1,lastMetadataVersionUsedForValidation:"",isCalculationOfDisabledEntitiesPending:!0,reInitializeOffline:!1,applyApplicationMetadataChanges:!1,clientVersion:"",applyingApplicationMetadataChanges:!1,isUserSelectOffline:!1,isSyncing:!1,isOfflineFirstTimeSyncCompleted:!1,isFirstApplyApplicationMetadataChangesDone:!1,isForcedSyncInProgress:!1,isImmediateOfflineDataSyncInProgress:!1,isFileSyncInProgress:!1});var K=n("zvmu"),X=n("fwX8"),Q=n("y+tj"),Y=n("uq+2"),J=n("UsTu"),Z=Object.freeze({profileId:c.a.EMPTY,profileVersion:"",profileAvailableEntities:[],norsyncServerConnectionString:"",isTrialOrganization:!1,isMocaOfflineFeatureEnabled:!1,subscriptionId:"",subscriptionErrorMessage:""});
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
var $={client:function(e,t){switch(void 0===e&&(e=H),t.type){case P.a:case"offline.profile.changed":case D.a:case"offline.datamodel.changed":case F.a:case x.a:case I.a:case L.b:case A.a:case v.a:case R.a:case w.a:case M.a:case W.b:case W.a:case L.a:case V.a:case U.a:case G.a:case W.c:case q.a:case q.b:case z.a:return Object.freeze(Object(N.__assign)(Object(N.__assign)({},e),t.payload));case"offline.set.state.tree":var n=t.payload;return Object.freeze(Object(N.__assign)(Object(N.__assign)({},e),n.client));default:return e}},server:function(e,t){switch(void 0===e&&(e=Z),t.type){case J.a:case K.a:case X.a:case Q.a:case Y.a:return Object.freeze(Object(N.__assign)(Object(N.__assign)({},e),t.payload));case"offline.set.state.tree":var n=t.payload;return Object.freeze(Object(N.__assign)(Object(N.__assign)({},e),n.server));default:return e}}},ee=Object(T.a)($),te=n("j+Rs"),ne=n("kvLG"),re=n("6JRL"),ae=n("QAhb"),ie=n("GUnN"),oe=n("F2uj"),se=n("6Jxj");function le(e,t){return{type:"offline.create.entity.record",execute:function(n,r){n.dispatch;var a=n.getState;return r.DataSource.createEmptyEntityRecord(e,null).nativePromise().then((function(n){return _.c.info("Was able to successfully create the empty record for "+e+" with default values"),Object(oe.a)(a(),e,se.b.TransactionCurrencyId)&&function(e,t,n){if(!t[se.b.TransactionCurrencyId]){var r=Object(l.b)(n);r&&(t[se.b.TransactionCurrencyId]=ae.a.toLegacyEntityReference(new ae.a(se.b.TransactionCurrency,r.transactionCurrencyId,r.currencyName)))}}(0,t,a()),Object.keys(t).forEach((function(e){n.setValue(e,t[e])})),n})).then((function(e){return r.DataSource.create(e,!0,null)})).then((function(e){var t;return _.c.info("Was able to successfully create the record in offline db for "+e.LogicalName+" id "+e.get_identifier()),(t={})[se.b.Id]=e.get_identifier(),t[se.b.LogicalName]=e.LogicalName,t})).catch((function(e){throw _.c.error("Unable to create record sucessfully "+Object(ie.e)(e)),e}))}}}var ce=n("lMVv"),ue=n("I4Vh"),_e=n("SApI"),pe=n("kJGL"),de=n("hFf+"),fe=n("MSdU"),me=n("/XLd");var ge,he=n("tvev"),be=n("MtCt"),Se=n("xh8K"),ye=n("29Rm"),Oe=function(e){this.dataType=null,this.value=null,this.value=e,this.dataType=Object.getType(e)};
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */!function(e){e[e.openBracket=0]="openBracket",e[e.closeBracket=1]="closeBracket",e[e.logicalOperator=2]="logicalOperator",e[e.operand=3]="operand"}(ge||(ge={}));
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
var Ee,ve=function(){function e(e){this.type=0,this.value=null,this.type=this._GetTokenType(e),this.value=e.toLowerCase()}return e.prototype._GetTokenType=function(e){switch(e.toLowerCase()){case"(":return 0;case")":return ge.closeBracket;case"and":case"or":case"not":return ge.logicalOperator;default:return ge.operand}},e}(),Ce=function(){function e(){this._parseFilterRegex="'.*?'|[^()\\s]+|[()]",this._operatorStack=[],this._operandStack=[]}return e.prototype.parse=function(t){for(var n=new RegExp(this._parseFilterRegex,e._ParseStringGlobally),r=t.match(n),a=0;a<r.length;a++){var i=r[a],o=new ve(i);switch(o.type){case 0:this._operatorStack.push(new Oe(o));break;case ge.closeBracket:this._EvaluateStack(!0);break;case ge.logicalOperator:this._CheckPrecendenceWithLastOperator(o.value)&&this._EvaluateStack(!1),this._operatorStack.push(new Oe(o));break;case ge.operand:if(!(a+2<r.length))throw Error.create(String.format("FilterParser: Improper Input string , exception raised after '{0}'",o.value));this._ExtractOperand(a,i,r),a+=2}}if(this._EvaluateStack(!0),1!==this._operandStack.length)throw Error.create("FilterParser: Error while evaluating expression : Input Expression seems to have improper construct");var s=this._operandStack.pop(),l=new Se.a(0,he.a.newGuid().toString());return this._AddToFilterExpression(l,s.value),l},e.prototype._EvaluateStack=function(e){for(;this._operatorStack.length>0;){var t=this._operatorStack.pop();if(!(t.value instanceof ve))throw Error.create("FilterParser:EvaluateExpression Error While Evaluating Stack");var n=t.value;if(!n.type){e||this._operatorStack.push(new Oe(t.value));break}if(n.type===ge.logicalOperator){var r=this._GetLogicalOperator(n.value),a=null;a=r===ye.a.Not?this._CreateFilterExpressionWithOperands(r,1):this._CreateFilterExpressionWithOperands(r,2),this._operandStack.push(new Oe(a))}}},e.prototype._ExtractOperand=function(e,t,n){var r=n[e+1],a=this._TrimSingleQuotes(n[e+2]),i=new be.a(t,this._GetConditionalOperator(r),a);this._operandStack.push(new Oe(i))},e.prototype._CreateFilterExpressionWithOperands=function(e,t){if(this._operandStack.length<t)throw Error.create("FilterParser:EvaluateExpression Error While Evaluating Stack :  Input Expression seems to have improper construct");for(var n=new Se.a(e,he.a.newGuid().toString()),r=0;r<t;r++){var a=this._operandStack.pop();this._AddToFilterExpression(n,a.value)}return n},e.prototype._AddToFilterExpression=function(e,t){t instanceof Se.a?e.addFilterExpression(t):t instanceof be.a&&e.addCondition(t.get_attributeName(),t.get_operator(),t.get_value())},e.prototype._TrimSingleQuotes=function(e){return e.startsWith("'")&&e.endsWith("'")&&(e=(e=e.substring(1,e.length)).substring(0,e.length-1)),e},e.prototype._CheckPrecendenceWithLastOperator=function(e){var t=!1;if(!this._operatorStack.length)return t;var n=this._Peek(this._operatorStack);if(n.value instanceof ve){var r=n.value;if(r.type){if(r.type===ge.logicalOperator){var a=this._GetLogicalOperatorPriority(r.value.toLowerCase());this._GetLogicalOperatorPriority(e.toLowerCase())>a&&(t=!0)}}else t=!1}return t},e.prototype._GetLogicalOperatorPriority=function(e){switch(e.toLowerCase()){case"not":return 1;case"and":return 2;case"or":return 3;default:throw Error.create(String.format("An invalid logical operator {0} passed as input parameter.",e))}},e.prototype._GetConditionalOperator=function(e){switch(e.toLowerCase()){case"eq":return"eq";case"ne":return"ne";case"gt":return"gt";case"lt":return"lt";case"ge":return"ge";case"le":return"le";default:throw Error.create(String.format("FilterParser: An invalid  conditional operator {0} passed as input parameter.",e))}},e.prototype._GetLogicalOperator=function(e){switch(e.toLowerCase()){case"not":return ye.a.Not;case"and":return 0;case"or":return ye.a.Or;default:throw Error.create(String.format("An invalid logical operator {0} passed as input parameter.",e))}},e.prototype._Peek=function(e){var t=e.pop();return e.push(t),t},e._ParseStringGlobally="g",e}(),Te=function(){function e(e,t){this._filterExpression=null,this._filterExpression=t}return e.prototype.get_filterExpression=function(){return this._filterExpression},e}(),Ne=function(){function e(e){this._expandTerms=null,this._expandTerms=e}return e.prototype.get_expandTerms=function(){return this._expandTerms},e}(),Ae=function(){function e(){this.text=null,this.position=0,this.kind=0}return e.prototype.GetText=function(){return this.text},e}();
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */!function(e){e[e.unknown=0]="unknown",e[e.end=1]="end",e[e.equal=2]="equal",e[e.openParenthesis=3]="openParenthesis",e[e.closeParenthesis=4]="closeParenthesis",e[e.comma=5]="comma",e[e.question=6]="question",e[e.identifier=7]="identifier"}(Ee||(Ee={}));
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
var Fe=function(){function e(e){this.text=null,this.textLength=0,this.currentchar=null,this.textPosition=0,this._token=null,this._alphaNumericRegex=new RegExp("[a-zA-Z1-9]","g"),this._whiteSpaceRegex=new RegExp("\\s+","g"),this.text=e,this.textLength=e.length,this._SetCurrentCharAndTextPosition(0),this._token=new Ae}return e.prototype._SetCurrentCharAndTextPosition=function(e){this.textPosition=e,this.currentchar=this.textPosition<this.textLength?this.text.charAt(this.textPosition):"\0"},e.prototype.nextToken=function(){return this._NextTokenImplementation()},e.prototype._NextTokenImplementation=function(){this._SkipWhiteSpace();var e=this.textPosition;return this._token.kind=this._GetExpressionTokenKind(),this._token.text=this.text.substr(e,this.textPosition-e),this._token.position=e,this._token},e.prototype.get_isValidWhiteSpace=function(){var e=this.currentchar.toString().match(this._whiteSpaceRegex);return"\0"!==this.currentchar&&!Object(u.a)(e)&&e.length>0},e.prototype.get_position=function(){return this._token.position},e.prototype.get_token=function(){return this._token},e.prototype.get_isValidCharForIdentifier=function(){return"\0"!==this.currentchar&&(this._IsAlphaNumeric(this.currentchar)||"_"===this.currentchar||"$"===this.currentchar)},e.prototype._IsAlphaNumeric=function(e){var t=e.toString().match(this._alphaNumericRegex);return!Object(u.a)(t)&&1===t.length},e.prototype._SkipWhiteSpace=function(){for(;this.get_isValidWhiteSpace();)this.nextChar()},e.prototype._GetExpressionTokenKind=function(){var e=0;switch(this.currentchar){case"(":this.nextChar(),e=Ee.openParenthesis;break;case")":this.nextChar(),e=Ee.closeParenthesis;break;case",":this.nextChar(),e=Ee.comma;break;default:if(this.get_isValidWhiteSpace()){this._SkipWhiteSpace(),e=0;break}if(this.get_isValidCharForIdentifier()){this._ParseIdentifier(),e=Ee.identifier;break}if(this.textPosition===this.textLength){e=Ee.end;break}throw Error.create("Unknown CharacterType Received")}return e},e.prototype.nextChar=function(){this.textPosition<this.textLength&&this.textPosition++,this.currentchar=this.textPosition===this.textLength?"\0":this.text.charAt(this.textPosition)},e.prototype._ParseIdentifier=function(){do{this.nextChar()}while(this.get_isValidCharForIdentifier())},e.prototype.advanceThroughBalancedParentheticalExpression=function(){var e=this.get_position();return this._AdvanceThroughBalancedExpression("(",")"),this.text.substr(e,this.textPosition-e)},e.prototype._AdvanceThroughBalancedExpression=function(e,t){for(var n=1;n>0;)this.currentchar===e?n++:this.currentchar===t&&n--,this.nextChar()},e}(),De=function(){function e(e){this._lexer=null,this._lexer=e}return e.prototype.parseTerm=function(){var e=this._lexer.get_token().GetText();return this._lexer.nextToken(),e},e}(),Pe=function(){function e(e,t){this._navigationProperty=null,this._selectOption=null,this._navigationProperty=e,this._selectOption=t}return e.prototype.get_navigationProperty=function(){return this._navigationProperty},e.prototype.get_selectOption=function(){return this._selectOption},e.prototype.get_expandTermString=function(){return this._GetExpandTermString()},e.prototype._GetExpandTermString=function(){var e=Object(u.a)(this._selectOption)?null:this._selectOption.get_attributeNames(),t=new Sys.StringBuilder;return t.append(String.format("$expand={0}",this._navigationProperty)),Object(u.a)(e)||t.append(String.format("($select={0})",e.join(","))),t.toString()},e}(),Ie=function(){function e(e,t){this._propertyName=null,this._optionsText=null,this._whiteSpacesRegex=new RegExp("\\s+","g"),this._propertyName=e,this._optionsText=t}return e.prototype._TrimBraces=function(e){var t=e.startsWith("("),n=e.endsWith(")");return t&&(e=e.substring(1,e.length)),n&&(e=e.substring(0,e.length-1)),e.trim()},e.prototype.buildExpandTermToken=function(){Object(u.a)(this._optionsText)||(this._optionsText=this._optionsText.replace(this._whiteSpacesRegex,""),this._optionsText=this._TrimBraces(this._optionsText),this._optionsText=this._optionsText.startsWith("?")?this._optionsText:"?"+this._optionsText);var e=Be(this._optionsText),t=null;for(var n in e){var r={key:n,value:e[n]};if("$select"!==r.key)throw Error.create(String.format("Query option {0} is not supported within $expand",r.key));t=ke(e.$select.toString())}return new Pe(this._propertyName,t)},e}(),xe=function(){function e(e){this._lexer=null,this._lexer=new Fe(e)}return e.prototype.parse=function(){return this._ParseCommaSepratedExpandList()},e.prototype._ParseCommaSepratedExpandList=function(){var e=[];if(this._lexer.nextToken(),this._lexer.get_token().kind===Ee.end)throw Error.create("Invalid Expand Expression passed");for(e.push(this._ParseSingleExpandTerm());this._lexer.get_token().kind===Ee.comma&&(this._lexer.nextToken(),this._lexer.get_token().kind!==Ee.end);)e.push(this._ParseSingleExpandTerm());if(this._lexer.get_token().kind!==Ee.end)throw Error.create("Improper Expand string provided");return new Ne(e)},e.prototype._ParseSingleExpandTerm=function(){var e=new De(this._lexer).parseTerm();this._ThrowIfValueNullorUndefined(e,"Relationship Name");var t=null;return this._lexer.get_token().kind===Ee.openParenthesis&&(t=this._lexer.advanceThroughBalancedParentheticalExpression(),this._lexer.nextToken()),new Ie(e,t).buildExpandTermToken()},e.prototype._ThrowIfValueNullorUndefined=function(e,t){if(Object(u.a)(e))throw Error.create(String.format("property {0} with value {1} is undefined",t,e))},e}(),Le=function(){function e(e,t){this._attributeName=null,this._direction=null,this._ThrowIfDirectionNotValid(t),this._attributeName=e,this._direction=Object(u.a)(t)?"asc":t}return e.prototype._ThrowIfDirectionNotValid=function(e){if(!Object(u.a)(e)&&"asc"!==e&&"desc"!==e)throw Error.create(String.format(" Invalid OrderBy Construct passed {0}",String.format("{0} {1}",this._attributeName,e)))},e.prototype.get_attributeName=function(){return this._attributeName},e.prototype.get_isDescending=function(){return!Object(u.a)(this._direction)&&"desc"===this._direction},e}(),Re=function(){function e(e){this._orderbyTermTokens=null,this._orderbyTermTokens=e}return e.prototype.get_orderByTermTokens=function(){return this._orderbyTermTokens},e}(),we=function(){function e(e){this._orderByString=null,this._orderByString=e}return e.prototype.parse=function(){var e=this,t=null;if(!Object(u.a)(this._orderByString)){var n=this._orderByString.split(",").map((function(t){return e._GetOrderByTermTokenInternal(t)}));t=new Re(n)}return t},e.prototype._GetOrderByTermTokenInternal=function(e){if(Object(u.a)(e)||!e.length)throw Error.create("Received Empty Orderby String");var t=null,n=null,r=0,a=e.indexOf(" ",r);if(-1!==a){if(t=e.substr(r,a-r),a!==this._orderByString.length){for(r=a;" "===e.charAt(r);)r++;n=e.substr(r,this._orderByString.length-r)}}else t=e;return new Le(t,n)},e}(),Me=function(){function e(e){this._attributeNames=null,this._attributeNames=e}return e.prototype.get_attributeNames=function(){return this._attributeNames},e}(),je=function(){function e(e){this._selectString=null,this._whiteSpaceRegex=new RegExp("\\s+","g"),this._selectString=Object(u.a)(e)?null:e.replace(this._whiteSpaceRegex,"")}return e.prototype.parseSelect=function(){var e=null;if(!Object(u.a)(this._selectString)){var t=this._selectString.split(",");e=new Me(t)}return e},e}();function ke(e){return new je(e).parseSelect()}function Be(e){var t={};if(!e||!e.length)return t;for(var n,r,a=1;a<e.length;){if(-1===(n=e.indexOf("&",a))&&(n=e.length),(r=e.indexOf("=",a))>n&&(r=-1),-1!==r&&r<n){var i=e.substr(a,r-a),o=e.substr(r+1,n-r-1);We(t,i),t[i]=o}a=n+1}return t}function We(e,t){if(!Object(u.a)(t)&&t in e)throw Error.create(String.format("Multiple occurrence of {0} option found in uri input.",t))}var Ve=function(){function e(e){this._queryParameters=null,this._expandToken=null,this._filterToken=null,this._selectToken=null,this._orderByToken=null,this._fetchXml=null,this._skipToken=null,this._requestUri=null,this._top=-1,this._requestUri=e}return e.prototype.get_expand=function(){if(this._ParsingRequired("$expand",this._expandToken)){var e=this.get_queryParameters().$expand.toString();this._expandToken=new xe(e).parse()}return this._expandToken},e.prototype.get_filter=function(){if(this._ParsingRequired("$filter",this._filterToken)){var e=this.get_queryParameters().$filter.toString();this._filterToken=(t=e,n=(new Ce).parse(t),new Te(t,n))}var t,n;return this._filterToken},e.prototype.get_select=function(){if(this._ParsingRequired("$select",this._selectToken)){var e=this.get_queryParameters().$select.toString();this._selectToken=ke(e)}return this._selectToken},e.prototype.get_requestUri=function(){return this._requestUri},e.prototype.get_queryParameters=function(){return(Object(u.a)(this.get_requestUri())||this.get_requestUri().length>0&&Object(u.a)(this._queryParameters))&&(this._queryParameters=Be(this.get_requestUri())),this._queryParameters},e.prototype.get_orderBy=function(){if(this._ParsingRequired("$orderby",this._orderByToken)){var e=this.get_queryParameters().$orderby.toString();this._orderByToken=function(e){return new we(e).parse()}(e)}return this._orderByToken},e.prototype.get_top=function(){if(-1===this._top&&"$top"in this.get_queryParameters()){var e=this.get_queryParameters().$top.toString();this._top=Number.parseLocale(e)}return this._top},e.prototype.get_skipToken=function(){return this._ParsingRequired("$skiptoken",this._skipToken)&&(this._skipToken=this.get_queryParameters().$skiptoken.toString()),this._skipToken},e.prototype.get_fetchXml=function(){return this._ParsingRequired("fetchXml",this._fetchXml)&&(this._fetchXml=this.get_queryParameters().fetchXml.toString()),this._fetchXml},e.prototype._ParsingRequired=function(e,t){return Object(u.a)(t)&&e in this.get_queryParameters()},e}(),Ue=n("xkx/"),Ge=n("VpsV");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
function qe(e,t,n,r,a,i,o,s){return Object(_e.b)(r,n,e).then((function(){var l=[];l.push({name:"RequestType",value:n});var u=Object(Ue.c)(e.getState()),p=Object(Ue.b)(e.getState());switch(l.push({name:"MDLSupportedForClientAPI",value:u}),l.push({name:"MDLSupportedForCUD",value:p}),n){case 0:var d=Object(_e.e)(Object.keys(i),r,e.getState());return Object(_e.a)(r,e,i,d),u&&p?Object(Ge.d)().then((function(t){return e.dispatch(t.oDataOfflineCreate(r,i,l)).then((function(e){return _.c.info("MDL Offline Create record operation successful for client api "),Promise.resolve(e)}),(function(e){return _.c.error("MDL Offline Create record operation failed for client api "+Object(ie.e)(e)),Promise.reject(e)}))})):e.dispatch(le(r,i)).then((function(e){return _.c.info("Create record operation successful for client api "),Promise.resolve(e)}),(function(e){return _.c.error("Create record operation failed for client api "+Object(ie.e)(e)),Promise.reject(e)}));case 1:var f=Object(_e.e)(Object.keys(i),r,e.getState());return Object(_e.a)(r,e,i,f),i[Object(ce.D)(e.getState(),r)]=he.a.tryCreate(a),e.dispatch(function(e,t,n){return{type:"offline.update.entity.record",execute:function(r,a){r.dispatch;var i,o=r.getState,s=new de.a(new fe.a(e,t[Object(ce.D)(o(),e)]),t,n,{},{},new me.a([]));return(i=s.get_changedFieldNames()).push.apply(i,Object.keys(t)),a.DataSource.update(s.get_actionableIdentifier(),s,!0,null).nativePromise().then((function(e){var t;return _.c.info("Was able to successfully update the record in offline db for "+e.LogicalName+" id  "+e.get_identifier()),(t={})[se.b.Id]=e.get_identifier(),t[se.b.LogicalName]=e.LogicalName,t})).catch((function(e){throw _.c.error("Unable to update the record in offline db "+Object(ie.e)(e)),e}))}}}(r,i,f)).then((function(e){return _.c.info("Update record operation successful for client api "),Promise.resolve(e)}),(function(e){return _.c.error("Update record operation failed for client api "+Object(ie.e)(e)),Promise.reject(e)}));case 3:return e.dispatch(function(e,t){return{type:"offline.delete.entity.record",execute:function(n,r){return n.dispatch,n.getState,r.DataSource.Delete(ae.a.toLegacyEntityReference(new ae.a(e,c.a.parse(t))),null).nativePromise().then((function(e){var t;return _.c.info("Was able to successfully delete the record in offline db for "+e.LogicalName+" id "+e.get_identifier()),(t={})[se.b.Id]=e.get_identifier(),t[se.b.LogicalName]=e.LogicalName,t})).catch((function(e){throw _.c.error("Unable to delete record in offline db "+Object(ie.e)(e)),e}))}}}(r,a)).then((function(n){return _.c.info("Delete record operation successful for client api "),Object(ue.a)(e,r,c.a.tryParse(a),t),Promise.resolve(n)}),(function(e){return _.c.error("Delete record operation failed for client api "+Object(ie.e)(e)),Promise.reject(e)}));case 4:var m=new Ve(o);return m?Object(_e.g)(n,r,m,e).then((function(t){return Object(pe.c)(r,a,m,t,e).then((function(e){return _.c.info("Retrieve record successful for client api "),Promise.resolve(e)}),(function(e){return _.c.error("Retrieve record operation failed for client api "+Object(ie.e)(e)),Promise.reject(e)}))}),(function(e){return _.c.error("Retrieve query option not valid with error "+Object(ie.e)(e)),Promise.reject(e)})):(_.c.info("oDataQueryRetrieveOptions is null in Retrieve for client api "),Promise.resolve({}));case 5:var g=new Ve(o);return g?Object(_e.g)(n,r,g,e).then((function(){return Object(pe.b)(r,g,s,e).then((function(e){return _.c.info("Retrieve multiple record operation successful for client api "),Promise.resolve(e)}),(function(e){return _.c.error("Retrieve Multiple query option not valid with error "+Object(ie.e)(e)),Promise.reject(e)}))}),(function(e){return _.c.error("Retrieve multiple record operation failed for client api "+Object(ie.e)(e)),Promise.reject(e)})):(_.c.info("oDataQueryRetrieveMultipleOptions is null in Retrieve multiple for client api "),Promise.resolve({}))}}),(function(e){return Promise.reject(e)})).catch((function(e){return Promise.reject(e)}))}var ze,He=n("So/t"),Ke=function(){function e(e,t){ze=e,this._pageId=t}return e.prototype.retrieveRecord=function(e,t,n){return qe(ze,this._pageId,4,e,t,null,n)},e.prototype.createRecord=function(e,t){var n=this;return qe(ze,this._pageId,0,e,null,t).then((function(e){return n._toLookupValue(e)}))},e.prototype.updateRecord=function(e,t,n){var r=this;return qe(ze,this._pageId,1,e,t,n).then((function(e){return r._toLookupValue(e)}))},e.prototype.deleteRecord=function(e,t){var n=this;return qe(ze,this._pageId,3,e,t,null).then((function(e){return n._toLookupValue(e)}))},e.prototype.retrieveMultipleRecords=function(e,t,n){return qe(ze,this._pageId,5,e,null,null,t,n).then((function(e){return{entities:e.value,nextLink:e["@odata.nextLink"]}}))},e.prototype.execute=function(e,t){var n=[],r=null;t&&"EntityLogicalName"in t&&(r=t.EntityLogicalName,n.push({name:"entityName",value:r}));var a=e.getMetadata().operationName;return Object(te.d)(ze,a,r).then((function(i){if(i)return ze.dispatch(Object(He.c)(e)).then((function(){return ze.dispatch(Object(te.h)(r,a,e,t)).then((function(e){return Object(te.a)(e)}))}));n.push({name:"requestName",value:a});var o="This request is not supported when offline";throw ne.a.getInstance().traceManager.getTracer("ClientApi.XrmWebApiOfflineInternal.execute").error(o,n),Object(re.d)(o+": "+a,2147762446,n)}))},e.prototype.isAvailableOffline=function(e){return Object(g.l)(ze.getState(),e)},e.prototype._toLookupValue=function(e){return{id:e[se.b.Id].toUpperCase(),entityType:e[se.b.LogicalName]}},e}(),Xe=n("xSKp"),Qe=n("5Ez/"),Ye=n("Auxa"),Je=n("Yd2f"),Ze=n("/j9Z"),$e=n("GYKs"),et=n("+Z9T"),tt=n("gBKR"),nt=n("2IT6"),rt=n("7pqb"),at=n("+6eZ"),it=n("LhLZ"),ot=n("w5lN");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function st(e,t){return{type:"offline.noncud.upsync.async",execute:function(n,r){var a,i=n.dispatch,o=n.getState,s=[],l=[],u=r.TraceManager.getTracer("Offline.Upsync");if(!e)return u.error("OFFLINE: OfflineNonCUDUpsyncAsyncAction: executeNonCUDUpSyncRequest: Required parameter is null or undefined : Command.ActionData"),Promise.reject(new Ze.a("Required parameter is null or undefined : ActionData"));u.warn("OFFLINE: OfflineNonCUDUpsyncAsyncAction: executeNonCUDUpSyncRequest: Adding parsed actionData to the serialized request array.");var p=[JSON.parse(e)];l.push(((a={})[rt.b.ActionType]=Object(_.b)(p),a));var d=[];return t&&Object.keys(t).forEach((function(e){var n;d.push(function(e,t){return i(Object(tt.f)(e,!1,["versionnumber"])).then((function(){return u.warn("OFFLINE: OfflineNonCUDUpsyncAsyncAction: executeNonCUDUpSyncRequest: Adding RetrieveRequest for "+e+" to the serialized request array."),p.push(Object(Je.a)(o(),new ae.a(e,new c.a(t)),["versionnumber"])),Promise.resolve()}),(function(e){return Promise.resolve()}))}(t[e],e)),l.push(((n={})[rt.b.EntityName]=t[e],n[rt.b.ActionType]="Get",n[rt.b.Id]=e,n))})),s.push({name:rt.b.ActionList,value:Object(at.b)(l)}),Promise.all(d).then((function(){u.warn("OFFLINE: OfflineNonCUDUpsyncAsyncAction: executeNonCUDUpSyncRequest: Building a batch request for the serialized requests.");var e=Object(Ye.a)(o(),p);return u.warn("OFFLINE: OfflineNonCUDUpsyncAsyncAction: executeNonCUDUpSyncRequest: Sending batch serialized request to be executed on OData endpoint."),r.DataSource.get_WebAPIService().sendRequest(e,s).then((function(e){return Object($e.b)(e).then((function(e){if(null!=e&&e.length>0){var t=e.find((function(e){return!e.ok}));return t?nt.c.throwCrmErrorFromResponse(t):(u.warn("Upsync.Success.NonCud",s),e)}}))})).catch((function(e){return e instanceof it.a?Object(et.c)({dispatch:i,getState:o},e).catch((function(t){return e.set_organizationServiceFault(ot.b.parseFromJsonRecord(t)),Promise.reject(e)})):Promise.reject(new it.a(null,"error",Object(ie.e)(e)))}))})).catch((function(e){return Object(_.a)(s,e),u.error("Upsync.Failure.NonCud",s),e instanceof it.a?Promise.reject(e):Promise.reject(new it.a(null,"error",e.get_error()))}))}}}var lt=n("k78Z"),ct=n("IfuP");var ut=n("hSyu"),_t=n("JlqV"),pt=n("pdOk"),dt=n("8egQ"),ft=n("H/RR");function mt(){return{type:"set.entity.plural.name.action",execute:function(e,t){var n=e.dispatch,r=e.getState,a=Object(i.b)(r());if(Object(u.a)(a)||0===a.length)return Promise.resolve();for(var o=!1,s=Object(g.f)(r()),l=function(e){var t={};for(var n in e){t[e[n][b.ENTITY]]=n}return t}(s=Object(u.a)(s)?{}:s),c=[],p=0,d=a;p<d.length;p++){var f=d[p];Object(u.a)(l[f])&&c.push(n(Object(tt.f)(f,!1,null)))}return Promise.all(c).then((function(){for(var e=r(),i=0,c=a;i<c.length;i++){var p=c[i];if(Object(u.a)(l[p])){var d=Object(ce.h)(e,p),f={};if(Object(u.a)(d)||Object(u.a)(d.ObjectTypeCode)||Object(u.a)(d.EntitySetName)){var m=Object(ce.h)(r(),p)?Object(ce.h)(r(),p).Id:null;_.c.error("Offline: OfflineEntityPluralNameAsyncAction: setOfflineEntityPluralNameAction: couldn't get the entity descriptor for "+m)}else f[b.ENTITY]=p,f[b.OBJECTTYPECODE]=d.ObjectTypeCode.toString(),s[d.EntitySetName]=f,_.c.info("Offline: OfflineEntityPluralNameAsyncAction: setOfflineEntityPluralNameAction: successfully got the metadata for "+p),o=!0}}for(var p in l)a.indexOf(p)<0&&(delete s[l[p]],o=!0);return o&&!Object(u.a)(s)&&Object.keys(s).length>0&&(n(Object(A.b)(s)),t.DataSource.saveSessionState(ft.a.OfflineEntityPluralNamesKey,s,!1)),_.c.info("Offline: OfflineEntityPluralNameAsyncAction: setOfflineEntityPluralNameAction: Complete"),Promise.resolve()})).catch((function(e){return _.c.error("Offline: OfflineEntityPluralNameAsyncAction: setOfflineEntityPluralNameAction: failed with error "+Object(ie.e)(e)),Promise.reject(e)}))}}}var gt=n("7WOp"),ht=n("qC0c"),bt=n("yZTI"),St=n("CO6B"),yt=n("4tno"),Ot=n("ouFk"),Et=["_common.styles.duration.htc_71","D1A3FDEE-DE35-43E0-8D04-629726F19C08","2C5BD24E-AF86-4179-9865-52359439BD0E","BE995A69-9CC9-4507-80E3-F46BD0797510","C9A1167E-2464-4E5C-A0B4-872B05B8F667","56796A28-3D03-49E0-8A96-78F796BB0E44","826F4F88-FF87-479D-B0CA-4CA19E481E53","Language_1025","Language_3076","Language_2052","Language_1028","Language_1029","Language_1030","Language_1043","Language_1033","Language_1035","Language_1036","Language_1031","Language_1032","Language_1037","Language_1038","Language_1040","Language_1041","Language_1042","Language_1044","Language_1045","Language_1046","Language_2070","Language_1049","Language_3082","Language_1053","Language_1054","Language_1055","Settings_App_Version","Settings_Brand_Title","Settings_Build_Timestamp","Settings_Client_Session_Id","Settings_Client_Version","Settings_Host_Session_Id","Settings_Host_Context_Id","Settings_Host_Version","Settings_Current_Time","Settings_ExternalCorrelation_Id","Settings_Last_Commit_Version","Settings_License_Terms","Settings_Oct2019_Preview_Notification","Settings_Apr2020_Preview_Notification","Settings_Oct2020_Preview_Notification","Settings_Org_Name","Settings_Preview_Notification","Settings_Privacy_Statement","Settings_Privacy_Statement_Link","Settings_Privacy_Statement_Link_Online","Settings_Server_Version","Settings_Server_Version_Format","ActivityContainerControl.SubjectEllipsesText","Web.Visualization.AxisTitle","Web.Visualization.AxisTitle.DateGrouping","Web.Visualization.EmptyAxisLabel","Web.Visualization.AxisTitle.AVG","Web.Visualization.AxisTitle.SUM","Web.Visualization.AxisTitle.COUNT","Web.Visualization.AxisTitle.COUNTCOLUMN","Web.Visualization.AxisTitle.CurrencySymbol","Web.Visualization.AxisTitle.DateGrouping.DAY","Web.Visualization.AxisTitle.DateGrouping.FISCALPERIOD","Web.Visualization.AxisTitle.DateGrouping.FISCALYEAR","Web.Visualization.AxisTitle.DateGrouping.MONTH","Web.Visualization.AxisTitle.DateGrouping.QUARTER","Web.Visualization.AxisTitle.DateGrouping.WEEK","Web.Visualization.AxisTitle.DateGrouping.YEAR","Calendar_Short_Months","Web.Visualization.Year.Quarter","Web.Visualization.Year.Week","FiscalYear_Format_String_NoSpace","PageLoadingMessage","Chart_NoData_Message","Chart_NoReadPrivilege","Chart_UnavailableOffline","Chart_UnreadableDefinition_Title","Chart_UnreadableDefinition_Message","Chart_Unsupported_Message","Chart_Retrieve_Error_Message","CRM_Personal_Visualization_Group_Name","CRM_System_Visualization_Group_Name","Visualization_EmptyGridMessage","OpenAssociatedGridViewImageButtonTooltip","OpenAssociatedGridViewImageButtonText","Error_Message_0x80061721","ChartAttributeValueMissing","Chart_Unsupported_Title","Error_Message_0x80048306","Error_Message_0x80040226","Visualization_QueryApiMessage","Error_Message_0x8004e023","Web.Visualization_Invalid_Attribute","Error_Message_Visualization_SQLArithmeticOverflow","Error_Message_Visualization_Not_Found","Web.Visualization_Invalid_Aggregate_Type","Error_Message_Visualization_Navigation","Error_Message_Visualization_Navigation_Detail","A4A4842B-7564-4BCF-B21D-4D6A78F17BE1","Error_Message_0x8004410e","Error_Message_0xffffe4a5","AppModule.APIError","Error_Title_Generic","Command_Flyout_Back","More_Commands","Ribbon_Menu_More","No_Options_Available","Web.CommandBar.ErrorLoading_Message","Web.CommandBar.Loading_Message","Web.CommandBar.MoreCommands_ToolTip","Command_Bar_Label","MenuItem_Label_Actions","CC_Error_Loading_Control","ErrorPopup.ErrorCode","ErrorPopup.SessionId","ErrorPopup.ActivityId","ErrorPopup.RequestId","ErrorPopup.Timestamp","ErrorPopup.ErrorDetailsLabel","Button_Label_OK","Error_Message_Incorrect_Error_Code","Error_Title_0x8004b056","Error_Title_0x80700000","Error_Title_0x8005e00c","Error_Title_Generic","L_Client_Session_Id","L_Correlation_Id","L_Current_Time","L_Server_Activity_Id","L_Show_Details_Text","L_Help_Label_Text","Web.Dialog.ErrorCode_Caption","Custom_Event_Event_Name","Custom_Event_WebResource_Name","Custom_Event_Solution_Name","Custom_Event_Publisher_Name","Area_Label_OtherContacts","Area_Label_ProductBundles","AsyncOperationAreaTitle","Audit.Incontext.AreaTitle","Button_Cancel","Button_Label_Close","Button_Label_Save_Footer","Button_Label_SaveContinue","Dialog_Button_DiscardChanges","Button_Label_SaveClose","CC_Duration_Day","CC_Duration_Days","CC_Duration_Hour","CC_Duration_Hours","CC_Duration_Minute","CC_Duration_Minutes","Crm.GenericErrorMessage","CRM_System_View_Group_Name","CRM_User_View_Group_Name","Dialog_Label_Active","Dialog_Label_Inactive","DocumentManagement.Navigation.Documents","Duplicates_Detected_Notification_Message","Duplicates_Ignore_And_Save","Duplicates_View_Duplicates","Error.ReadOnlyEntity","Error_Text_FormToastNotification","Error_Title_0x80040220","Error_Title_0x8004b056","Error_Title_0x8063111b","Flyout.KeyboardShortCut.Tab.NotAllowed","Footer_Caption","Footer_StatusControl_Save_ToolTip","Form_PopOut","FormEditor_Nav_ProcessSessions_Label","FormEditor_Nav_Workflows_Label","FormToastNotification_Success_Save_Message","Header_Fields_Label","ImportFailures_View","L_Create_And_Close_Button_Text","L_List_No_Records_Text","L_Lookup_New_Text","Local_Save_Record_Notification_Status_Message","LOCID_RESOLVE_INFO_TEXT","LOCID_RESOLVE_WARNING_TEXT","MA.List.ListMember.Details.MarketingList","MenuItem_Label_AddObject","MenuItem_Label_SaveAndNew","MenuItem_Label_SaveClose","FormDesigner.PropertiesTab.Options","NamePlural_Prod","NavBar_DetailedPage_Area_CS_SM","NavBar_DetailedPage_Area_IMA","NavBar_DetailedPage_Area_Info","NavBar_DetailedPage_Area_MA","NavBar_DetailedPage_Area_PROC","NavBar_DetailedPage_Area_PROCESS","NavBar_DetailedPage_Area_SFA","Object_Plural_Member","Object_Plural_Substitute","PageLoadingMessage","PageLoadingMessage.ExecuteOnload","PageLoadingMessage.RequestingData","PageLoadingMessage.RequestingDataFromExternalSource","ProcessControl.Configurator.Collapse","ProcessControl.Configurator.Expand","ProcessControl.Notification","ProcessControl.NotificationCount","ReadOnly","RecordSetNavigator.Button.Close.Tooltip","RecordSetNavigator.button.name","RecordSetNavigator.Button.Open.Tooltip","Related_Tab_Label","Role_Editor_Row_Name_Quick_Create","SavingInformation","SharePoint.Form.Saving","SolutionWizard.Button.Export.Tooltip","Tab_Label_Connections","Tab_Label_FeedBack","Tab_Label_History","Tab_Label_PlanningTasks","Tab_Label_RelatedCampaigns","Tab_Label_ResourceGroups","Tab_Label_Services","Tab_Label_TargetLists","Tab_Label_TargetProducts","Tab_Label_WebLeads","Tab_Label_Working_Hours","TabFlyout.KeyboardShortCut.Area","TabFlyout.KeyboardShortCut.Down","TabFlyout.KeyboardShortCut.Enter","TabFlyout.KeyboardShortCut.Escape","TabFlyout.KeyboardShortCut.Up","ToastNotification_Error","ToastNotification_Information","ToastNotification_Warning","UnSavedChangesWarning","Web.Form.RecordSave.Success","Web.NavBar.Go_Back","Web.NavBar.QC_ViewRecord","Web.Tools.FormEditor.TabName","AppDurationControl_Minute","AppDurationControl_Minutes","AppDurationControl_Hour","AppDurationControl_Hours","AppDurationControl_Day","AppDurationControl_Days","Error_Message_Double_Save","FooterFields.KeyboardShortCut.Area","FooterFields.KeyboardShortCut.Escape","FooterFields.KeyboardShortCut.Down","FooterFields.KeyboardShortCut.Up","Web.Footer.MoreFields","Grid_Paging_Mask","Error_Message_Generic_Mobile_Client","Error_Message_Generic","Error_Message_Generic_Instruction","Error_Message_0x8063111b","Error_Message_0x80040217","Web.NavBar.BreadCrumbBar_Text","UnSavedChanges_Title","Grid.Search.ViewTitle.Format","Error_Title_0x83215600","Error_Title_0x83215601","Error_Title_0x83215602","Error_Message_0x83215600","Error_Message_0x83215601","Error_Message_0x83215602","Web.Tabs.MoreTabs","Web.SemanticZoom.Button","Web.Form.EditForm.Label","Web.Header.MoreFields","HeaderFields.KeyboardShortCut.Escape","HeaderFields.KeyboardShortCut.Area","HeaderFields.KeyboardShortCut.Down","HeaderFields.KeyboardShortCut.Up","HeaderFields.More.Error","Field.Required.Error","Field.Number.Error","Field.Currency.Error","Field.Email.Error","Field.Guid.Error","Field.Information.SelectParent","Field.Information.IncompleteChain","Form_NameValuePair","Form_NotificationLabel_NameValuePair","L_InteractionWall_Title","Button_Label_Save","ConfirmSave_DiscardButton","Button_Label_Continue","Error_Title_0x83215607","Error_Message_0x83215607","Form_File_Uploading_Message","Form_Image_Uploading_Message","Form_Image_File_Upload_Fail_Message","Form_File_Upload_Cancelled_Message","Form_Image_Upload_Cancelled_Message","Model_Form_Component_No_Bound_Record_Message","Model_Form_Component_Loading_Message","Model_Form_Component_Unsaved_Linked_Data_Message","Model_Form_Component_Unsaved_Linked_Data_Title","Error_Message_0x80040507","Error_Message_0x80040333","Error_Title_0x80040265","Error_Message_0x80040265","Error_Message_0x80040224","Error_Message_0x80040e01","Error_Message_0x80041102","Error_Message_0x80042f0a","Error_Title_0x80060501","Error_Message_0x80060501","Error_Title_0x83215605","Error_Message_0x83215605","Error_Title_0x83215606","Error_Message_0x83215607","Error_Message_0x83215610","Web.NavBar.Go_Back","Web.NavBar.Help_Desc","Web.NavBar.Help_Title","Web.NavBar.Home_Desc","Web.NavBar.Home_Title","Web.NavBar.ImmersiveSkype_Desc","Web.NavBar.ImmersiveSkype_Title","Web.NavBar.Immersive_Skype_Caption","Web.NavBar.OfflineStatus_Desc","Web.NavBar.OfflineStatus_Title","Web.NavBar.Offline_Status_Caption","Web.NavBar.QuickCreateMenu_Desc","Web.NavBar.QuickCreateMenu_Title","Web.NavBar.Quick_Create_Menu_Caption","Web.NavBar.Relationship_Assistant_Caption","Web.NavBar.Relationship_Assistant_Desc","Web.NavBar.Relationship_Assistant_Title","Web.NavBar.Search_Desc","Web.NavBar.Search_Title","Web.NavBar.SeeWelcomeScreen_Desc","Web.NavBar.SeeWelcomeScreen_Title","Web.NavBar.See_Welcome_Screen_Caption","Web.NavBar.Settings_Caption","Web.NavBar.Settings_Desc","Web.NavBar.Settings_Title","Web.NavBar.Start_Task_Flow_Caption","Web.NavBar.TaskFlow_Desc","Web.NavBar.TaskFlow_Title","Web.NavBar.User_Information_Caption","Web.NavBar.User_Information_Desc","Web.NavBar.User_Information_Title","Web.NavBar.SiteMap","Web.NavBar.SettingsOpenNavTour_Caption","Web.NavBar.SettingsLearningPath_OptIn_Caption","Web.NavBar.SettingsLearningPath_OptOut_Caption","Web.NavBar.UserInfoEditImage_Caption","CRM_System_View_Group_Name","OpenAssociatedGridViewImageButtonTooltip","OpenAssociatedGridViewImageButtonText","OpenAllRecordsViewImageButtonText","OpenAllRecordsViewImageButtonToolTip","FormEditor_Default_Tab","Web__common_error_scriptError_aspx_Text0","CRM_User_View_Group_Name","Error_View_NotAvailable","Error_Entity_NotAvailable","Grid_Title_JumpBar_All","Grid_Selection_JumpBar_All","Grid_JumpBar_Number_ToolTip","Grid_JumpBar_Number_Indicator","Grid_JumpBar_Alphabet","Grid_Title_JumpBar_Letter","Grid_See_More_Tool_Tip","RollupView_Switch_On","RollupView_Switch_Off","RollupView_Switch_Label","CRM_Create_View","CRM_Create_View_Tooltip_Title","CRM_Create_View_Tooltip_Description","Web.View_Label_ViewByDate","GridFilters_SelectAll","ActivityMgmt_Label_ViewByActivityType","ActivityMgmt_Label_ViewByDate","Workplace_Queue_Selector_Title","Error_Message_0x80040226","Grid_Generic_Unknown_Error","CustomControl_Calendar_ErrorView_DefaultMessage","AdvancedFindSearchResultsViewName","Button_ToolTip_Go","Button_ToolTip_Clear","Field_Label_Find","Field_Label_Search_This_View","Field_Label_Search_Quick_Find_View","Search_Label_Search","View_Title_Tooltip","OnDefaultViewToolTip","SetDefaultViewToolTip","ttv_homepage_button_hideChart","ttv_homepage_button_showChart","Display_Entity_dashboard","Grid_JumpBar_AriaLabel","Grid_JumpBar_SelectedFilter","Grid_JumpBar_FilterBy_AriaLabel","Grid_JumpBar_Number_AriaLabel","Grid_JumpBar_Close_AriaLabel","Error.NonUCIEntity","JumpBar_Button_Text","Grid_Paging_Mask","Grid_StatusMessage_Mask","Grid_ItemsSelected_Mask","Grid_TotalCount_Mask","Grid_ToolTip_FirstPage","Grid_ToolTip_PreviousPage","Grid_ToolTip_NextPage","Grid_TotalCount_SpaceMask","Grid_TotalCount_Approximate","Grid_TotalCount_Exact","Grid_See_More_Label_Text","PickList_DateFilter_All","PickList_DateFilter_Next12Months","PickList_DateFilter_Next30Days","PickList_DateFilter_Next6Months","PickList_DateFilter_Next7Days","PickList_DateFilter_Next90Days","PickList_DateFilter_Overdue","PickList_DateFilter_Today","PickList_DateFilter_Tomorrow","PickList_Language_All","MobileClient.Commands.ChangeControl","Grid_See_All_Tool_Tip","Grid_See_All_Label_Text","Button_Label_Cancel","Menu_Label_MoreActions","Button_Label_Cancel","Button_Label_OK","Leave_Page_Text","Leave_This_Page","CustomControl_MaxLengthExceeded_Error","Invalid_Date_Time","Invalid_Decimal","IW_ExportTemplate_MaxValue","IW_ExportTemplate_MinValue","jqGrid.strings.integer","L_IsRequired_Error_Message_Text","Web._forms.styles.INPUT.eml.htc_20","Available_Offline","InteractionCentricUserEducation_SyncStep2","L_Initializing","L_Last_Save_To_CRM_Server_Text","L_Metadata_Changed","L_Metadata_Changed_Text","L_Offline_Available","L_Offline_Not_Available","L_Offline_DB_Not_Available","L_OfflineProfile_Not_Available","L_Sync_Failure","L_Upgrade_Client","Settings_Offline_DisableSync_Information_Message","Metadata_Dialog_Button_Skip","Metadata_Dialog_Button_Update","Metadata_Download_Confirmation","UC_Download_Metadata_Message","Not_Available_Offline","Sync_Status_Dialog_Title","Sync_Status_Error_Message","Error_See_More_Details_Grid","Grid_Loading_Placeholder","View_NotAvailable_In_Offline","Sql_Query_Not_Available","Entity_Not_Available_In_Profile","Offline_Not_Ready_For_Usage","Linked_Entity_Not_Supported_In_Offline","Activity_Entity_Not_Supported_In_Offline","Error_Message_Delete_Multiple_Offline","ServerUnavailableNotification_Title","ServerUnavailableNotification_Message","L_Reconnect_Text","Error_Message_0x8005f211","Error_Title_0x8005f211","offline_notification_text_header","offline_notification_text_body","offline_ui_blocker_notification_text_header","offline_ui_blocker_notification_text_body","offline_notification_reconnect_btn_text","offline_notification_cancel_btn_text","offline_notification_reconnect_fail_text_body","offline_notification_reconnect_progress_indicator_text","offline_notification_reconnect_success_text","Error_Parent_Record_AlreadyExists","offline_notification_user_offline_mode_text","Accessibility_Switch_On","Accessibility_Switch_Off","ToggleOption_title","progress_cancelButton_Label","Download_Progress_Spinner_Label","MoCA_OWA_Client_Download_Metadata_Message","Offline_Status_Dialog_Title","Button_Label_Download_Offline_Metadata","Status_Label","Learn_More_Label","Learn_More_Link_Label","Learn_More_Link_Accessibility_Label","Available_Entities_Label","Not_Available_Entities_Label","Available_Entities_Aria_Label","Not_Available_Entities_Aria_Label","CustomControl_OfflineEntities_InitialDataDownLoadErrorMessage","CustomControl_OfflineEntities_EstimatedTimeLeftLabel","Entity_Header_Label","Last_Sync_Date_Label","Last_Sync_Date_Today_Label","Last_Sync_Date_Yesterday_Label","Last_Sync_Date_At_Label","First_Sync_Complete_Notification","First_Sync_Complete_Notification_Offline_By_Default","Request_Apply_Metadata_Notification","Metadata_Download_Notification","Download_Progress","Offline_Date_Update_Completed","L_Offline_Updating","Available_Offline","MultiSession.NavigateBackButtonTooltip","MultiSession.NavigateBackButtonAriaLabel","Brand_CRM","Change_App_ToolTip","Brand_CRM_Desc","Brand_CRM_Short","Brand_CRM_Online","Brand_PowerApps","InteractionCentricNavBar_QuickCreate_Activities","Navigation_Area_Tooltip","Not_Available_Offline","ResourceCenter_Area_ToolTip","Web.NavBar.All_Areas","Web.NavBar.AppSwitcher_Caption","Web.NavBar.Back_Caption","Web.NavBar.Close_Site_Map","Web.NavBar.Favorites_And_Recent","Web.NavBar.HomeArrow_Caption","Web.NavBar.Navigate_Dynamics365","Web.NavBar.NavigationTip","Web.NavBar.Preview_Watermark_Caption","Web.NavBar.Sandbox_Watermark_Caption","Web.NavBar.Switch_App_Text","Web.NavBar.FocusMainPageContent_Text","SITEMAP_SUBACTION_NOTIFIER","SITEMAP_RECENT_PIN","SITEMAP_RECENT_UNPIN","SITEMAP_RECENT_ENTRY_PINNED","SITEMAP_RECENT_ENTRY_UNPINNED","SITEMAP_RECENT_PIN_BUTTON_LABEL","SITEMAP_RECENT_UNPIN_BUTTON_LABEL","SITEMAP_GROUP_FAVORITES","SITEMAP_GROUP_RECENTLY_USED","SITEMAP_APPS_BUTTON","Mru_Entity_Expand_Tooltip","Mru_Entity_Collapse_Tooltip","SitemapDesigner.Processing","Web.SitemapPanel.Recent","Web.SitemapPanel.Pinned","Web.SitemapPanel.PinnedStatus","Web.SitemapPanel.UnPinnedStatus","Web.SitemapPanel.NoRecentMessage","Web.SitemapPanel.NoPinnedMessage","Web.SitemapPanel.PinAriaLabel","Web.SitemapPanel.UnpinAriaLabel","Web.SitemapPanel.UnpinnedItemTooltip","Web.SitemapPanel.PinnedItemTooltip","Web.SitemapPanel.RecentItems","Web.SitemapPanel.PinnedItems","Web.SitemapPanel.ChangeAreaLabel","Web.SitemapPanel.AreaSwitcherTooltip","Web.SitemapPanel.AreaPaneLabel","Web.SitemapPanel.Recent.ExpandTooltip","Web.SitemapPanel.Recent.CollapseTooltip","Web.SitemapPanel.Pinned.ExpandTooltip","Web.SitemapPanel.Pinned.CollapseTooltip","Button_Label_Cancel","Dialog_Button_Ok","show.unsaved.changes.dialog.async","UnSavedChangesWarning","Web._forms.styles.FORM.crm.htc_Title","Web._forms.styles.FORM.crm.htc_TitleUpdated","UnSavedChanges_TitleUpdated","Button_Label_Keep_Editing","Discard_Message_Create","Discard_Message_Edit","Error_Entity_Not_Allowed","Error_Invalid_Value_For_Attribute","Error_UnexpectedError","Error_SQLExecutionError","Error_SQLGenerationError","Error_Record_NotFound","Error_RetrieveQuery_Option_NotSupported","Error_QueryOption_NotSupported","Error_NoQuery_Options_WithFetchXml","Error_FetchXml_Is_Invalid","Error_OrderByDirection_Is_Invalid","Error_TopQuery_Is_Invalid","Error_Entity_NavigationProperty_Is_Invalid","Error_Entity_NavigationProperty_Not_Defined","Error_QueryOption_Is_Invalid","Error_QueryOption_Is_Null","Error_Invalid_QueryOption_String","Error_Entity_Metadata_Not_Found","Error_Entity_Unavailable_Metadata_Mismatch","Error_Entity_Not_Enabled","Error_Invalid_Entity_Name","Error_Offline_Attribute_Not_Supported","Error_Invalid_Attribute","Error_Entity_Attribute_Metadata_Not_Found","Error_Operation_Without_Privilege","Error_OptionParam_Start_Incorrect","Error_Max_PageSize_NonPositive","Error_Max_PageSize_Not_Number","Error_Invalid_Id_Guid","Error_Invalid_Field_Value","Error_Mandatory_Parameter_IsNull","Error_MobileOffline_DataStore_Unavailable","Error_MobileOffline_Feature_Unavailable","Error_User_Opted_Off","Error_Offline_FCB_Off","Web__common_error_scriptError_aspx_BtnSendReport","Web__common_error_scriptError_aspx_BtnDoNotSendReport","Web__common_error_scriptError_aspx_Text1","Web__common_error_scriptError_aspx_Message","Web_Tools_personalsettings_dialogs_personalsettings_PrivacyTab_ViewPrivacy","Web__common_error_scriptError_aspx_ViewDetails","Mobile__common_error_scriptError_aspx_ViewHowToChangeSettings","Web__common_error_scriptErrorDetails_aspx_Title","Web__common_error_scriptErrorDetails_aspx_FirstLineOfReport","App_Modules_SubArea_Title","AppModuleLandingPage.PublishedAppsFilterText","AppModuleLandingPage.SearchMyApps","AppModuleLandingPage.NoApps","AppModuleLandingPage.NoAppsFoundChangeSearchCriteriaText","AppModuleLandingPage.NoOfflineApps","AppModuleLandingPage.NoMatchingSearch","CRM_Dynamics_Community","CRM_System_Dashboards_Group_Name","CRM_User_Dashboards_Group_Name","CRM_No_Dashboards_Group_Name","DashBoard_Selector_Text_UClient","Ribbon.DashboardTab.Actions.Refresh.Label","Ribbon.DashboardTab.Actions.OpenInPbi.Label","Ribbon.DashboardTab.Actions.UserDefault.Label","Ribbon.DashboardTab.Actions.ClearDefault.Label","Display_Entity_Grid_Page","Dashboard_LiveRegion_DateRangeFilter_Message","Dashboard_LiveRegion_Filter_Removed_Message","Dashboard_LiveRegion_GlobalFilter_Applied","Dashboard_LiveRegion_Initial_Message","Dashboard_LiveRegion_StreamView","Dashboard_LiveRegion_TileView","Dashboard_LiveRegion_VisualFilter_Applied","Dashboard_Tier2_TilesView_Title","VisualFilter_Expand_UClient","VisualFilter_Collapse_UClient","Queue_Panel_Switch_TileView_Text","Queue_Panel_Switch_StreamView_Text","GlobalFilter_Clear","GlobalFilter_CloseFilterPanel","GlobalFilter_Cancel","GlobalFilter_Filters","GlobalFilter_OpenFilterPanel_UClient","GlobalFilter_CloseFilterPanel_UClient","GlobalFilter_No_Attributes","GlobalFilter_ExpandAll","GlobalFilter_CollapseAll","GlobalFilter_Apply","Error_Message_0x8005f213","Error.BoundDashboardOffline","SliderControl_ClearButton","ViewSelectorAllActivities","ButtonText_ViewSyncErrors","DialogTitle_UnResolvedSyncErrors","Offline_SyncError_Records_Warning_Message","ButtonText_Signout","ButtonText_Reconfigure","DialogTitle_UnSyncedRecords","Offline_Records_Warning_Message","Ribbon.DashboardTab.Management.Edit.Label","Ribbon.DashboardTab.Management.Delete.Label","Ribbon.DashboardTab.Actions.Share.Label","Ribbon.DashboardTab.Actions.Assign.Label","Ribbon.DashboardTab.Management.SaveAs.Label","Dialog_Delete_Title","Dialog_Delete_Description","Dialog_Assign_Title","Dialog_Assign_DescriptionSingular","RelatedInformation_Category_FollowUp_Label_AssignTo","SystemCustomization.OwnershipType.UserOwned","Button_Label_Delete","Button_Label_Cancel","Button_Label_Assign","Error.DashboardNoComponents","Error.DashboardUnsupportedComponents","Search_Page_Title","Search_SearchWith_Label","Search_FilterWith_Label_No_Colon","Search_FilterOption_None","Ribbon.AdvancedFind.Show.Results","Web.Tools.personalsettings.dialogs.personalsettings.aspx_213","Web.Tools.personalsettings.dialogs.personalsettings.aspx_212","Search_Noresults_Message","Search_TextInput_Placeholder","Search.Accessibility.Multiple_CategorizedSearchResult","Search.Accessibility.Single_CategorizedSearchResult","Search.Accessibility.ResultLoading","Search_FilterWith_Label_No_Colon","Facet_RecordType","Facet_CreatedOn","Facet_ModifiedOn","Facet_Owner","ReportViewer_PageOf","Search.Accessibility.Search_box","Microsoft_Support","Form_Notification_ErrorLabel","Search.Accessibility.Scan_Barcode","Search.Accessibility.Barcode_Scanned","Search.Accesibility.ViewPreviousPage","Search.Accesibility.ViewNextPage","Button_Label_Add","Dialog_Lookup_Title_Multiple","Dialog_Lookup_Description_Single","TaskBasedFlow_Menu_Loading_Text","TaskBasedFlow_Menu_Empty_Text","TaskBasedFlow_Menu_Header_Text","Mobile_TaskBasedFlow_AppLauncher_Offline","Dialog_Reauthenticate_Dialog_Expired_Description","Dialog_Reauthenticate_Dialog_Description","Dialog_Reauthenticate_Signin_Button","Dialog_Reauthenticate_Cancel_Button","Dialog_Reauthenticate_Close_Button","Error_Message_0x80042F09","Error_Message_0x80042f0c","Error_Message_0x80040225","Error_Message_0x8004032c","Error_Message_0x8005f215","Error_Message_0x80154b50","Error_Message_0x8004D24B","Error_Message_0x80072560","Error_Message_0x8004A104","Error_Message_0x8004a113","ErrorIconAltWarning","ErrorIconAltInformation","PersonalisationSettingHeader","Settings_Mobile_Settings","Settings_ToastNotification_Title","Settings_App_Page","Settings_About","Settings_License_Terms_Link_IPad","Settings_License_Terms_Link_IPhone","Settings_License_Terms_Link_Android","Settings_License_Terms_Link_AndroidPhone","Settings_License_Terms_Link_Windows","Settings_License_Terms_Link_WindowsPhone","Settings_Signout","Settings_Reconfigure","Settings_NativeApp_SettingsScreenTitle","Settings_NativeApp_ProfileScreenTitle","Settings_NativeApp_Personal","Settings_NativeApp_Personal_TimeZone","Settings_NativeApp_Personal_RecordsPerPage","Settings_NativeApp_Personal_Calendar","Settings_NativeApp_Personal_CalendarDefaultView","Settings_NativeApp_Personal_CalendarView_Day","Settings_NativeApp_Personal_CalendarView_Week","Settings_NativeApp_Personal_CalendarView_Month","Settings_NativeApp_Personal_WorkHours","Settings_NativeApp_Personal_WorkHours_Start","Settings_NativeApp_Personal_WorkHours_End","Settings_NativeApp_Device","Settings_NativeApp_Device_LocationAndContent","Settings_NativeApp_Device_LocationAndContent_LegalNotice","Settings_NativeApp_Device_Camera","Settings_NativeApp_Device_SavePhoto","Settings_NativeApp_Device_ImageResolution","Settings_NativeApp_Device_ImageResolution_Default","Settings_NativeApp_Device_IncreaseToastDuration","Settings_NativeApp_Device_OfflineSync","Settings_NativeApp_General","Settings_NativeApp_General_TermsOfUse","Settings_NativeApp_General_PrivacyStatement","Settings_NativeApp_General_SessionDetails","Settings_NativeApp_Status_Init","Settings_NativeApp_Status_InitError","Settings_NativeApp_Status_Offline","Settings_NativeApp_Status_SaveError","Settings_NativeApp_Alert_Title","Settings_NativeApp_Alert_Ok","Settings_NativeApp_Alert_Cancel","Settings_NativeApp_Screen_Back","Settings_NativeApp_Screen_Close","RecordClosed.SyncError.Notification.Error.Text","Ribbon.DashboardTab.Management.New.Label","Ribbon.DashboardTab.Management.New.ToolTipDescription","Ribbon.DashboardTab.Management.PowerBIDashboard.Label","Ribbon.DashboardTab.Management.PowerBIDashboard.ToolTipDescription","Ribbon.DashboardTab.Management.CRMDashboard.Label","Ribbon.DashboardTab.Management.CRMDashboard.ToolTipDescription","Inactivity_Dialog_Warning_Description","Inactivity_Dialog_Error_Description","Inactivity_Dialog_Continue_Button","ErrorIconAltWarning","ErrorIconAltInformation","CustomControl_Calendar_AllDayItem","CustomControl_Calendar_Today","CustomControl_Calendar_WeekView","CustomControl_Calendar_MonthView","CustomControl_Calendar_DayView","CustomControl_Calendar_ErrorView_DefaultMessage","CustomControl_Calendar_ViewMore","ProcessControl.RequiredStepTooltip","Settings_ToastNotificationDialog_Text_ToastNotifacation_Default","Settings_ToastNotificationDialog_Text_ToastNotifacation_Extended","SubArea_InvalidSitemapConfig_Error_Title","SubArea_InvalidSitemapConfig_Error_Message","AppModule.AccessDenied_Title","AppModule.AccessDenied_Message","TaskBasedFlow_Button_Next","TaskBasedFlow_Lookup_Label","Mobile_Error_On_Page_Message","Mobile_TaskBasedFlow_Error_When_Saving_Message","Mobile_TaskBasedFlow_UnableToSave_Message","Error_Title_0x80040220","Mobile_TaskBasedFlow_Offline_Title","Mobile_TaskBasedFlow_Offline_Message","Mobile_TaskBasedFlow_CloseDiscard_Text","Mobile_TaskBasedFlow_ReturnToTaskFlow_Text","Mobile_TaskBasedFlow_DiscardChanges_Text","Mobile_TaskBasedFlow_Error_When_Saving_Title","Mobile_TaskBasedFlow_Error_When_Saving_Message","TaskBasedFlow_Lookup_Label","TaskBasedFlow_Button_Next","Web.AppNavTour.Continue","Web.AppNavTour.DontShowAgain","Web.AppNavTour.DontShowAgainSmall","WelcomePageTitle","NavBar_DetailedPage_Area_AO","Error_Message_0x80061721","Error_Message_0x8005F249","Error_Message_0x8005F24A","Error_Message_0x8005F24B","Quick_Setup_Text","Quick_Setup_Visited_Text","Quick_Setup_Not_Visited_Text","Quick_Setup_Selected_Text","Close_Text","Previous_Text","Next_Text","Settings_Setup_Text","Menu_Text","Settings_Group_Text","App_Shell_Break_Point_Text","Collapse_Group_Text","Expand_Group_Text","Hide_Settings_Text","Show_Settings_Text","Quick_Setup_Close_Tooltip","PageLoadingMessage","offline.metadata.confirm.dialog.async","offline.metadata.downlaod.async","Update_Metadata_Prompt_Title","Workplace_Queue_Selector_All","Workplace_Queue_Selector_Public","Workplace_Queue_Selector_Private","Dashboard_Editor_Open_Title","Dashboard_Editor_Open_Message","Dashboard_Editor_Open_Confirm_Button","Dashboard_Header_Label","Command_Flyout_Loading","FlyoutButton.Aria.Description","Open_More_Flyout","Split_Button_More_Flyout","Split_Button","Ribbon.VisualizationTab.Management.Expand.Label","Side_Panel_Accessibility_Label","GlobalFilter_SaveFilter_Toast_Delete_Success","GlobalFilter_SaveFilter_Toast_Delete_Error","Ribbon.DashboardTab.Actions.YammerButton","QuickEditForm_MaxNumberReached_Title","Error_Message_0x80071156","NOTIFICATIONS_COUNT_MESSAGE_BAR","Form_ReadOnly_Notification_Message","Form_Notification_LongMessage_Expand_Text","Form_Notification_LongMessage_Truncate_Text","Form_ReadOnly_Status","Form_ReadOnly_Permissions_Entity","Form_ReadOnly_Permissions_Record","Form_ReadOnly_Offline","Error_Message_0x8005f1f5","Error_Message_0x8005f1f8","Error_Message_0x8005f1f9","Error_Title_0x80040217","Error_Message_0x8005f20c","Error_Title_0x8005f20c","Error_Message_0x8005f1fe","Error_Message_0x8005f1ff","Error_Message_0x8005f200","Error_Title_0x8005f206","Error_Message_0x8005f206","Error_Title_0x8005f207","Error_Message_0x8005f207","Error_Title_0x8005f208","Error_Message_0x8005f208","Error_Title_0x8005f209","Error_Message_0x8005f209","Error_Title_0x8005f20b","Error_Message_0x8005f20b","Error_Message_0x8005f1fd","Error_Title_0x80043e09","Error_Message_0x80043e09","Error_Title_0x80043e08","Error_Message_0x80043e08","Error_Message_0x8005f1fc","Error_Title_0x83215603","Error_Message_0x83215603","InlineEditControls.SelectToEnter","Web.NavBar.Back_Caption","UCI_LongPressHome_Hint","ActionCard.CFC.Menu.SendFeedback","Grid_AdvancedFilter_AdvancedFilters","GlobalFilter_Cancel","Button_Label_Apply","Web.SFA.Workflow.Variables.Add","MenuItem_Label_AddRow_SentenceCase","MenuItem_Label_AddGroup_SentenceCase","Web.SFA.Workflow.Variables.Delete","Web._controls.listedit.buttons.MoveUp","Web._controls.listedit.buttons.MoveDown_SentenceCas","Grid_AdvancedFilter_MakeGroup","AF_MenuItem_UnGroup","AF_Text_And","AF_Text_Or_SentenceCase","MenuItem_Label_AddRelatedEntity_SentenceCase","Grid_AdvancedFilter_RelatedEntityPlaceholder","Audit.Incontext.Filters.AttributesGroup","Web._tools.search.search.js_12_8_SentenceCase","Audit.Incontext.Filters.AttributesGroup","Grid_AdvancedFilter_DoesNotContainDataWarning","Grid_AdvancedFilter_ManyToOne","Grid_AdvancedFilter_OneToMany","Grid_AdvancedFilter_ManyToMany","Grid_AdvancedFilter_NoRelationships","AF_Aria_MoreCommands","AF_Aria_RowSelector","AF_Aria_GroupSelector","AF_MenuItem_Expand","AF_MenuItem_Collapse","AF_Aria_GroupExpand","AF_Aria_GroupCollapse","AF_Error_QuickFindView","Grid_AdvancedFilter_ErrorMalformed","Grid_AdvancedFilter_InvalidField","Grid_AdvancedFilter_FieldSelector","Web.SFA.Workflow.AssignValueDialog.Operator","SystemCustomization.BusinessRules.ConditionOperator.CONTAINS","SystemCustomization.BusinessRules.ConditionOperator.DOESNOTCONTAIN","SystemCustomization.BusinessRules.ConditionOperator.BEGINSWITH","SystemCustomization.BusinessRules.ConditionOperator.DOESNOTBEGINWITH","SystemCustomization.BusinessRules.ConditionOperator.ENDSWITH","SystemCustomization.BusinessRules.ConditionOperator.DOESNOTENDWITH","SystemCustomization.BusinessRules.ConditionOperator.NOTNULL","SystemCustomization.BusinessRules.ConditionOperator.ISNULL","CustomControl_Grid_Filtering_ConditionOperator_Equals","CustomControl_Grid_Filtering_ConditionOperator_DoesNotEqual","CustomControl_Grid_Filtering_ConditionOperator_Greater","CustomControl_Grid_Filtering_ConditionOperator_GreaterOrEqual","CustomControl_Grid_Filtering_ConditionOperator_Less","CustomControl_Grid_Filtering_ConditionOperator_LessOrEqual","ViewDesigner.RecordFilter.quarter","FiscalYear_Format_String_NoSpace","Web._tools.search.search.js_16_0","CustomControl_Grid_Filtering_ConditionOperator_OnOrAfter","ViewDesigner.RecordFilter.on_or_before","Web._tools.search.search.js_16_3","Web._tools.search.search.js_16_4","Web._tools.search.search.js_16_5","Web._tools.search.search.js_16_6","Web._tools.search.search.js_16_7_SentenceCase","Web._tools.search.search.js_16_8_SentenceCase","Web._tools.search.search.js_16_9_SentenceCase","Web._tools.search.search.js_16_10_SentenceCase","Web._tools.search.search.js_16_11_SentenceCase","Web._tools.search.search.js_16_12_SentenceCase","Web._tools.search.search.js_16_13_SentenceCase","Web._tools.search.search.js_16_14_SentenceCase","Web._tools.search.search.js_16_15_SentenceCase","Web._tools.search.search.js_16_16_SentenceCase","AF_Option_LastXHours_SentenceCase","AF_Option_NextXHours_SentenceCase","AF_Option_LastXDays_SentenceCase","AF_Option_NextXDays_SentenceCase","AF_Option_LastXWeeks_SentenceCase","AF_Option_NextXWeeks_SentenceCase","AF_Option_LastXMonths_SentenceCase","AF_Option_NextXMonths_SentenceCase","AF_Option_LastXYears_SentenceCase","AF_Option_NextXYears_SentenceCase","Search.Time.Range.Anytime","AF_Option_OlderThanXMinutes_SentenceCase","AF_Option_OlderThanXHours_SentenceCase","AF_Option_OlderThanXDays_SentenceCase","AF_Option_OlderThanXWeeks_SentenceCase","AF_Option_OlderThanXMonths_SentenceCase","AF_Option_OlderThanXYears_SentenceCase","AF_Option_InFiscalYear_SentenceCase","AF_Option_LastFiscalYear_SentenceCase","AF_Option_ThisFiscalYear_SentenceCase","AF_Option_NextFiscalYear_SentenceCase","AF_Option_LastXFiscalYears_SentenceCase","AF_Option_NextXFiscalYears_SentenceCase","AF_Option_InFiscalPeriod_SentenceCase","AF_Option_LastFiscalPeriod_SentenceCase","AF_Option_ThisFiscalPeriod_SentenceCase","AF_Option_NextFiscalPeriod_SentenceCase","AF_Option_LastXFiscalPeriods_SentenceCase","AF_Option_NextXFiscalPeriods_SentenceCase","AF_Option_InFiscalPeriodAndYear_SentenceCase","AF_Option_InOrAfterFiscalPeriod_SentenceCase","AF_Option_InOrBeforeFiscalPeriod_SentenceCase","Web._tools.search.search.js_17_4_SentenceCase","Web._tools.search.search.js_17_5_SentenceCase","AF_Option_EqUserLanguage_SentenceCase","Web._tools.search.search.js_17_0_SentenceCase","Web._tools.search.search.js_17_1_SentenceCase","Web._tools.search.search.js_19_1_SentenceCase","Web._tools.search.search.js_19_2_SentenceCase","Web.SFA.Workflow.UnderOperator","Web.SFA.Workflow.NotUnderOperator","ViewDesigner.RecordFilter.above","CustomControl_Calendar_ViewMore","ViewDesigner.RecordFilter.eq_or_above_SentenceCase","ViewDesigner.RecordFilter.eq_or_under_SentenceCase","OwnershipOperator_EqualsCurrentUserOrHierarchy_SentenceCase","OwnershipOperator_EqualsCurrentUserOrHierarchyAndTeams_SentenceCase","OwnershipOperator_EqualsCurrentUserTeams_SentenceCase","OwnershipOperator_EqualsCurrentUserOrUserTeams_SentenceCase","Grid_AdvancedFilter_LoadingResults","KMControl.SearchKMArticles.NoResults","AF_Error_NoValues","Web.SFA.Workflow.AssignValueDialog.Value","Dialog_Disassociate_Header","Grid_AdvancedFilter_NoValue","Grid_AdvancedFilter_MinValue","Grid_AdvancedFilter_MaxValue","Grid_AdvancedFilter_MaxPrecision","Grid_AdvancedFilter_MaxLength","Grid_AdvancedFilter_IncorrectDataType","Grid_AdvancedFilter_durationUnit","Grid_AdvancedFilter_ApplyAdvancedFiltersTitle","Grid_AdvancedFilter_ApplyAdvancedFiltersAriaLabel","Grid_AdvancedFilter_CancelEditingAdvancedFiltersAriaLabel","Grid_AdvancedFilter_OpenAdvancedFilterTitleAndAria","Error.Unsupported.Query.Operator","Error.Missing.Value.Attribute","Error.LinkedEntity.NotAvailable.Offline","Error.MainEntity.NotAvailable.Offline","RelatedMenu_LabelSource_RelationshipMetadata","RelatedMenu_LabelSource_EntityDisplayCollectionName","RelatedMenu_LabelSource_EntityDisplayName","RelatedMenu_LabelSource_ClientAPI","RelatedMenu_LabelSource_HardcodedRelationship","RelatedMenu_LabelSource_FormDescriptorForCurrentUserLanguage","RelatedMenu_LabelSource_FormDescriptorForBaseLanguage","RelatedMenu_LabelSource_FormDescriptorForEnglish","RelatedMenu_Displayed_SetByClientAPI","RelatedMenu_Displayed_SetInFormDescriptor","RelatedMenu_Displayed_SetInRelationshipMetadata","RelatedMenu_Displayed_HardcodedEntityAllowedInUCI","RelatedMenu_NotDisplayed_ShowNavigationItemsOptionDisabled","RelatedMenu_NotDisplayed_HardcodedEntityDisallowedInUCI","RelatedMenu_NotDisplayed_SetByClientAPI","RelatedMenu_NotDisplayed_NotEnabledForUnifiedClient","RelatedMenu_NotDisplayed_RelatedEntityNotInOfflineProfile","RelatedMenu_NotDisplayed_SetInFormDescriptor","RelatedMenu_NotDisplayed_SetInRelationshipMetadata","RelatedMenu_NotDisplayed_IsBPFEntity","RelatedMenu_NotDisplayed_SPDocumentNotConfigured","RelatedMenu_NotDisplayed_NotCustomOrConfigurableSystemRelationship","RelatedMenu_NotDisplayed_NoReadPermissionOnRelatedEntity","RelatedMenu_NotDisplayed_KnowledgeManagementNotEnabled","RelatedMenu_NotDisplayed_ConnectionEntityNotEnabled","RelatedMenu_NotDisplayed_ProcessionEntityCannotTriggerWorkflow","RelatedMenu_NotDisplayed_AsyncOperationEntityCannotTriggerWorkflow","RelatedMenu_NotDisplayed_AuditEntityIsNotCustomizable","RelatedMenu_NotDisplayed_ProductEntityAndRelatedEntityRelationshipNotValid","RelatedMenu_NotDisplayed_FeedbackEntityNotAllowedInUCI","RelatedMenu_NotDisplayed_HardcodedRelationshipNameAndReferencingEntityNotFound","RelevanceSearch.SearchResults","RelevanceSearch.TopResults","RelevanceSearch.ShowNumberOfResults","RelevanceSearch.ShowMore","RelevanceSearch.ShowLess","RelevanceSearch.NoResult","RelevanceSearch.TryDifferentKeyword","RelevanceSearch.ErrorTitle","RelevanceSearch.ErrorSubtitle","RelevanceSearch.Retry","RelevanceSearch.Feedback","RelevanceSearch.Feedback.Provided","RelevanceSearch.EntityNumberOfResults","RelevanceSearch.EntityNumberOfSingleResult","RelevanceSearch.NumberOfResultsBasedOnFields","Button_Label_Yes","Button_Label_No","Control_Enabled_ContextTokenIsNull","Control_Enabled_GridRecordIsEditable","Control_Enabled_ClientAPI","Control_Enabled_FormDescriptor","Control_Enabled_RecordIsActive","Control_Disabled_ClientAPI","Control_Disabled_GridRecordIsNotEditable","Control_Disabled_QuickViewFormAlwaysDisabled","Control_Disabled_IsUCIReadOnlyEntity","Control_Disabled_EntityNotAvailableInOffline","Control_Disabled_NoRecordWritePermissions","Control_Disabled_AttributeNotValidForCreate","Control_Disabled_AttributeNotValidForUpdate","Control_Disabled_NoAssignPermissionsForOwnerField","Control_Disabled_NoWritePermissionsByFieldLevelSecurity","Control_Disabled_FormDescriptor","Control_Disabled_RecordIsInactive","DisableWebResouceControlsMessage","GlobalSearch.SearchBoxPlaceholder","GlobalSearch.ZeroQuery.RecentSearches","GlobalSearch.Suggestions.ShowMoreResults"],vt=n("9PvT"),Ct=n("cZkS"),Tt=n("qe9Z"),Nt=n("lzX0"),At=n("LAqF"),Ft=At.a.get_Instance().get_Cordova(),Dt=!1,Pt=function(e,t){return{type:"error-callback",code:t,message:e,dbname:void 0,errorcode:void 0,errormessage:void 0}},It=function(e){var t;try{t=JSON.parse(e)}catch(e){}return t||e},xt=function(e){return e.type&&"on-application-metadata-download-complete"===e.type?Rt(e):Lt(e)},Lt=function(e){return e.type="on-sync-complete",e.code=4,e.message=e.errormessage||"Update finished with failure",e},Rt=function(e){return e.code=5,e.message=e.errormessage||"Application Metadata download complete with failure",e},wt=function(){for(var e=(new Date).getTime(),t=(new Date).getTime();e===t;)t=(new Date).getTime();return t+"000"},Mt=function(){function e(e){var t=this;this._openDBs={},this.getDefaultSyncRecallCount((function(e){t._syncRecall=e})),this.getDefaultSyncRecallTimeout((function(e){t._syncTimeout=e})),this._dbPath=e}return e.prototype.transaction=function(e,t,n){var r=new Bt(this._dbPath);return e(r),r.complete(n,t)},e.prototype.login=function(e,t,n,r,a,i,o,s,l,c,u,_,p,d,f,m,g,h){var b=this;void 0===c&&(c=""),void 0===u&&(u=""),void 0===_&&(_=-1),void 0===p&&(p=""),void 0===d&&(d=""),void 0===f&&(f=""),void 0===g&&(g=""),void 0===h&&(h="");e in this._openDBs?this._logout(e,(function(){b.login(e,t,n,r,a,i,o,s,l,c,u,_,p,d,f,m,g,h)})):Ft.exec((function(){if(b._dbPath=e,b._openDBs[e]=!0,console.log("login: "+e),s)return s()}),(function(){if(l)return console.log("login return error"),l()}),"ClientSyncDatabasePlugin","login",[e,t,n,r,a,i,o,c,u,_,p,"",d,f,m,g,h])},e.prototype._logout=function(e,t){var n=this;if(e in this._openDBs)Ft.exec((function(){if(delete n._openDBs[e],t)return t()}),null,"ClientSyncDatabasePlugin","logout",[e]);else if(t)return t()},e.prototype.deleteDatabase=function(e,t,n){var r=this;if(e in this._openDBs)Ft.exec((function(){if(delete r._openDBs[name],t)return t()}),(function(){if(n)return n()}),"ClientSyncDatabasePlugin","deleteDatabase",[e]);else if(n)return n()},e.prototype.synchronize=function(e,t,n,r,a,i){var o=this;void 0===r&&(r=-1),a&&-1===r&&(r=0);if(this._dbPath in this._openDBs)Ft.exec((function(n){var r=It(n);if("on-application-metadata-download-complete"===r.type){if(t)return t(r)}else if("on-sync-complete"===r.type){if(t)return t(r)}else if("on-progress-update"===r.type){if(t)return t(r)}else if("message-callback"===r.type&&e)return e(r)}),(function(s){if(-19===(s=It(s)).code){if(a){var l=It(s.json);if(void 0===l.model&&n){var c=Pt("cannot call beforeModelChange: model is undefined",-19);return n(c)}if(void 0===l.modelVersion&&n)return c=Pt("cannot recall sync: model version is undefined",-19),n(c);a(l.model)&&o.synchronize(e,t,n,l.modelVersion,a,i)}else if(n)return c=Pt("beforeModelChange is undefined",-19),n(c)}else if(-20===s.code){if(o._syncRecall>0)o._syncRecall--,setTimeout((function(){o.synchronize(e,t,n,r,a,i)}),o._syncTimeout);else if(o.getDefaultSyncRecallCount((function(e){o._syncRecall=e})),n)return c=Pt(s,-100),n(c)}else if(-26===s.code)o._logout(o._dbPath,(function(){if(n)return n(xt(s))}));else if(n)return n(xt(s))}),"ClientSyncDatabasePlugin","synchronizeDatabase",[this._dbPath,r,JSON.stringify(i)]);else if(n)return n(Pt("Database does not open!",-101))},e.prototype.abort=function(e,t,n){void 0===n&&(n=!1);var r=function(){if(console.log("abort success"),e)return e()},a=function(){if(console.log("abort error"),t)return t()};if(n)Ft.exec(r,a,"ClientSyncDatabasePlugin","abortSynchronization",["",n]);else if(this._dbPath in this._openDBs)Ft.exec(r,a,"ClientSyncDatabasePlugin","abortSynchronization",[this._dbPath,n]);else if(t)return t()},e.prototype.generateUUID=function(e,t){Ft.exec((function(t){if(e)return e(t)}),(function(){if(t)return t()}),"ClientSyncDatabasePlugin","generateUUID",[1])},e.prototype.getDefaultSyncRecallCount=function(e){Ft.exec((function(t){if(e)return e(t)}),null,"ClientSyncDatabasePlugin","getDefaultSyncRecallCount",[])},e.prototype.getDefaultSyncRecallTimeout=function(e){Ft.exec((function(t){if(e)return e(t)}),null,"ClientSyncDatabasePlugin","getDefaultSyncRecallTimeout",[])},e.prototype.applyApplicationMetadataChanges=function(e,t){Ft.exec((function(t){if(e)return e()}),(function(e){if(console.log("applyApplicationMetadataChanges error: "+e),t)return t(e)}),"ClientSyncDatabasePlugin","applyApplicationMetadataChanges",[])},e}(),jt=[],kt={},Bt=function(){function e(e){this._dbPath=e,this._trans_id=wt(),this.__submitted=!1,jt[this._trans_id]=[],kt[this._trans_id]=new Object}return e.prototype.queryCompleteCallback=function(e,t,n){var r=null;if(t)for(var a in jt[e])if(jt[e][a].query_id===t){r=jt[e][a],1===jt[e].length?jt[e]=[]:jt[e].splice(a,1);break}if(t&&r&&r.callback)return r.callback(n)},e.prototype.escapeJSONVal=function(e){return e.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t")},e.prototype.fixQueryResult=function(e){var t="[",n=0;for(var r in e){for(var a in t+="["!==t?",{":"{",n=0,e[r].column)n>0&&(t+=","),"string"==typeof e[r].column[a].Value?t+='"'+e[r].column[a].Key.replace('"','\\"')+'":"'+this.escapeJSONVal(e[r].column[a].Value)+'"':t+='"'+e[r].column[a].Key.replace('"','\\"')+'":'+e[r].column[a].Value,n++;t+="}"}return t+="]",JSON.parse(t)},e.prototype.txCompleteCallback=function(e,t){var n=e.transId,r=null,a=null;for(var i in e.results)r=e.results[i].queryId,a=e.results[i].result,r&&this.queryCompleteCallback(n,r,this.fixQueryResult(a));if(t)return t()},e.prototype.add_to_transaction=function(e,t,n,r,a){var i={};return i.trans_id=e,i.query_id=r?wt():"",i.query=t,i.params=n||[],i.callback=r,i.err_callback=a,jt[e]||(jt[e]=[]),jt[e].push(i)},e.prototype.executeSql=function(e,t,n,r){var a=this,i=null;n&&(i=function(e){var t=e,r={rows:{item:function(e){return t[e]},length:t.length},rowsAffected:t.rowsAffected,insertId:t.insertId||null};return n(a,r)});var o=null;return r&&(o=function(e){return r(e,a)}),this.add_to_transaction(this._trans_id,e,t,i,o)},e.prototype.complete=function(e,t){var n=this;if(!Dt){if(Dt=!0,this.__submitted)throw new Error("Transaction already submitted");this.__submitted=!0;var r=function(e){};t&&(r=function(e){return Dt=!1,t(n,e)});return Ft.exec((function(t){Dt=!1,t=It(t),n.txCompleteCallback(t,e)}),r,"ClientSyncDatabasePlugin","executeSqlBatch",[JSON.stringify({dbargs:{dbname:this._dbPath},executes:jt[this._trans_id]})])}setTimeout((function(){n.complete(e,t)}),5)},e}();var Wt,Vt,Ut,Gt,qt=!1,zt="",Ht="",Kt="",Xt=!1,Qt=function(){return new Promise((function(e){var t="",n={};sn("SELECT SyncToken, SubscriptionId FROM _CLIENTSYNC_CONFIG_TABLE").then((function(r){r.rows&&r.rows[0]&&(t=r.rows[0].SyncToken,""===Kt&&(Kt=r.rows[0].SubscriptionId)),Kt&&""!==Kt?t&&""!==t?(n.type="data",n.subscriptionId=Kt,n.syncToken=t,e(n)):(n.type="metadata",n.subscriptionId=Kt,n.syncToken=t,e(n)):(n.type="subscription",e(n))}),(function(){n.type="subscription",e(n)}))})).then((function(e){return"subscription"===e.type?Yt():"metadata"===e.type?en(e.subscriptionId,e.syncToken):"data"===e.type?Cn(!1).then((function(){return $t(e.subscriptionId,e.syncToken)})):(console.error("Unknown type: ",e.type),Promise.resolve())}))},Yt=function(){return Jt(Ht+"/api/data/v9.0/SyncSubscription","POST",'{"DeviceId": "15c5452c-f10b-49fd-98a9-f4e1ce340cb9", "SubscriptionType": "UCI"}').then((function(e){return rn(e.text)}))},Jt=function(e,t,n){return new Promise((function(r,a){var i=new XMLHttpRequest;i.open(t||"GET",e,!0),i.setRequestHeader("Content-Type","application/json"),"GET"===t&&i.setRequestHeader("Prefer",'odata.include-annotations="*"'),i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&(i.status>=200&&i.status<300?r({status:i.status,text:i.responseText}):a({status:i.status,text:i.responseText}))},i.send(n)}))},Zt=function(e,t){return sn("UPDATE _CLIENTSYNC_CONFIG_TABLE SET SyncToken= '"+t+"';",null,e)},$t=function(e,t){return Jt(Ht+"/api/data/v9.0/SyncSubscriptionInfo(SubscriptionId=@p1,SyncToken=@p2,PageSize=@p3)?@p1='"+e+"'&@p2='"+t+"'&@p3=100","GET","").then((function(n){return 202===n.status||204===n.status?new Promise((function(n,r){setTimeout((function(){$t(e,t).then(n,r)}),5e3)})):function(e){var t=ln(e),n=t.syncToken,r=t.isFinalPage;return cn(t.queries,n).then((function(){return r?vn():$t(Kt,n)}))}(n.text)}),(function(n){if(409===n.status)return console.log("Metadata out of date - do metadata sync"),en(e,t);console.error("Page failure: status "+n.status+" response: "+n.text)}))},en=function(e,t){return Jt(Ht+"/api/data/v9.0/SyncSubscriptionMetadataEntities(SubscriptionId='"+e+"',SyncToken='"+t+"')","GET","").then((function(e){return tn(e.text)}))},tn=function(e){var t=hn(e),n=t.syncToken;Zt(null,n);var r=t.isFinalPage;return Sn(t.queries,n).then((function(){return r?Cn(!1).then((function(e){return yn(e).then((function(){return $t(Kt,n)}))})):en(Kt,n)}))},nn=function(e,t,n){var r=n?1:0,a="INSERT OR REPLACE INTO _CLIENTSYNC_CONFIG_TABLE (Key, Version, SubscriptionId, SyncToken, IsValid) VALUES ('key', '1.0','";a=a+t.toString()+"', '', '"+r.toString()+"');",on(e,a)},rn=function(e){var t,n=JSON.parse(e);return Kt=n.SubscriptionId,(t=Kt,an((function(e){on(e,"CREATE TABLE IF NOT EXISTS EntitySettings (EntityLogicalName TEXT PRIMARY KEY, InitialDataDownloadStatus INTEGER, InitialDataDownloadETAInMinutes INTEGER, LastDataSyncTime TEXT);"),on(e,"CREATE TABLE IF NOT EXISTS _CLIENTSYNC_CONFIG_TABLE (Key TEXT PRIMARY KEY, Version TEXT, SubscriptionId TEXT, SyncToken TEXT, IsValid INTEGER);"),on(e,"CREATE TABLE IF NOT EXISTS _NORSYNC_MAIN_LOG_TABLE(SID INTEGER PRIMARY KEY AUTOINCREMENT, TIME_STAMP DATETIME NOT NULL, LOG_TABLE_ID TEXT NOT NULL, DEVICE_ID TEXT, OPERATION_TYPE INTEGER NOT NULL);"),on(e,"CREATE TABLE IF NOT EXISTS _NORSYNC_SYSTEM_TABLE(SYSTEM_VERSION_ID TEXT NOT NULL, DATA_MODEL_NAME TEXT PRIMARY KEY NOT NULL, DATA_MODEL TEXT NOT NULL, DATA_MODEL_VERSION INTEGER NOT NULL, SEGMENTATION_VERSION INTEGER NOT NULL, LAST_UPDATE_TIME DATETIME NOT NULL DEFAULT 0);"),nn(e,t,!0)}))).then((function(){return en(Kt,"")}))},an=function(e){return new Promise((function(t,n){Wt.transaction((function(t){e(t)}),(function(e){n(e)}),(function(){t()}))}))},on=function(e,t,n,r,a){e.executeSql(t,n||[],(function(e,n){console.log("Sync SQL success: "+t),r&&r(n)}),(function(e,n){return console.log("Sync SQL error: '"+n.message+"' for query: "+t),a&&a(n),!1}))},sn=function(e,t,n){return new Promise((function(r,a){n?on(n,e,t,r,a):Wt.transaction((function(n){on(n,e,t,r,a)}))}))},ln=function(e){var t=JSON.parse(e).SyncData;return{syncToken:t.SyncToken,isFinalPage:t.IsFinalPage,queries:t.Data}},cn=function(e,t){var n=un(),r=e.UpdatedEntityData,a=e.DeletedEntityData;return console.log("Starting data page processing"),an((function(e){on(e,"INSERT INTO _NORSYNC_SUPPRESS_TRIGGERS(value) VALUES(1)");var i,o,s,l=[];for(i=0;i<r.length;i++){var c=r[i];for(o=0;o<c.Keys.length;o++){var u=c.Values[o],_=c.Keys[o];for(s=0;s<u.Items.length;s++)l.push(fn(e,_,u.Items[s]));l.push(En(e,_,n))}}for(i=0;i<a.length;i++){c=a[i];for(o=0;o<c.Keys.length;o++){u=c.Values[o],_=c.Keys[o];for(s=0;s<u.Items.length;s++)l.push(_n(e,_,u.Items[s]));l.push(En(e,_,n))}}Promise.all(l).then((function(){on(e,"DELETE FROM _NORSYNC_SUPPRESS_TRIGGERS"),Zt(e,t),console.log("Completing data page processing")}))}))},un=function(){var e=new Date;return e.getFullYear().toString()+"-"+(e.getMonth()+1).toString().padStart(2,"0")+"-"+e.getDate().toString().padStart(2,"0")+" "+(e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")+":"+e.getSeconds().toString().padStart(2,"0"))},_n=function(e,t,n){return sn("DELETE FROM "+t+" WHERE "+t+"id='"+n+"'",null,e).catch((function(){}))},pn=function(e,t){var n=t,r=t.lastIndexOf("_value");if("_"===n[0]&&-1!==r&&!gn(e,n)){var a=n.substr(1,r-1);if(r===n.length-6)return a+"!id";var i=n.substr(r);if("_value@OData.Community.Display.V1.FormattedValue"===i)return a+"!name";if("_value@Microsoft.Dynamics.CRM.lookuplogicalname"===i)return a+"!logicalname"}return n},dn=function(e){if("boolean"==typeof e)return e?"1":"0";if("string"==typeof e){var t=e;if(!isNaN(Date.parse(e))&&-1!==t.search("T")&&-1!==t.search(":")&&-1!==t.search("Z")&&-1!==t.search("-"))return t=(t=e.replace("T"," ")).replace("Z","")}return e},fn=function(e,t,n){var r="INSERT INTO "+t.toString(),a=n,i=" (",o=" VALUES  (",s=[];for(var l in a){var c=pn(t,l);mn(t,c)||null===dn(a[l])||(i+="'"+c+"', ",o+="?, ",s.push(dn(a[l])))}return i=(i+=")").replace(", )",")"),o=(o+=")").replace(", )",")"),sn(r=r+i+o,s,e).catch((function(){}))},mn=function(e,t){return!t||""===t||-1!==t.indexOf("@odata")||-1!==t.lastIndexOf("@Microsoft.Dynamics.CRM.associatednavigationproperty")||-1!==t.lastIndexOf("@OData.Community.Display.V1.FormattedValue")||!gn(e,t)},gn=function(e,t){if(Vt&&Vt.tables)for(var n=0;n<Vt.tables.length;n++)if(Vt.tables[n]&&Vt.tables[n].name===e){var r=Vt.tables[n];if(r.column)for(var a=0;a<r.column.length;a++)if(r.column[a].name===t)return!0;return!1}return!1},hn=function(e){var t=JSON.parse(e).SyncMetadata,n=bn(t),r={syncToken:t.SyncToken,isFinalPage:t.IsFinalPage,metadataVersion:t.MetadataVersion,profileVersion:t.ProfileVersion,queries:n};return Ut=t.MetadataVersion,Gt=t.ProfileVersion,r},bn=function(e){var t,n=e.Metadata.length,r=[];for(t=0;t<n;t++)for(var a=e.Metadata[t],i=a.Values.length,o=0;o<i;o++)for(var s=a.Values[o],l=s.Items.length,c=0;c<l;c++)r.push(s.Items[c]);return r},Sn=function(e,t){return an((function(n){for(var r=[],a=0;a<e.length;a++)r.push(sn(e[a],null,n).catch((function(){})));Promise.all(r).then((function(){Zt(n,t)}))}))},yn=function(e){return an((function(t){var n="INSERT OR REPLACE INTO _NORSYNC_SYSTEM_TABLE (SYSTEM_VERSION_ID, DATA_MODEL_NAME, DATA_MODEL, DATA_MODEL_VERSION, SEGMENTATION_VERSION) VALUES";n=n+"('1', '"+zt+"','"+JSON.stringify(e)+"', '1', '1');",on(t,n),On(t,!0)}))},On=function(e,t){var n="UPDATE _CLIENTSYNC_CONFIG_TABLE SET IsValid= "+(t?1:0).toString()+";";on(e,n)},En=function(e,t,n){var r="INSERT OR REPLACE INTO EntitySettings (EntityLogicalName, InitialDataDownloadStatus,InitialDataDownloadETAInMinutes,LastDataSyncTime) VALUES";return sn(r+="('"+t+"', 1, 0, '"+n+"')",null,e)},vn=function(){return an((function(e){var t=[];if(Vt)for(var n=un(),r=0;r<Vt.tables.length;r++)t.push(En(e,Vt.tables[r].name,n));else console.error("No data model when attempting to update entity settings timestamps");return Promise.all(t)})).then((function(){return null}))},Cn=function(e){var t="SELECT name FROM sqlite_master WHERE type='table' and name not like 'sqlite_%' ";return e||(t+="and name not like '_norsync_%' and name not like '_clientsync_%' and name != 'EntitySettings' and name != '__WebKitDatabaseInfoTable__'"),sn(t+=" ORDER BY name;").then((function(n){for(var r=n.rows.length,a=[],i=0;i<r;i++)a.push(n.rows[i].name);return sn(t="select name from sqlite_sequence ORDER BY name;").then((function(t){var n=new Set;if(!1===e){r=t.rows.length;for(var i=0;i<r;i++)n.add(t.rows[i].name)}Vt=new Object;var o=Gt+"#"+Ut;Vt.userData=o,Vt.auth={},Vt.options={},Vt.options.collateNocase=!0,Vt.options.forceClientChanges=!0,Vt.options.reverseColumnFilters=!0,Vt.options.skipClientForeignKeys=!0,Vt.tables=[];var s=[];for(i=0;i<a.length;i++)!0===e||s.push(Tn(a,a[i],n,Vt));return Promise.all(s).then((function(){return Vt}))}))}))},Tn=function(e,t,n,r){return sn("SELECT name, sql FROM sqlite_master WHERE type='table' AND tbl_name = '"+t+"';").then((function(e){for(var t=e.rows[0].sql.replace(/^[^\(]+\(([^\)]+)\)/g,"$1").split(","),a={primaryKey:[],foreignKeys:[],column:[]},i=0;i<t.length;i++)if(-1===t[i].toString().toUpperCase().search("FOREIGN KEY ")){var o=Nn(t[i].toString().trim());An(t[i].toString().trim(),o,n,e.rows[0].name,a.primaryKey),a.column.push(o)}else{var s=Fn(t[i].toString().trim());null!==s&&a.foreignKeys.push(s)}a.columnFilter="",a.dataAvailable=!0,a.filterRules=[],a.name=e.rows[0].name,a.segmentationRules=[],a.syncType="DELTA_SYNC",r.tables.push(a)}))},Nn=function(e){var t=new Object;if(null!==e){var n=e.split(" ");t.name=n[0].substring(1,n[0].length-1),null!==n[1]&&(t.type=n[1].toString().toLowerCase()),-1!==e.toString().toUpperCase().search("NOT NULL")?t.mandatory=!0:t.mandatory=!1,t.readOnly=!1}return t},An=function(e,t,n,r,a){-1!==e.toString().toUpperCase().search("PRIMARY KEY")?(a.push(t.name),"INTEGER"===t.type.toString().toUpperCase()&&n.has(r)&&(t.autoincrement=!0)):t.autoincrement=!1},Fn=function(e){if(-1!==e.toString().toUpperCase().search("FOREIGN KEY")){var t=new Object;if(t.ownerTable="",t.columns=[],t.ownerColumns=[],t.onUpdate="NO ACTION",t.onDelete="NO ACTION",-1!==e.toString().toUpperCase().search("FOREIGN KEY ")){var n=e.replace(/^[^\(]+\(([^\)]+)\)/g,"$1"),r=n.indexOf("REFERENCES "),a=n.substring(0,r);for(var i in a)t.columns.push(i.toString().trim());var o=n.indexOf("("),s=n.indexOf(")"),l=n.substring(o+1,s);for(var i in l)t.ownerColumns.push(i.toString().trim());var c=n.substring(r+11,o);t.ownerTable=c;var u=n.toString().toUpperCase().indexOf("ON DELETE"),_=n.toString().toUpperCase().indexOf("ON UPDATE");-1!==u&&-1!==_?(t.onUpdate=n.substring(_+10,n.length).toString().toUpperCase().trim(),t.onDelete=n.substring(u+10,_-1).toString().toUpperCase().trim()):-1!==u&&-1===_?t.onDelete=n.substring(u+10,n.length).toString().toUpperCase().trim():-1!==_&&-1===u&&(t.onUpdate=n.substring(_+10,n.length).toString().toUpperCase().trim())}return t}return null},Dn=function(){function e(e){this._openDBs={},this._dbPath=e,this.open()}return e.prototype.transaction=function(e,t,n){var r=new wn;return e(r),r.complete(n,t)},e.prototype.open=function(){this._dbPath in this._openDBs||(this._openDBs[this._dbPath]=!0),zt=this._dbPath,Wt=window.openDatabase(this._dbPath,"1.0",this._dbPath,104857600)},e.prototype.login=function(e,t,n,r,a,i,o,s,l,c,u,_,p,d,f,m,g,h){Ht=(o?"https":"http")+"://"+r,s()},e.prototype.deleteDatabase=function(e,t,n){if(e in this._openDBs){if(t)return t()}else if(n)return n()},e.prototype.synchronize=function(e,t,n,r,a,i){void 0===r&&(r=-1),a&&-1===r&&(r=0);var o=function(n){var r=Pn(n);if("on-sync-complete"===r.type){if(t)return t(r)}else if("on-progress-update"===r.type){if(t)return t(r)}else if("message-callback"===r.type&&e)return e(r)};if(Xt){var s={callbackId:null,code:1};if(s.dbname=zt,s.type="on-progress-update",s.progress=0,o)return o(s)}Xt=!0,Qt().then((function(){var e={callbackId:null,code:2};e.dbname=zt,e.message=null,e.progress=100,e.type="on-sync-complete",o&&o(e),Xt=!1}),(function(e){console.error("Sync failed: "+e)}))},e.prototype.abort=function(e,t,n){e()},e.prototype.generateUUID=function(e,t){var n;e((n=(new Date).getTime(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===e?t:3&t|8).toString(16)}))))},e.prototype.applyApplicationMetadataChanges=function(){},e}(),Pn=function(e){var t;try{t=JSON.parse(e)}catch(e){}return t||e},In=function(){for(var e=(new Date).getTime(),t=(new Date).getTime();e===t;)t=(new Date).getTime();return t+"000"},xn=function(e,t,n){var r=null;if(t)for(var a in Ln[e])if(Ln[e][a].query_id===t){r=Ln[e][a],1===Ln[e].length?Ln[e]=[]:Ln[e].splice(a,1);break}if(t&&r&&r.callback)return r.callback(n)},Ln=[],Rn={},wn=function(){function e(){this._trans_id=In(),this.__submitted=!1,Ln[this._trans_id]=[],Rn[this._trans_id]=new Object}return e.prototype.add_to_transaction=function(e,t,n,r,a){var i=new Object;return i.trans_id=e,i.query_id=r?In():"",i.query=t,i.params=n||[],i.callback=r,i.err_callback=a,Ln[e]||(Ln[e]=[]),Ln[e].push(i)},e.prototype.executeSql=function(e,t,n,r){var a=this,i=null;n&&(i=function(e){var t=e,r={rows:{}};r.rows.item=function(e){return t.rows[e]},r.rows.length=t.rows.length,r.rowsAffected=t.rowsAffected;try{r.insertId=t.insertId}catch(e){r.insertId=null}return n(a,r)});var o=null;return r&&(o=function(e){return r(e,a)}),this.add_to_transaction(this._trans_id,e,t,i,o)},e.prototype.complete=function(e,t){var n=this;if(qt)setTimeout((function(){n.complete(e,t)}),5);else{if(qt=!0,this.__submitted)throw new Error("Transaction already submitted");this.__submitted=!0;var r=function(e,t){return!1};t&&(r=function(e,r){return qt=!1,console.log("executeSqlComplete Error: "+r.message),t(n,r.message),!1});var a=function(t){return function(n,r){qt=!1;var a={};a.transId=t.trans_id,a.results=[];var i={};i.queryId=t.query_id,i.result=r,a.results.push(i),function(e,t){var n=e.transId,r=null,a=null;for(var i in e.results)r=e.results[i].queryId,a=e.results[i].result,r&&xn(n,r,a);if(t)t()}(a,e)}};Wt.transaction((function(e){for(var t=0;t<Ln[n._trans_id].length;t++){var i=Ln[n._trans_id][t];console.log("queryId: "+i.query_id+" transId: "+i.trans_id+" query: "+i.query),n._trans_id=i.trans_id,i.query=(0===(o=i.query).toString().indexOf("DROP TABLE")&&(o=(o=o.replace("DROP TABLE IF EXISTS","DELETE FROM")).replace("DROP TABLE","DELETE FROM")),o),e.executeSql(i.query,i.params,a(i),r)}var o}))}},e}();
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
var Mn=function(){function e(e,t,n){this._store=null,this._applicationContext=null,this._executionContext={},this._store=e,this._applicationContext=t,this._executionContext=n}return e.prototype.setOfflineDatabaseName=function(e){this._store.dispatch(Object(P.b)(e))},e.prototype.setCalculationOfDisabledOfflineEntitiesPending=function(e){this._store.dispatch({type:"offline.datamodel.changed",payload:{isCalculationOfDisabledEntitiesPending:e}})},e.prototype.setIsSyncing=function(e){this._store.dispatch(Object(L.d)(e))},e.prototype.setOfflineStatus=function(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=null),null==e&&(e=this.getOfflineStatus()),null==t&&(t=this.getOfflineStatusReason()),this._store.dispatch(Object(L.c)(e,t,n,r))},e.prototype.setOfflineProfileChanged=function(e){this._store.dispatch({type:"offline.profile.changed",payload:{isProfileChanged:e}})},e.prototype.setDatabaseCleanUpFlag=function(e){this._store.dispatch(Object(D.b)(e))},e.prototype.setOfflineDisableInformation=function(e,t){this._store.dispatch(Object(Xe.a)(e,t))},e.prototype.setMetadataSyncStatus=function(e){this._store.dispatch(Object(pt.i)({syncStatus:e}))},e.prototype.setOfflineAvailablePrimaryEntities=function(e){this._store.dispatch(Object(F.b)(e))},e.prototype.setOfflineEntityPluralNamesAction=function(){this._store.dispatch(mt())},e.prototype.setApplyApplicationMetadataChanges=function(e){this._store.dispatch(Object(W.d)(e))},e.prototype.setIsOfflineFirstTimeSyncCompleted=function(e){this._store.dispatch(Object(G.b)(e))},e.prototype.processOfflineValidationsComplete=function(){var e=this._store.getState();Object(ut.c)(e)===Ot.a.SyncPendingFromServer||Object(i.a)(e)?this._store.dispatch(Object(dt.d)()):Object(a.c)(e)&&this._store.dispatch(Object(v.b)(!0))},e.prototype.executeNonCUDODataRequest=function(e,t){return new Qe.a(st(e,t).execute(this._store,this._applicationContext,this._executionContext))},e.prototype.getBusinessProcessFlowControlData=function(e,t){return new Qe.a(function(e,t){return{type:"offline.bpf.control.data",execute:function(n,r){var a=n.dispatch,i=(n.getState,[]);return e?a(Object(ct.b)(c.a.fromLegacyGuid(e))).then((function(n){var r=c.a.fromLegacyGuid(e).guid;if(n&&n.businessProcessFlows&&n.businessProcessFlows[r]&&n.businessProcessFlows[r].businessProcessFlowStepEntityAttributeControls){var a=n.businessProcessFlows[r].businessProcessFlowStepEntityAttributeControls[t];a&&Object.keys(a).length&&(i=Object.keys(a).map((function(e){return a[e].DataFieldName})),_.c.info("Business process flow control data successfully retrived from get clinet metadata"))}return Promise.resolve(i)})).catch((function(e){return _.c.error("Business process flow control data failed to retrived from get clinet metadata"+Object(ie.e)(e)),Promise.reject(e)})):(_.c.info("processID is null in get business process flow control data"),Promise.resolve(i))}}}(e,t).execute(this._store,this._applicationContext,this._executionContext))},e.prototype.triggerDisplayForFirstTimeSyncCompleteNotification=function(){this._store.dispatch(Object(Nt.c)())},e.prototype.triggerFirstTimeRequestToApplyApplicationMetadataChangeNotification=function(){this._store.dispatch(Object(Nt.b)())},e.prototype.getEntityDictionaryFromPluralName=function(e){return Object(g.d)(this._store.getState(),e)},e.prototype.getIsMocaOfflineFeatureEnabled=function(){return Object(o.a)(this._store.getState())},e.prototype.getMetadataSyncStatus=function(){return Object(ut.c)(this._store.getState())},e.prototype.getOfflineDatabaseName=function(){return Object(a.d)(this._store.getState())},e.prototype.getOfflineStatus=function(){return Object(a.q)(this._store.getState())},e.prototype.getOfflineStatusReason=function(){return Object(a.r)(this._store.getState())},e.prototype.getOfflineFeatureStatus=function(){return Object(a.p)(this._store.getState())},e.prototype.isOfflineAvailableForUse=function(){return Object(a.w)(this._store.getState())},e.prototype.getOfflineProfileId=function(){return c.a.toString(Object(i.c)(this._store.getState()))},e.prototype.getCalculationOfDisabledOfflineEntitiesPending=function(){return Object(g.c)(this._store.getState())},e.prototype.getServerStatus=function(){return Object(_t.b)(this._store.getState())},e.prototype.getUpSyncStatus=function(){return Object(S.b)(this._store.getState())},e.prototype.getOfflineEnabledEntities=function(){return Object(g.j)(this._store.getState())},e.prototype.isEntityAvailableForOfflineUsage=function(e){return Object(g.l)(this._store.getState(),e)},e.prototype.getOfflineAvailablePrimaryEntities=function(){return Object(g.g)(this._store.getState())},e.prototype.getOfflineProfileAvailableEntities=function(){return Object(i.b)(this._store.getState())},e.prototype.getIsProfileChanged=function(){return Object(i.a)(this._store.getState())},e.prototype.getLastMetadataVersionUsedForValidation=function(){return h(this._store.getState())},e.prototype.getOfflineProfileVersion=function(){return Object(i.d)(this._store.getState())},e.prototype.getIsConflictDetectionEnabledForMobileClient=function(){return Object(s.k)(this._store.getState())},e.prototype.getNorsyncServerConnectionString=function(){var e=this._store.getState();return Object(ht.b)(e,"EnableDataSyncService")?Object(bt.a)(e):Object(o.c)(e)},e.prototype.getUserName=function(){return Object(l.t)(this._store.getState())},e.prototype.getUserId=function(){return c.a.toLegacyGuid(Object(l.q)(this._store.getState()))},e.prototype.getSubscriptionId=function(){return Object(o.d)(this._store.getState())},e.prototype.transformToODataValue=function(e,t,n){return JSON.stringify(Object(gt.g)(this._store.getState(),e,t,n))},e.prototype.reportOfflineComponentPerformance=function(e,t,n){this._applicationContext.EventManager.ReportComponentPerformance(e,t,n)},e.prototype.reportOfflineComponentSuccess=function(e,t){this._applicationContext.EventManager.ReportComponentSuccess(e,t)},e.prototype.reportOfflineComponentFailure=function(e,t,n,r){this._applicationContext.EventManager.ReportComponentFailure(e,t,n,r)},e.prototype.reportOfflineComponentWarn=function(e,t,n){this._applicationContext.TraceManager.getTracer(e).warn(t,n)},e.prototype.reportOfflineComponentError=function(e,t,n){this._applicationContext.TraceManager.getTracer(e).error(t,n)},e.prototype.parseFetchXmlForAliasedValues=function(e){return Object(St.d)(e)},e.prototype.isDssOfflineEnabled=function(){var e=this._store.getState();return Object(o.g)(e)},e.prototype.isBrowserOfflineEnabledWithDss=function(){var e=this._store.getState();return Object(o.f)(e)},e.prototype.isApplicationMetadataDownloadInShimEnabled=function(){var e=this._store.getState();return Object(o.e)(e)},e.prototype.isAppAvailableOffline=function(){var e=this._store.getState();return Object(lt.b)(e)},e.prototype.getCurrentAppId=function(){var e=this._store.getState();return Object(yt.i)(e)},e.prototype.isUCIOfflineSyncAdaptivePagingEnabled=function(){var e=this._store.getState();return Object(o.h)(e)},e.prototype.getOfflineResourceStrings=function(){return Et},e.prototype.isExtendedOfflineClientApiSupportEnabled=function(){return Object(ht.c)(this._store.getState(),Ct.fb)},e.prototype.getEntityCollectionFromSQLResults=function(e,t,n,r,a){var i=null;return e instanceof Tt.a&&(i=e.get_FetchXmlForAliasedValues()),Object(u.a)(i)&&!Object(u.a)(e.get_FetchXml())&&(i=Object(St.d)(e.get_FetchXml())),new Qe.a(this._store.dispatch(Object(St.b)(e,i,t,r,null,null,vt.b.SQL,n,a)))},e.prototype.getEntityRecordFromSQLResult=function(e,t,n,r){var a=Object(nt.e)(t).columnNames;return new Qe.a(this._store.dispatch(Object(vt.e)(n,e.LogicalName,a,t,null,null,null,vt.b.SQL)).then((function(e){return e.set_clientRetrieveOptions(r),e})))},e.prototype.createCustomOfflineCommandQueries=function(e,t,n){var r=this,a=new Qe.a,i=e.get_name();return Object(te.d)(this._store,i,t).then((function(o){if(o){var s={EntityLogicalName:t},l=c.a.fromLegacyGuid(n);c.a.isNullOrEmpty(l)||(s.id=n.toString());var u=Object(te.e)(r._store,e,l,s);r._store.dispatch(Object(He.c)(u)).then((function(){r._store.dispatch(Object(te.g)(t,i,u,s)).then((function(e){a.resolve(e)})).catch((function(e){var t=Ze.a.toLegacyErrorStatus(e);t.set_ErrorCode(0),a.reject(t)}))}))}else a.resolve(null)})).catch((function(e){a.reject(Ze.a.toLegacyErrorStatus(e))})),a},e.prototype.getApplyApplicationMetadataChanges=function(){var e=this._store.getState();return Object(a.a)(e)},e.prototype.getOfflineSyncPlugin=function(e){return this.isBrowserOfflineEnabledWithDss()?new Dn(e):function(e){return new Mt(e)}(e)},e}();
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function jn(e,t){return new Ke(e,t)}},GBfE:function(e,t,n){"use strict";n.r(t),n.d(t,"initializeOfflineLifecycleAsyncAction",(function(){return D}));var r=n("nlyT"),a=n("pkDq"),i=n("GUnN"),o=n("c56u"),s=n("9r0m"),l=n("96h0"),c=n("He+0"),u=n("/j9Z"),_=n("gKZ6"),p=n("x9BS"),d=n("kh6f"),f=n("gFjC"),m=n("xC+Q"),g=n("L+41"),h=n("5iz+");var b=n("EGsq"),S=n("hRGi"),y=n("BvBP"),O=n("pdOk"),E=n("H/RR"),v=n("AX1v");function C(){return{type:"offline.save.sessionstate",execute:function(e,t){var n=(0,e.getState)(),r=Object(o.p)(n),a={},l={},c={},u={},_=[];return r!==v.a.Disabled?(l[E.a.OfflineProfileIdKey]=s.a.toString(S.c(n)),l[E.a.OfflineProfileVersionKey]=S.d(n),l[E.a.OfflineProfileAvailableEntitiesKey]=S.b(n),a[E.a.norsyncServerConnectionStringKey]=y.c(n),a[E.a.isTrialOrganizationKey]=y.b(n).toString(),a[E.a.isMocaOfflineFCBEnabledKey]=y.a(n).toString(),d.c.info("Offline: OfflineSaveSessionState: Saving information to the session state:"+E.a.OfflineProfileDataKey),_.push(t.DataSource.saveSessionState(E.a.OfflineProfileDataKey,l,!1)),d.c.info("Offline: OfflineSaveSessionState: Saving information to the session state:"+E.a.offlineDatabaseInformationKey),_.push(t.DataSource.saveSessionState(E.a.offlineDatabaseInformationKey,a,!1))):(d.c.info("Offline: OfflineSaveSessionState: Clearing the Session State"),_.push(t.DataSource.deleteSessionState(E.a.OfflineProfileDataKey)),_.push(t.DataSource.deleteSessionState(E.a.offlineDatabaseInformationKey)),_.push(t.DataSource.deleteSessionState(E.a.OfflineEntityPluralNamesKey)),_.push(t.DataSource.deleteSessionState(E.a.OfflinePrimaryAvailableEntitiesKey)),_.push(t.DataSource.deleteSessionState(O.a))),u[E.a.isMobileOfflineOptedInKey]=r.toString(),d.c.info("Offline: OfflineSaveSessionState: Saving information to the session state:"+E.a.isMobileOfflineOptedInKey),_.push(t.DataSource.saveSessionState(E.a.isMobileOfflineOptedInKey,u,!1)),c[E.a.OfflineDatabaseKey]=Object(o.d)(n),d.c.info("Offline: OfflineSaveSessionState: Saving information to the session state:"+E.a.OfflineDatabaseKey),_.push(t.DataSource.saveSessionState(E.a.OfflineDatabaseKey,c,!1)),Promise.all(_).then((function(){return d.c.info("Offline: OfflineSaveSessionState: SaveMobileofflineInformation: Complete"),Promise.resolve()})).catch((function(e){return d.c.error("Offline: OfflineSaveSessionState: SaveMobileofflineInformation: Failed"+Object(i.e)(e)),Promise.reject(e)}))}}}var T=n("WS0f"),N=n("JlqV");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
function A(e,t,n,a,i){var l=Object(b.m)(t),_=Object(S.e)(t),p=Object(o.p)(t),f=Object(S.c)(t);l&&p!==v.a.Disabled&&(f&&f!==s.a.EMPTY&&_?(p===v.a.Default&&n(Object(c.b)(v.a.Enabled)),n(function(e,t){return{type:"offline.schedule.datasync.async",execute:function(n,a){var i=n.dispatch,s=n.getState,l=a.OfflineProvider,c=Object(o.d)(s());if(Object(T.a)(c)){var _=Object(N.b)(s())?g.a.Initializing:g.a.NotAvailable;d.c.info("OfflineDataSyncAsyncAction.startOfflineDataSync: The offline status has been set to "+_),i(Object(r.c)(_,h.a.None))}else d.c.info("OfflineDataSyncAsyncAction.startOfflineDataSync: The offline status has been set to Available."),i(Object(r.c)(g.a.Available,h.a.None));return d.c.info("OfflineDataSyncAsyncAction.startOfflineDataSync: Schedule Periodic Sync Job started."),l.schedulePeriodicSyncJob(e,t).nativePromise().catch(u.b)}}}(a,i)),d.c.warn("Offline: OfflineWrapper: OfflinePerformDataSync: The offline feature status is : mobileOfflineOptStatus =  "+p)):(n(Object(r.c)(g.a.NotAvailable,h.a.ProfileUnavailable)),d.c.warn("Offline: OfflineWrapper: OfflinePerformDataSync: The offline feature status is set to "+g.a.NotAvailable)))}function F(e,t,n,a,s){var l;Object(o.c)(t)?(d.c.warn("OfflineWrapper: OfflineInitDataSync: Deleting the existing offline database as isDBCleanNeeded is true "+Object(o.d)(t)),n((l=Object(o.d)(t),{type:"offline.database.delete.async",execute:function(e,t){var n=e.dispatch;return e.getState,t.OfflineProvider.cleanUpDatabases(l).nativePromise().then((function(){n(Object(p.b)("")),n(Object(r.c)(g.a.NotAvailable,h.a.None)),n(Object(_.b)(!1)),n(Object(m.b)(null)),n(Object(f.b)(null,null,null))})).catch((function(e){return d.c.error("Offline.databaseDeleteAction: OfflineProvider.cleanUpDatabases failed with error:"+Object(i.e)(e)),Promise.reject(e)}))}})).then((function(){A(0,t,n,a,s),n(C())}),u.b)):(d.c.warn("OfflineWrapper: OfflineInitDataSync: perform offline data sync "),A(0,t,n,a,s),n(C()))}
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function D(e,t){return{type:"offline.init.lifecycle.async",execute:function(n,c){var u=n.dispatch,_=n.getState;return c.OfflineProvider.initializeOfflineDataSource(c.DataSource.get_UserContext()).nativePromise().then((function(){var n=_(),i=Object(N.b)(n),p=Object(o.d)(n);if(Object(o.p)(_())===v.a.Disabled||null===p||""===p||s.a.equals(s.a.parse(p),s.a.EMPTY)||u(Object(r.c)(g.a.Available,h.a.None)),null!=p){var d=function(){return!i||u(Object(l.initializeOfflineUpsyncProcessAsyncAction)()).then((function(){return F(0,_(),u,e,t),!0}))};return c.OfflineProvider.calculateDisabledOfflineEntities().nativePromise().then(d,d)}return i&&(u(Object(a.b)()),F(0,_(),u,e,t)),!0})).catch((function(e){return d.c.error("OFFLINE : initializeOfflineLifecycleAsyncAction Failed"+Object(i.e)(e)),Promise.reject(e)}))}}}},"bH+A":function(e,t,n){"use strict";
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
var r;n.d(t,"a",(function(){return r})),function(e){e.OfflineCommandDefinition="offlinecommanddefinition",e.CommandXamlRetrievalQuery="select commanddefinition, commanddefinitionid from offlinecommanddefinition where commandname='{0}' and primaryentitylogicalname='{1}'",e.CommandsRetrievalQuery="select commanddefinitionid, commandname, primaryentitylogicalname from offlinecommanddefinition"}(r||(r={}))},"j+Rs":function(e,t,n){"use strict";n.d(t,"h",(function(){return pe})),n.d(t,"f",(function(){return de})),n.d(t,"g",(function(){return fe})),n.d(t,"a",(function(){return me})),n.d(t,"c",(function(){return ge})),n.d(t,"i",(function(){return he})),n.d(t,"d",(function(){return be})),n.d(t,"e",(function(){return Se})),n.d(t,"b",(function(){return Oe}));var r,a,i=n("c/eZ"),o=n("kKUv"),s=n("UBp/");!function(e){e.BooleanType="boolean",e.NullableType="nullable",e.IntegerType="integer",e.Int64Type="int64",e.FloatType="float",e.TimeType="time",e.ShortTimeType="shorttime",e.ShortDateType="shortdate",e.DateMonthType="datemonth",e.CurrencyType="currency",e.DecimalType="decimal",e.StringType="string"}(r||(r={})),function(e){e.SystemUser="systemuser",e.ModifiedOn="modifiedon",e.CreatedOn="createdon",e.ModifiedBy="modifiedby",e.CreatedBy="createdby",e.StateCode="statecode",e.StatusCode="statuscode",e.OwnerId="ownerid"}(a||(a={}));var l,c=n("otJc"),u=n("9r0m"),_=n("WS0f"),p=n("kh6f"),d=n("oPba");!function(e){e.EqualOperator="Equal",e.NotEqualOperator="NotEqual",e.GreaterThanOperator="GreaterThan",e.GreaterThanOrEqualOperator="GreaterThanOrEqual",e.LessThanOperator="LessThan",e.LessThanOrEqualOperator="LessThanOrEqual",e.AndOperator="And"}(l||(l={}));var f=n("+h4s"),m=n("Sn3h"),g=n("tw3I"),h=n("Z3K7"),b=n("DvVZ"),S=n("9L5C"),y={parseValue:O,addAttributesInValues:function(e,t,n){var r={};return e.forEach((function(e){var n=!!m.a(e.IsResettable),a=y.parseValue(t,e.Value,n);(a||null===a&&n)&&(a instanceof u.a&&(a=u.a.toString(a)),r[e.Field]=a)})),r},addAttributesFromSource:function(e,t){var n={};if(e){var r=y.parseValue(t,e);for(var a in r){var i=r[a];i&&i.hasOwnProperty("id")?(n[a+"!id"]=i.id,n[a+"!name"]=i.name,n[a+"!logicalname"]=i.entityType):n[a]=i}}return n},addDefaultAttributes:function(e,t){var n={};t&&t.userId&&t.userDisplayName&&(n=Object.assign(y.setOwnerId(a.OwnerId,t),y.setOwnerId(a.CreatedBy,t),y.setOwnerId(a.ModifiedBy,t)));return n[a.CreatedOn]=E(new Date),n[a.ModifiedOn]=E(new Date),n[a.StateCode]=0,n[a.StatusCode]=1,n},setOwnerId:function(e,t){var n={},r=Object(S.a)(e,"owner");return n[r[0]]=u.a.toString(t.userId),n[r[1]]="systemuser",n[r[2]]=t.userDisplayName,n},getEntityName:function(e,t){if(!t)return null;var n=y.parseValue(e,t);return n?n.toString():null},getConditionResult:function(e,t,n,a,i){switch(a){case r.BooleanType:return t===l.AndOperator?e&&m.a(n):y.getConditionValue(e,t,m.a(n));case r.NullableType:return t===l.EqualOperator?Object(_.a)(e):t===l.NotEqualOperator&&!Object(_.a)(e);case r.IntegerType:return y.getConditionValue(e,t,m.b(n));case r.Int64Type:case r.FloatType:case r.DecimalType:return y.getConditionValue(e,t,m.c(n));case r.TimeType:return y.getConditionValue(e,t,m.d(n));case r.ShortTimeType:case r.ShortDateType:var o=Object(f.k)(n);return t===l.EqualOperator?!!n&&e.getTime()===o.getTime():t===l.NotEqualOperator?!n||e.getTime()!==o.getTime():y.getConditionValue(e,t,o);case r.CurrencyType:var s=i.userSettings,u=s.formatInfoCultureName,p=s.numberFormatInfo,d=s.dateFormatInfo,g=new Sys.CultureInfo(u,p,d);return y.getConditionValue(e,t,Object(c.D)(n,{controlAttributes:{Type:"money"}},g,""));case r.StringType:return y.getConditionValue(e,t,n);default:return!1}},getConditionValue:function(e,t,n){switch(t){case l.GreaterThanOperator:return e>n;case l.GreaterThanOrEqualOperator:return e>=n;case l.LessThanOperator:return e<n;case l.LessThanOrEqualOperator:return e<=n;case l.EqualOperator:return e===n;case l.NotEqualOperator:return e!==n;default:return!1}},getAndOrConditions:function(e,t,n){return e.map((function(e){if(e.LeftOperand&&e.RightOperand)return y.getConditionResult(O(t,e.LeftOperand),e.Operator,O(t,e.RightOperand),e.Type,n)})).filter((function(e){return!Object(_.a)(e)}))},createFilterCriteria:function(e,t,n,r,a){if(!(e&&t&&n&&r))throw new Error("Name, Value, OperatorType and Conditiontype must have a value provided.");var i=n===l.AndOperator?h.a.And:h.a.Or,o=O(a,t);!o||o instanceof u.a||(o=u.a.tryParse(o.toString()));o=u.a.toString(o);var s=b.a.Equals;switch(r){case l.EqualOperator:s=b.a.Equals;break;case l.GreaterThanOperator:s=b.a.GreaterThan;break;case l.GreaterThanOrEqualOperator:s=b.a.GreaterThanEqualTo;break;case l.LessThanOperator:s=b.a.LessThan;break;case l.LessThanOrEqualOperator:s=b.a.LessThanEqualTo;break;case l.NotEqualOperator:s=b.a.NotEquals}return new g.a(e,o,i,s)},getReferenceValue:function(e,t){var n,r=C(e),a=r.key,i=r.path;t&&t.has(a)&&(v(n=t.get(a))&&(n=n.rows.item(0)),n=y.getObjectFromMap(i,n));return n},getReferenceValueLength:function(e,t){var n=C(e).key;if(t&&t.has(n)){var r=t.get(n);if(v(r))return r.rows.length}return 1},getObjectFromMap:function(e,t){return e.forEach((function(e){t=t&&t.hasOwnProperty(e)?t[e]:void 0})),t}};function O(e,t,n){if(void 0===n&&(n=!1),!t){if(n)return t;throw new TypeError("Xml attribute param to parse must have a value provided")}var r=null;switch(t){case s.a.DateTimeNowString:r=E(new Date).trim();break;case s.a.OppCloseDateString:var a=y.getReferenceValue(t,e);if(a)r=E(new Date(a.toString())).trim();break;default:if(t.startsWith(s.a.NegatedReference)){t=t.substr(s.a.FirstIndex,t.length);var i=y.getReferenceValue(t,e);Object(_.a)(i)||(r=!Object(d.a)(i.toString()))}else r=t.startsWith(s.a.Reference)?y.getReferenceValue(t,e):t===s.a.NullString?null:t}return n||(r=void 0===r?null:r),p.c.info("CommandStepsCommon: ParseValue: Parsed "+t+" to "+(r?r.toString():null)),r}function E(e){return e.toISOString().replace(/T|Z/g," ")}function v(e){return e&&e.hasOwnProperty("rows")}function C(e){var t=e.split(s.a.DotSeperator);return{key:t[0].slice(1),path:t.slice(1)}}var T=n("/j9Z"),N=n("GUnN"),A=n("lMVv"),F=n("BvBP"),D=n("Y8Oo"),P=n("xcdS"),I=n("kyXW"),x=n("FnM+"),L=n("prO3"),R=function(){function e(e,t,n,r){this._Id=null,this._CommandId=null,this._EntityName=null,this._Operation=0,this._set_id(e),this._set_commandId(t),this.set_entityName(n),this.set_operation(r)}return e.prototype.get_id=function(){return this._Id},e.prototype._set_id=function(e){return this._Id=e,e},e.prototype.get_commandId=function(){return this._CommandId},e.prototype._set_commandId=function(e){return this._CommandId=e,e},e.prototype.get_entityName=function(){return this._EntityName},e.prototype.set_entityName=function(e){return this._EntityName=e,e},e.prototype.get_operation=function(){return this._Operation},e.prototype.set_operation=function(e){return this._Operation=e,e},e.prototype.toDictionary=function(){var e={};return e[L.k]=this.get_id(),e[L.i]=this.get_commandId(),e[L.j]=this.get_entityName(),e[L.l]=this.get_operation(),e},e}(),w=n("Y70o"),M={processCreateStep:function(e,t,n,r,a,i){if(e.EntityName){return(new P.a).generateUID().nativePromise().then((function(o){p.c.info("OFFLINE: CommandStepProcessor: processCreateStep: creating "+e.EntityName+" with Id "+o+" for "+e.OperationName+".");var l=y.getEntityName(t,e.EntityName),c=l+s.a.Id,_=e.Attribute.find((function(e){return e.Field===c}));_&&(_.Value===s.a.GuidString?_.Value=u.a.toString(u.a.fromLegacyGuid(o)):_.Value=y.parseValue(t,_.Value));var d=Object.assign(y.addDefaultAttributes(e.EntityName,i),y.addAttributesFromSource(e.Source,t),y.addAttributesInValues(e.Attribute,t));return n.push(new D.a(d,I.a.Create,l)),t.set(e.Result.Name,{entityType:l,id:u.a.tryParse(d[l+s.a.Id])}),_&&(r[c]=_.Value),p.c.info("OFFLINE: CommandStepProcessor: processCreateStep: Creating command entity operation for "+e.EntityName),M.createCommandEntityOperation(a,e.EntityName,1)})).catch((function(e){return p.c.error("OFFLINE: CommandStepProcessor: processCreateStep: failed generating UID with error for :"+Object(N.e)(e)),Object(T.b)(e)}))}return p.c.error("OFFLINE: CommandStepProcessor: processCreateStep: failed because entity name is null or an empty string in operation for commandId as "+a+" ."),Promise.reject(new T.a("Entity Name is null/empty string in operation."))},processUpdateStep:function(e,t,n,r,a){if(!(e.Attribute&&e.Identifier&&e.Result&&e.EntityName))return p.c.error("OFFLINE: CommandStepProcessor: processUpdateStep: Attribute/Identifier/Result/EntityName is not defined in the operation"),Promise.reject(new T.a("Attribute/Identifier/Result/EntityName is not defined in the operation"));var i=y.getEntityName(t,e.EntityName),o=Object.assign(y.addAttributesFromSource(e.Source,t),y.addAttributesInValues(e.Attribute,t)),l=y.parseValue(t,e.Identifier.Value);o[e.Identifier.Name]=!l||l instanceof u.a?l:u.a.toString(u.a.tryParse(l.toString())),n.push(new D.a(o,I.a.Update,i));var c=i,_=Object(A.h)(a,i);if(_&&_.IsBPFEntity&&Object(F.g)(a))return Promise.resolve(null);_&&_.IsBPFEntity?c=s.a.BusinessProcessFlowInstance:_&&_.IsActivity&&(c=s.a.ActivityString);var d=null!==o[c+s.a.Id]?o[c+s.a.Id].toString():null;if(!d)return p.c.error("OFFLINE: CommandStepProcessor: processUpdateStep: Failed to parse entityid: "+d+s.a.Id),Promise.reject(new T.a("Failed to parse entityid: "+d+s.a.Id));return t.set(e.Result.Name,{entityType:i,id:u.a.tryParse(d)}),p.c.info("OFFLINE: CommandStepProcessor: processUpdateStep: Creating command entity operation for "+e.EntityName),M.createCommandEntityOperation(r,i,3)},processDeleteStep:function(e,t,n,r){if(!e.Attribute||!e.EntityName)return p.c.error("OFFLINE: CommandStepProcessor: processDeleteStep: Attribute/EntityName is not defined in the operation"),Promise.reject(new T.a("Attribute/EntityName is not defined in the operation"));return n.push(new D.a(y.addAttributesInValues(e.Attribute,t),I.a.Delete,y.getEntityName(t,e.EntityName))),p.c.info("OFFLINE: CommandStepProcessor: processDeleteStep: Creating command entity operation for "+e.EntityName),M.createCommandEntityOperation(r,e.EntityName,2)},processRetrieveStep:function(e,t){if(!e.MultipleCheck||!e.Result||!e.EntityName)return p.c.error("OFFLINE: CommandStepProcessor: processRetrieveStep: Attribute/MultipleCheck/Result/EntityName is not defined in the operation"),Promise.reject(new T.a("Identifier/Result/EntityName is not defined in the operation"));var n=new Array;e.MultipleCheck.forEach((function(e){e.Condition.forEach((function(e){n.push(y.createFilterCriteria(e.LeftOperand,e.RightOperand,e.Type,e.Operator,t))}))}));var r=new x.a(n),a=new P.a,i=y.getEntityName(t,e.EntityName);return a.retrieve(i,r).nativePromise().then((function(n){return t.set(e.Result.Name,n),p.c.info("OFFLINE: CommandStepProcessor: processRetrieveStep: Succeeded resolving the promise with true"),null})).catch((function(e){p.c.error("OFFLINE: CommandStepProcessor: processRetrieveStep: Failed with error: "+Object(N.e)(e)),Object(T.b)(e)}))},processConditionCheckStep:function(e,t,n){if(e.MultipleCheck&&0!==Object.keys(e.MultipleCheck).length){var r=[],a=[],i=!1;p.c.info("OFFLINE: CommandStepProcessor: processConditionCheckStep:  Processing Multiple check for opertion."),e.MultipleCheck.forEach((function(e){if(p.c.info("OFFLINE: CommandStepProcessor: processConditionCheckStep: Processing Multiple check with Multiple Check "+e.Type+" for Condition opertion."),e.Type===l.AndOperator){var i=y.getAndOrConditions(e.Condition,t,n);r.push.apply(r,i)}else{var o=y.getAndOrConditions(e.Condition,t,n);a.push.apply(a,o)}}));var o=function(e){return!(e.indexOf(!1)>-1)},s=function(e){return e.indexOf(!0)>-1};return r.length>0&&a.length>0?i=s(a)&&o(r):r.length>0?i=o(r):a.length>0&&(i=s(a)),p.c.info("OFFLINE: CommandStepProcessor: processConditionCheckStep setting "+e.Result.Name+" to:"+i),t.set(e.Result.Name,i),Promise.resolve(null)}return p.c.error("OFFLINE: CommandStepProcessor: processConditionCheckStep failed : MultipleCheck is not defined in operation."),Promise.reject(new T.a("MultipleCheck is not defined in operation."))},processSetValueStep:function(e,t){if(e.Result)return t.set(e.Result.Name,y.parseValue(t,e.Result.Value)),p.c.info("OFFLINE: CommandStepProcessor: processSetValueStep setting "+e.Result.Name+" to: "+t.get(e.Result.Name)),Promise.resolve(null);return p.c.error("OFFLINE: CommandStepProcessor: processSetValueStep failed : Result is not defined in operation."),Promise.reject(new T.a("Result is not defined in operation."))},processFailureStep:function(e,t,n){if(e.Message){var r=null;if(e.Message.WebResourceName){var a=Object(w.b)(n,e.Message.WebResourceName);r=a?a[e.Message.Key]:e.Message.Key}return r?Promise.reject(new T.a(y.parseValue(t,r),-2147220891)):(p.c.error("OFFLINE: CommandStepProcessor: processSetValueStep failed : No Message is defined in operation."),Promise.reject(new T.a("Message not defined in operation.")))}return p.c.error("OFFLINE: CommandStepProcessor: processSetValueStep failed : Messages is not defined in operation."),Promise.reject(new T.a("Messages is not defined in operation."))},createCommandEntityOperation:function(e,t,n){return(new P.a).generateUID().nativePromise().then((function(r){return p.c.info("OFFLINE: CommandStepProcessor: createCommandEntityOperation: Successfully created command entity operation for "+t),new D.a(new R(r,e,t,n).toDictionary(),I.a.Create,s.a.CommandOperationString)})).catch((function(e){return p.c.error("OFFLINE: CommandStepProcessor: createCommandEntityOperation: Failed in creating command entity operation because of generate UID failure with error "+Object(N.e)(e)),Object(T.b)(e)}))}};var j=n("1RgW"),k=n("WOYU"),B={executeCommand:function(e,t,n,r,a){return W(e,t,n,r,a).then((function(e){return p.c.info("OFFLINE: CommandExecutionEngine: executeCommand: Initializing the process to create batch and perform operations."),B.createBatchAndPerformOperations(t,n,e.entityOperations,e.offlineData,e.commandEntities,e.commandId,a)})).then((function(e){return p.c.info("OFFLINE: CommandExecutionEngine: executeCommand: resolving promise with EntityOperations."),e})).catch((function(n){var r=n.get_Message?new T.a(n.get_Message()):n,i=Object(A.h)(a,e)?Object(A.h)(a,e).Id:null;throw p.c.error("OFFLINE: CommandExecutionEngine: executeCommand: failed with error: "+r.message+" for entity: "+i+" and command: "+t),r}))},prepareCommandQueries:function(e,t,n,r,a){return W(e,t,n,r,a).then((function(e){return p.c.info("OFFLINE: CommandExecutionEngine: prepareCommandQueries: Initializing the process to create batch and perform operations."),B.createBatch(t,n,e.entityOperations,e.offlineData,e.commandEntities,e.commandId,a)})).then((function(e){return p.c.info("OFFLINE: CommandExecutionEngine: prepareCommandQueries: resolving promise with EntityOperations."),e})).catch((function(n){var r=n.get_Message?new T.a(n.get_Message()):n,i=Object(A.h)(a,e)?Object(A.h)(a,e).Id:null;throw p.c.error("OFFLINE: CommandExecutionEngine: prepareCommandQueries: failed with error: "+r.message+" for entity: "+i+" and command: "+t),r}))},processOperationsSequentially:function(e,t,n,r,a,i){if(e&&0===e.length||t&&0===t.size||Object(_.a)(n)||Object(_.a)(r))return Promise.reject(new T.a("Either operations/updatedMembers is empty or entityOperations/offlineData is null. Invalid input arguments passed."));p.c.info("OFFLINE: CommandExecutionEngine: processOperationsSequentially : Processing each operation sequentially");var o=Promise.resolve([]);return e.forEach((function(e){p.c.info("OFFLINE: CommandExecutionEngine: processOperationsSequentially : processing operation : "+e.OperationName),o=o.then((function(o){return function(e){var o=y.parseValue(t,e.IsExecutable);if(o&&Object(m.a)(o.toString()))return p.c.info("OFFLINE: CommandExecutionEngine: processOperationsSequentially : processOperation: executing operation : "+e.OperationName),B.processCommandStep(e,t,n,r,a,i);return Promise.resolve(null)}(e).then((function(t){return t&&(p.c.info("OFFLINE: CommandExecutionEngine: processOperationsSequentially : adding command entity operation : "+e.OperationName),o.push(t)),o})).catch((function(t){if(p.c.error("OFFLINE: CommandExecutionEngine: processOperationsSequentially : processing operation : "+e.OperationName+" failed with error: "+Object(N.e)(t)),-2147220891===t.getNegativeErrorCode())return Promise.reject(t);var n=Object(A.h)(i,e.EntityName)?Object(A.h)(i,e.EntityName).Id:null;return Promise.reject(new T.a("Processing of operation "+e.OperationName+" for entityId "+n+" failed with error: "+t.message))}))}))})),o},processCommandStep:function(e,t,n,r,a,i){switch(e.OperationName){case s.a.CreateStep:return M.processCreateStep(e,t,n,r,a,i.user);case s.a.RetrieveStep:return M.processRetrieveStep(e,t);case s.a.UpdateStep:return M.processUpdateStep(e,t,n,a,i);case s.a.DeleteStep:return M.processDeleteStep(e,t,n,a);case s.a.SetValueStep:return M.processSetValueStep(e,t);case s.a.ConditionStep:return M.processConditionCheckStep(e,t,i.user);case s.a.FailureStep:return M.processFailureStep(e,t,i)}},createBatchAndPerformOperations:function(e,t,n,r,a,i,o){var s=V(e,t,n,r,a,i,o);if(s)return Promise.reject(s);var l=new P.a;return p.c.info("OFFLINE: CommandExecutionEngine: createBatchAndPerformOperations: Initiating performing of operations."),l.performOperations(n,a,!1).nativePromise().then((function(e){return n})).catch((function(e){return p.c.info("OFFLINE: CommandExecutionEngine: createBatchAndPerformOperations: entityOperations: Failed"+Object(N.e)(e)),Object(T.b)(e)}))},createBatch:function(e,t,n,r,a,i,o){var s=V(e,t,n,r,a,i,o);if(s)return Promise.reject(s);var l=new P.a;return p.c.info("OFFLINE: CommandExecutionEngine: createBatch: Initiating performing of operations."),l.prepareOperations(n,a,!1).nativePromise().then((function(e){return e})).catch((function(e){return p.c.info("OFFLINE: CommandExecutionEngine: createBatch: entityOperations: Failed"+Object(N.e)(e)),Object(T.b)(e)}))},createCommand:U,prepareCommandOperation:V};function W(e,t,n,r,a){if(!e||!t||n&&0===Object.keys(n).length||!r)return Promise.reject(new T.a("CommandExecutionEngine _prepareCommandQueries failed due to empty/invalid inputs."));p.c.info("OFFLINE: CommandExecutionEngine: _prepareCommandQueries: Initializing the execution of the command operations corresponding to entityLogicalName as "+e+" and commandName as "+t+" .");var i=[],o=r.CommandRequestData,s={},l=new P.a;return p.c.info("OFFLINE: CommandExecutionEngine: _prepareCommandQueries: Creating a new guid."),l.generateUID().nativePromise().then((function(e){return p.c.info("OFFLINE: CommandExecutionEngine: _prepareCommandQueries: Initiating the processing of operations sequentially."),B.processOperationsSequentially(r.Operations,o,i,s,e,a).then((function(t){return{commandId:e,commandEntities:t,entityOperations:i,offlineData:s}}))}))}function V(e,t,n,r,a,i,o){return 0===n.length||0===a.length?(p.c.error("OFFLINE: CommandExecutionEngine: prepareCommandOperation: failed because entityOperations or commandEntities are null."),new T.a("Operation could not be performed at the moment. Please try again.")):(a.unshift(U(e,t,r,i,o)),null)}function U(e,t,n,r,a){var i=Object(o.a)(a,t);return i.additionalHeaders||(i.additionalHeaders={}),n&&0!==Object.keys(n).length&&(i.additionalHeaders[s.a.OfflineData]=JSON.stringify(n)),i.urlParameters=i.urlParameters+s.a.OfflinePlaybackUrlParameter,new D.a(new k.a(r,e,j.a.InProgress,JSON.stringify(i)).toDictionary(),I.a.Create,s.a.CommandString)}var G,q,z=n("bH+A");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */function H(e,t){var n=new Map;return Array.prototype.forEach.call(e.getElementsByTagName(q.PropertyNode),(function(e){if(!e.hasAttribute(G.NameAttribute))throw p.c.error("XamlParser.GetCommandRequestData:CommandRequestData node must have a Name attribute provided."+e),new Error("CommandRequestData node must have a Name attribute provided.");var r=e.getAttribute(G.NameAttribute);n.set(r,t.get(r))})),n}function K(e){var t={};if(!e.hasAttribute(G.OperationNameAttribute)||!e.hasAttribute(G.EntityNameAttribute)||!e.hasAttribute(G.IsExecutableAttribute))throw p.c.error("XamlParser.GetOperation:Operation node must have a OperationName, EntityName and IsExecutable attributes provided."+e),new Error("Operation node must have a OperationName, EntityName and IsExecutable attributes provided.");return t.OperationName=e.getAttribute(G.OperationNameAttribute),t.EntityName=e.getAttribute(G.EntityNameAttribute),t.IsExecutable=e.getAttribute(G.IsExecutableAttribute),e.hasAttribute(G.SourceAttribute)&&(t.Source=e.getAttribute(G.SourceAttribute)),Array.prototype.forEach.call(e.childNodes,(function(n){switch(n.nodeName){case q.AttributesNode:t.Attribute=(r=e,Array.prototype.map.call(r.getElementsByTagName(q.AttributeNode),(function(e){var t={};if(!e.hasAttribute(G.FieldAttribute))throw p.c.error("XamlParser.GetAttributes:Attribute node must have a Field attribute provided."+e),new Error("Attribute node must have a Field attribute provided.");t.Field=e.getAttribute(G.FieldAttribute),t.Value=e.firstChild.nodeValue;var n=e.getAttribute(G.IsResettableAttribute);return n&&(t.IsResettable=n),t})));break;case q.ConditionsNode:t.MultipleCheck=function(e){return Array.prototype.map.call(e.getElementsByTagName(q.MultipleCheckNode),(function(e){var t={};if(!e.hasAttribute(G.TypeAttribute))throw p.c.error("XamlParser.GetMultipleChecks:MultipleCheck node must have a Type attribute provided."+e),new Error("MultipleCheck node must have a Type attribute provided.");return t.Type=e.getAttribute(G.TypeAttribute),t.Condition=function(e){return Array.prototype.map.call(e.getElementsByTagName(q.ConditionNode),(function(e){var t={};if(!(e.hasAttribute(G.LeftOperandAttribute)&&e.hasAttribute(G.RightOperandAttribute)&&e.hasAttribute(G.OperatorAttribute)&&e.hasAttribute(G.TypeAttribute)))throw p.c.error("XamlParser.GetConditions:Condition node must have a Left Operand, Right Operand, Operator and Type attribute provided."+e),new Error("Condition node must have a Left Operand, Right Operand, Operator and Type attribute provided.");return t.LeftOperand=e.getAttribute(G.LeftOperandAttribute),t.RightOperand=e.getAttribute(G.RightOperandAttribute),t.Operator=e.getAttribute(G.OperatorAttribute),t.Type=e.getAttribute(G.TypeAttribute),t}))}(e),t}))}(e);break;case q.ResultNode:t.Result=function(e){var t=X(e,q.ResultNode);if(!t)throw p.c.error("XamlParser.GetResult:Result node must have a Name and Value attributes provided."+e),new Error("Result node must have a Name and Value attributes provided.");return t}(e);break;case q.IdentifierNode:t.Identifier=function(e){var t=X(e,q.IdentifierNode);if(!t)throw p.c.error("XamlParser.GetIdentifier:Identifier node must have a Name and Value attributes provided."+e),Error("Identifier node must have a Name and Value attributes provided.");return t}(e);break;case q.MessageNode:t.Message=function(e){var t=e.getElementsByTagName(q.MessageNode);if(t&&t.length>0){if(1===t.length){var n=t[0];return{WebResourceName:n.getAttribute(G.WebResourceNameAttribute),Key:n.getAttribute(G.KeyAttribute)}}throw new Error("More than one message found.")}return null}(e)}var r})),t}function X(e,t){var n=e.getElementsByTagName(t),r=(null!=n&&n.length)>0?n[0]:e;return r.hasAttribute(G.NameAttribute)&&r.hasAttribute(G.ValueAttribute)?{Name:r.getAttribute(G.NameAttribute),Value:r.getAttribute(G.ValueAttribute)}:null}!function(e){e.NameAttribute="Name",e.OperationNameAttribute="OperationName",e.EntityNameAttribute="EntityName",e.IsExecutableAttribute="IsExecutable",e.FieldAttribute="field",e.IsResettableAttribute="IsResettable",e.OperatorAttribute="Operator",e.RightOperandAttribute="RightOperand",e.LeftOperandAttribute="LeftOperand",e.TypeAttribute="Type",e.ValueAttribute="Value",e.SourceAttribute="Source",e.WebResourceNameAttribute="WebResourceName",e.KeyAttribute="Key"}(G||(G={})),function(e){e.RootNode="Activity",e.OperationNode="Operation",e.PropertyNode="Property",e.AttributesNode="Attributes",e.ConditionsNode="Conditions",e.ResultNode="Result",e.IdentifierNode="Identifier",e.MultipleCheckNode="MultipleCheck",e.ConditionNode="Condition",e.AttributeNode="Attribute",e.MessageNode="Message"}(q||(q={}));var Q,Y=n("G7N+"),J=n("VWqI"),Z=n("Ev4I"),$=n("gBKR"),ee=n("l8p4"),te=n("k2d9"),ne=n("nlF/"),re=n("cgrB"),ae=n("cJfs");!function(e){e.QualifyLeadCommandName="QualifyLead",e.ConvertActivityCommandName="ConvertActivity",e.LoseOpportunityCommandName="LoseOpportunity",e.WinOpportunityCommandName="WinOpportunity",e.ResolveCaseCommandName="CloseIncident",e.SetState="SetState",e.CloseActivityCommandName="CloseActivity",e.ResolveIncidentCommandName="ResolveIncident"}(Q||(Q={}));var ie,oe=n("qC0c"),se=n("cZkS"),le=n("0+L4"),ce=n("7WOp"),ue=n("QAhb"),_e=n("SApI");function pe(e,t,n,r){return{type:"offline.noncud.request.process",execute:function(a,i){var o=a.dispatch,s=a.getState;return de(e,t,n,{dispatch:o,getState:s},r).then((function(r){return p.c.info("OFFLINE: CommandHandler: processCommandRequest: Executing the command operations."),B.executeCommand(e,t,n,r,s())})).then((function(e){return p.c.info("OFFLINE: CommandHandler: processCommandRequest: Resolving promise with entity operations."),e})).catch((function(n){throw p.c.error("OFFLINE: CommandHandler: processCommandRequest: failed with error: "+Object(N.e)(n)+" for entity: "+e+" and command: "+t),n}))}}}function de(e,t,n,r,a){if(p.c.info("OFFLINE: CommandHandler: processCommandRequest: Initializing processing of non cud request with entityName as "+e+", commandName as "+t+"."),!e||!t||!n||0===Object.keys(n).length)return p.c.error("OFFLINE: CommandHandler: processCommandRequest: failed because entity/command/request is empty."),Promise.reject(new T.a("The entityName/commandName/request is empty."));p.c.info("OFFLINE: CommandHandler: processCommandRequest: Retrieving user privilege and custom entity flag for the entity "+e+".");var o=r.getState,l=r.dispatch;return ge(e,r).then((function(t){if(!t.get("isPrivileged")){var n=Object(A.h)(o(),e)?Object(A.h)(r.getState(),e).Id:null;throw p.c.error("OFFLINE: CommandHandler: processCommandRequest: failed because the user does not have the privilege of the entity or the write permission on the entity "+n+"."),new T.a("The user does not have the privilege of the entity or the write permission on the entity.")}return t})).then((function(c){return p.c.info("OFFLINE: CommandHandler: processCommandRequest: Retrieving command xaml for command "+t+"."),he(c.get("isActivity")&&c.get("isCustomEntity")&&t===Q.ConvertActivityCommandName?"CustomActivity":e,t,r).then((function(c){if(!c)throw p.c.error("OFFLINE: CommandHandler: processCommandRequest: Retrieving command xaml failed because Xaml was not found or was empty for entity "+e+" and command "+t+"."),new T.a("Xaml not found or was empty.");p.c.info("OFFLINE: CommandHandler: processCommandRequest: Parsing the command xaml to get corresponding command operations for command "+t+".");var u=function(e,t){var n=(new DOMParser).parseFromString(e,"text/xml");if(p.c.info("XamlParser.createObjectFromXaml:Creates command operations from commandXaml: "+e),!n.hasChildNodes()||n.childNodes[0].nodeName!==q.RootNode)throw p.c.error("XamlParser.CreateObjectFromXaml:CreateObjectFromXaml must have a valid root node with name Activity. "+e),new Error("CreateObjectFromXaml must have a valid root node with name Activity.");var r=n.getElementsByTagName(q.RootNode)[0];return{CommandRequestData:H(r,t),Operations:Array.prototype.map.call(r.getElementsByTagName(q.OperationNode),K)}}(c,function(e,t,n){var r=new Map,a=e,o=n&&n.EntityLogicalName;Object.keys(e).filter((function(e){return a[e]&&("function"!=typeof a[e]||"name"===e||"xmlNamespace"===e)})).forEach((function(s){if("entityMoniker"!==s){var l=null;a[s].hasOwnProperty("@odata.type")&&(l=a[s]["@odata.type"].replace(/#Microsoft.Dynamics.CRM./,""));var c=Object.keys(a[s]).filter((function(e){return Object(_e.c)(e)})),u=Object.keys(a[s]).filter((function(e){return Object(_e.f)(e)}));if(c&&0!==c.length||u&&0!==u.length){var _=Object(i.__assign)({},a[s]);c&&0!==c.length&&c.forEach((function(e){var r,a=Oe(_[e]),s=Object(_e.c)(e)[1],c=Object(A.y)(t,l||o,s),u=c&&c.ReferencingAttribute;if(u||(u=s.split("_")[0]),a){delete _[e];var p=Object(Z.d)(t,a[0]),d=p&&p.entitylogicalname;if(p){var f={id:a[1],entityType:d,typeCode:m.b(p.objecttypecode)};n&&n[u]&&n[u].name&&(f.name=n[u].name,delete n[u]),_=Object(i.__assign)(((r={})[u]=f,r),_)}}})),u&&0!==u.length&&u.forEach((function(e){var t,n=Object(_e.f)(e)[1];if(n&&null==_[e]){var r={id:null,entityType:null,name:null};delete _[e],_=Object(i.__assign)(((t={})[n]=r,t),_)}})),r.set(s,_)}else r.set(s,e[s])}else r.set("entityId",a[s].get_identifier()),r.set("entityName",a[s].get_displayName())})),n&&Object.keys(n).forEach((function(e){r.set(e,n[e])}));return r}(n,r.getState(),a));if(!u||!u.Operations||!u.CommandRequestData)throw p.c.error("OFFLINE: CommandHandler: processCommandRequest: failed because the creation of command operations from command xaml failed for command "+t+"."),new T.a("The creation of command operations from command xaml failed.");for(var _=[],d=0,f=u.Operations;d<f.length;d++){var g=f[d],h=y.getEntityName(u.CommandRequestData,g.EntityName);if(s.a.UpdateStep===g.OperationName&&h){var b=Object(A.h)(o(),h);b&&Object(Y.b)(b.Initialized)||_.push(l(Object($.f)(h,!1,[])))}}return Promise.all(_).then((function(){return u}))}))}))}function fe(e,t,n,r){return{type:"offline.noncud.request.process",execute:function(a,i){var o=a.dispatch,s=a.getState;return de(e,t,n,{dispatch:o,getState:s},r).then((function(r){return p.c.info("OFFLINE: CommandHandler: prepareCommandRequestQueries: Preparing the command queries."),B.prepareCommandQueries(e,t,n,r,s())})).then((function(e){return p.c.info("OFFLINE: CommandHandler: prepareCommandRequestQueries: Resolving promise with queryset dictionary."),e})).catch((function(n){throw p.c.error("OFFLINE: CommandHandler: prepareCommandRequestQueries: failed with error: "+Object(N.e)(n)+" for entity: "+e+" and command: "+t),n}))}}}function me(e){var t=e.map((function(e){if(e.get_operationPerformed()===I.a.Create)return{LogicalName:e.get_entityType(),Id:e.get_entity()[e.get_entityType()+"id"]}})).filter((function(e){return e}));return{ok:!0,status:t.length?200:204,json:function(){return Promise.resolve({createdEntities:t})},text:function(){return Promise.resolve(JSON.stringify({createdEntities:t}))}}}function ge(e,t){return t.dispatch(Object($.f)(e,!1,[])).then((function(){var n=Object(A.h)(t.getState(),e);return(new Map).set("isPrivileged",Object(J.g)(t.getState(),e,3,-1)).set("isActivity",n.IsActivity).set("isCustomEntity",n.IsCustomEntity)})).catch((function(e){return p.c.error("retrieveEntity fails"+Object(N.e)(e)),Promise.reject(e)}))}function he(e,t,n){var r=String.format(z.a.CommandXamlRetrievalQuery,t,e);p.c.info("Retrieving commandxaml for "+e+" with sql value: "+r);var a=new te.a(new ne.a,null);return a.set_EntityLogicalName(z.a.OfflineCommandDefinition),a.set_ColumnSet(new re.a([])),a.get_DescriptorSet().updateDescriptorSet(ae.a.Sql,r),n.dispatch(Object(ee.a)(a,null)).then((function(e){var t=e.get_entities();if(t&&1===t.length)return p.c.info("Able to successfully retrieve multiple record from offline db"),t[0].getValue("commanddefinition");throw p.c.error("Retrieved more than one command xaml from db."),Error("Retrieved more than one command xaml from db.")}),(function(e){throw p.c.error("Unable to Retrieve xaml from offline db "+Object(N.e)(e)),e}))}function be(e,t,n){switch(t){case Q.QualifyLeadCommandName:case Q.ConvertActivityCommandName:case Q.WinOpportunityCommandName:case Q.LoseOpportunityCommandName:case Q.ResolveIncidentCommandName:return Promise.resolve(!0);default:return Object(oe.c)(e.getState(),se.I)?function(e){if(!ie)return function(e){p.c.info("Retrieving all command names");var t=new te.a(new ne.a,null);return t.set_EntityLogicalName(z.a.OfflineCommandDefinition),t.set_ColumnSet(new re.a([])),t.set_PageSize(100),t.get_DescriptorSet().updateDescriptorSet(ae.a.Sql,z.a.CommandsRetrievalQuery),e.dispatch(Object(ee.a)(t,null)).then((function(e){var t=e.get_entities();if(t&&t.length>0)return p.c.info("Able to successfully retrieve multiple commands from offline db"),t.reduce((function(e,t){var n=t.getValue("commandname"),r=t.getValue("primaryentitylogicalname");return e.hasOwnProperty(n)?e[n].push(r):e[n]=[r],e}),{});throw p.c.error("Retrieved no commands from db."),Error("Retrieved no commands from db.")}),(function(e){throw p.c.error("Unable to Retrieve commands from offline db "+Object(N.e)(e)),e}))}(e).then((function(e){ie=e}));return Promise.resolve()}(e).then((function(){return function(e,t){return ie&&ie[e]&&-1!==ie[e].indexOf(t)}(t,n)})):Promise.resolve(!1)}}function Se(e,t,n,r){switch(t.get_name()){case"Create":var a=t,i=a.get_target(),o=Object(ce.b)(e.getState(),i),s=i.get_identifier().LogicalName;n=n||u.a.fromLegacyGuid(i.get_identifier().Id);var l=s+"id";o.hasOwnProperty(l)||u.a.isNullOrEmpty(n)||(o[l]=u.a.toString(n)),r&&ye(i,r);var c=a.get_suppressDuplicateDetection();return new le.b(s,o,c);case"Update":var _=t;i=_.get_target();r&&ye(i,r);c=_.get_suppressDuplicateDetection();return new le.g(i.get_identifier().LogicalName,i.get_identifier().Id.toString(),Object(ce.b)(e.getState(),i),null,null,!1,c);case"Delete":i=t.get_target();return new le.c(ue.a.legacyToExternalEntityReference(i));case"ExecuteMultiple":var p=t,d=p.get_requests().map((function(t){return Se(e,t)}));return p.get_settings().get_continueOnError()?new le.d(d):new le.d([d]);default:return null}}function ye(e,t){e.get_changedFieldNames().forEach((function(n){var r=e.getValue(n);r&&r.hasOwnProperty("Id")&&(t[n]={name:r.Name})}))}function Oe(e){var t=e.match("/(.*)\\((.*)\\)");return t&&3===t.length?[t[1],t[2]]:null}}}]),window.bundleExecutionMarkers["scripts/es5/offlinets.js?v=1.4.9962-v91onpremise"].end=window.performance.now(),window.reportBundleExecutionTimes&&window.reportBundleExecutionTimes();