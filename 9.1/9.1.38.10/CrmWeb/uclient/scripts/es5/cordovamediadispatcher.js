(window.bundleExecutionMarkers=window.bundleExecutionMarkers||{})["scripts/es5/cordovamediadispatcher.js?v=1.4.9962-v91onpremise"]={begin:performance.now()},(window.__wpJsonpUci=window.__wpJsonpUci||[]).push([[54],{"0wMB":function(e,t,r){"use strict";r.r(t),r.d(t,"CordovaMediaDispatcher",(function(){return h}));var n,i=r("c/eZ"),o=r("2bSt"),a=r("pytl"),u=r("m5m6"),l=function(e){function t(r,n){var i=e.call(this)||this;return i._onResult=null,i._onResult=r,i._resultProperty=new a.a("result",n||Object,t),i}return Object(i.__extends)(t,e),t.prototype._get_Result=function(){return this.getValue(this._resultProperty)},t.prototype.call=function(){this._onResult&&this._onResult(this._get_Result())},t}(u.a);!function(e){e[e.pluginCancelled=1]="pluginCancelled",e[e.fileSizeBreached=2]="fileSizeBreached",e[e.fileSizeCannotBeZero=3]="fileSizeCannotBeZero",e[e.cameraPluginError=4]="cameraPluginError",e[e.videoCapturePluginError=5]="videoCapturePluginError",e[e.audioCapturePluginError=6]="audioCapturePluginError",e[e.barCodePluginError=7]="barCodePluginError",e[e.geoLocationPluginError=8]="geoLocationPluginError",e[e.noActivityToAudioCapture=9]="noActivityToAudioCapture"}(n||(n={}));
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
var c,s=function(e){function t(t){var r=e.call(this)||this;return r._onErrorCallback=null,r._onErrorCallback=t,r}return Object(i.__extends)(t,e),t.prototype._get_ErrorCode=function(){return this.getValue(t._ErrorCodeProperty)},t.prototype._get_ErrorMessage=function(){return this.getValue(t._ErrorMessageProperty)},t.prototype.call=function(){this._onErrorCallback(this._get_ErrorCode(),this._get_ErrorMessage())},t._ErrorCodeProperty=new a.a("errorCode",n,t),t._ErrorMessageProperty=new a.a("errorMessage",String,t),t}(u.a),p=function(e){function t(r,n,i,o,a){var u=e.call(this)||this;return u.setValue(t._onSuccessCallbackProperty,new l(r,a)),u.setValue(t._onFailureCallbackProperty,new s(n)),u.setValue(t._actionName,i),u.setValue(t._args,o),u}return Object(i.__extends)(t,e),t.prototype.get_methodName=function(){return t._name},t._name="exec",t._onSuccessCallbackProperty=new a.a("onSuccess",l,t),t._onFailureCallbackProperty=new a.a("onFailure",s,t),t._actionName=new a.a("actionName",String,t),t._args=new a.a("args",Array,t),t}(r("lYGT").a),_=r("stk2"),g=r("WS0f"),d=r("TCzx"),f=r("bMx1"),y=r("LAqF");!function(e){e[e.datA_URL=0]="datA_URL",e[e.filE_URI=1]="filE_URI",e[e.nativE_URI=2]="nativE_URI"}(c||(c={}));var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.get_namespaceName=function(){return"CordovaMedia"},t.prototype._exec=function(e,t,r,n,i){var o=new p(e,t,r,[JSON.stringify(n)],i);this.callNativeMethod(this.get_version().get_currentVersion(),o)},t.prototype.takePictureOnDevice=function(e,t,r,n){Object(f.c)(r,"actionName"),d.a.getInstance().get_IsAndroid()?this._invokeCameraPlugin(e,t,n):d.a.getInstance().get_IsIOS()?(n.destinationType=c.datA_URL,this._invokeCameraPlugin(e,t,n)):this._exec(e,t,r,n,_.a)},t.prototype._invokeCameraPlugin=function(e,t,r){var i=this;window.navigator.camera.getPicture((function(n){if(!Object(g.a)(n)){var o=i._getPALDataFileSize(n);if(i._isFileSizeBreached(t,o,r.maxUploadFileSize))return;var a=new _.a;a.set_fileContents(i._getPALDataFileContents(n)),a.set_filename(i._getPALDataFileName(n)),a.set_mimeType(i._getPALDataFileMimeType(n)),a.set_size(o),i._onPluginCallSuccess(e,a,_.a)}}),(function(e){-1!==e.toString().indexOf("Canceled.")||-1!==e.toString().toLowerCase().indexOf("no image selected")?i._onPluginCallFailure(t,n.pluginCancelled,e.toString()):i._onPluginCallFailure(t,n.cameraPluginError,e.toString())}),r)},t.prototype._getPALDataFileContents=function(e){return d.a.getInstance().get_IsAndroid()?e[0].fileContents:e.toString()},t.prototype._getPALDataFileName=function(e){return d.a.getInstance().get_IsAndroid()?e[0].filename:(new Date).format("MMddyyyyhhmmss")+".jpg"},t.prototype._getPALDataFileMimeType=function(e){return d.a.getInstance().get_IsAndroid()?e[0].mimeType:"image/JPEG"},t.prototype._getPALDataFileSize=function(e){return d.a.getInstance().get_IsAndroid()?e[0].size:e.length},t.prototype.captureVideoFromDevice=function(e,t,r,i){var o=this;(Object(f.c)(r,"actionName"),d.a.getInstance().get_IsAndroid()||d.a.getInstance().get_IsIOS())?window.navigator.capture.captureVideo((function(r){if(Object(g.a)(r))o._onPluginCallFailure(t,n.videoCapturePluginError,"Captured media item is empty");else{if(o._isFileSizeBreached(t,r[0].size,i.maxUploadFileSize))return;o._callMediaDispatcherForBytes(e,t,"Video",r[0].fullPath,i,n.videoCapturePluginError)}}),(function(e){o._onPluginCallFailure(t,n.videoCapturePluginError,Object(g.a)(e.code)?e.toString():e.code.toString())}),i):this._exec(e,t,r,i,_.a)},t.prototype.captureAudioFromDevice=function(e,t,r,i){var o=this;(Object(f.c)(r,"actionName"),d.a.getInstance().get_IsAndroid()||d.a.getInstance().get_IsIOS())?window.navigator.capture.captureAudio((function(r){if(Object(g.a)(r))o._onPluginCallFailure(t,n.audioCapturePluginError,"Captured media item is empty");else{if(o._isFileSizeBreached(t,r[0].size,i.maxUploadFileSize))return;o._callMediaDispatcherForBytes(e,t,"Audio",r[0].fullPath,i,n.audioCapturePluginError)}}),(function(e){o._handleCaptureAudioError(e,t)}),i):this._exec(e,t,r,i,_.a)},t.prototype.captureAudioWithUrlFromDevice=function(e,t,r,i){var o=this;(Object(f.c)(r,"actionName"),d.a.getInstance().get_IsAndroid()||d.a.getInstance().get_IsIOS())?window.navigator.capture.captureAudio((function(r){if(r){if(o._isFileSizeBreached(t,r[0].size,i.maxUploadFileSize))return;o._callMediaDispatcherForUrl(e,t,"Audio",r[0].fullPath,i,n.audioCapturePluginError)}else o._onPluginCallFailure(t,n.audioCapturePluginError,"Captured media item is empty")}),(function(e){o._handleCaptureAudioError(e,t)}),i):this._exec(e,t,r,i,_.a)},t.prototype._handleCaptureAudioError=function(e,t){e&&-1===e.toString().indexOf("No Activity found to handle Intent")?this._onPluginCallFailure(t,n.audioCapturePluginError,Object(g.a)(e.code)?e.toString():e.code.toString()):this._onPluginCallFailure(t,n.noActivityToAudioCapture,e.toString())},t.prototype.getCurrentPosition=function(e,t,r,n){Object(f.c)(r,"actionName"),this._exec(e,t,r,n,String)},t.prototype.scanBarcode=function(e,t,r,i){var o=this,a=window.navigator;Object(f.c)(r,"actionName"),d.a.getInstance().get_IsAndroid()||d.a.getInstance().get_IsIOS()?(i.preferFrontCamera=!1,i.showFlipCameraButton=!0,a.barcodeScanner.scan((function(r){Object(g.a)(r)?o._onPluginCallFailure(t,n.barCodePluginError,"Scanned bar code value is empty"):r.cancelled||o._onPluginCallSuccess(e,r.text,String)}),(function(e){t(n.barCodePluginError,e.toString())}),i)):this._exec(e,t,r,i,String)},t.prototype._callMediaDispatcherForBytes=function(e,t,r,n,o,a){return Object(i.__awaiter)(this,void 0,void 0,(function(){var u=this;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,y.a.get_Instance().get_multimedia()];case 1:return i.sent().getMediaBytes(r,n,o.maxUploadFileSize,(function(t){Object(g.a)(t)||u._onPluginCallSuccess(e,t,_.a)}),(function(e){u._onPluginCallFailure(t,a,e.message)})),[2]}}))}))},t.prototype._callMediaDispatcherForUrl=function(e,t,r,n,o,a){return Object(i.__awaiter)(this,void 0,void 0,(function(){var u=this;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,y.a.get_Instance().get_multimedia()];case 1:return i.sent().getMediaUrl(r,n,o.maxUploadFileSize,(function(t){Object(g.a)(t)||u._onPluginCallSuccess(e,t,_.b)}),(function(e){u._onPluginCallFailure(t,a,e.message)})),[2]}}))}))},t.prototype._isFileSizeBreached=function(e,t,r){return t>r&&(this._onPluginCallFailure(e,n.fileSizeBreached,n[n.fileSizeBreached]),!0)},t.prototype._onPluginCallSuccess=function(e,t,r){if(t){var n={result:t};new l(e,r).callback(n)}},t.prototype._onPluginCallFailure=function(e,t,r){if("3"!==r){var n=new s(e),i={};i.errorMessage=r,i.errorCode=t,n.callback(i)}},t}(o.a)},stk2:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return l}));var n=r("c/eZ"),i=r("61oC"),o=r("pytl"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.get_dataID=function(){return this.getValue(t._DataIDProperty)},t.prototype.set_dataID=function(e){return this.setValue(t._DataIDProperty,e),e},t.prototype.get_size=function(){return this.getValue(t._SizeProperty)},t.prototype.set_size=function(e){return this.setValue(t._SizeProperty,e),e},t.prototype.get_filename=function(){return this.getValue(t._FilenameProperty)},t.prototype.set_filename=function(e){return this.setValue(t._FilenameProperty,e),e},t.prototype.get_mimeType=function(){return this.getValue(t._MimeTypeProperty)},t.prototype.set_mimeType=function(e){return this.setValue(t._MimeTypeProperty,e),e},t.prototype.get_name=function(){return this.get_filename()},t.prototype.get_type=function(){return this.get_mimeType()},t._DataIDProperty=new o.a("dataID",String,t),t._SizeProperty=new o.a("size",Number,t),t._FilenameProperty=new o.a("filename",String,t),t._MimeTypeProperty=new o.a("mimeType",String,t),t}(i.a),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.get_fileContents=function(){return this.getValue(t._FileContentsProperty)},t.prototype.set_fileContents=function(e){return this.setValue(t._FileContentsProperty,e),e},t._FileContentsProperty=new o.a("fileContents",String,t),t}(a),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.get_resourceUrl=function(){return this.getValue(t._ResourceUrlProperty)},t.prototype.set_resourceUrl=function(e){return this.setValue(t._ResourceUrlProperty,e),e},t._ResourceUrlProperty=new o.a("resourceUrl",String,t),t}(a)}}]),window.bundleExecutionMarkers["scripts/es5/cordovamediadispatcher.js?v=1.4.9962-v91onpremise"].end=window.performance.now(),window.reportBundleExecutionTimes&&window.reportBundleExecutionTimes();