(window.bundleExecutionMarkers=window.bundleExecutionMarkers||{})["scripts/es5/offlineODataCRUD.js?v=1.4.9962-v91onpremise"]={begin:performance.now()},(window.__wpJsonpUci=window.__wpJsonpUci||[]).push([[94],{"0JHn":function(e,t,a){"use strict";a.r(t),a.d(t,"CREATE_ACTION_NAME",(function(){return E})),a.d(t,"oDataOfflineCreate",(function(){return N})),a.d(t,"transformPayload",(function(){return D}));var n=a("c/eZ"),r=a("gBKR"),i=a("/j9Z"),o=a("rxna"),c=a("0+L4"),s=a("kJGL"),u=a("lMVv"),f=a("DRVD"),l=a.n(f),d=a("CCTC"),b=a("VpsV"),w=a("xkx/"),p=a("SApI"),v=a("WS0f"),g=a("6Jxj"),m=a("z7hd"),O=a("Oa+M"),h=a("jF+8"),j=a("GUnN"),y=a("Kn4q"),E="xrmwebapi.offline.mdl.create",k=l.a.createEvent("XrmWebApiOfflineMDLCreate",d.w);function N(e,t,a){var u=this;return void 0===a&&(a=[]),{type:E,execute:function(f,l){var d=f.getState,p=f.dispatch;return Object(n.__awaiter)(u,void 0,void 0,(function(){var u,f,v,g,m,O,h,j,N,R,_;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:u=k.startStopwatch(),f=l.TraceManager.getTracer("OfflineODataCRUD"),n.label=1;case 1:return n.trys.push([1,5,,6]),D(d(),e,t,f),[4,p(Object(r.f)(e,!1,[]))];case 2:if(n.sent(),v=Object(o.a)(d(),l,[e],E))throw v;if(g=new c.b(e,t),!Object(w.j)(d(),g))throw v=new i.a(g.getMetadata().operationName+" is not a supported MDL operation",-2147098612,null,null,null,null,null,[{name:"OfflineOperation",value:g.getMetadata().operationName}]);return[4,Object(b.b)()];case 3:return m=n.sent(),a.push({name:"CallingAction",value:E}),[4,p(m.executeOData(g,y.a.Local,a))];case 4:return O=n.sent(),h=s.a.parseResponseAsEntityReference(O,e),u(),[2,h];case 5:throw j=n.sent(),u(),f.error(null!==(N=j.message)&&void 0!==N?N:j),new i.a(null!==(R=j.message)&&void 0!==R?R:j,void 0,new Error(null!==(_=j.message)&&void 0!==_?_:j),j);case 6:return[2]}}))}))},getFailureParameters:function(e,t){return a}}}function D(e,t,a,n){try{var r=Object(p.e)(Object.keys(a),t,e),o=[];Object.keys(r).forEach((function(c){if(c in a){var s=a[c],f=r[c];if(!Object(v.a)(s))switch(f){case"integer":case"bigint":var l=parseInt(s.toString(),10);if(isNaN(l))throw new i.a(Object(h.a)(-7005,[c]),-7005);a[c]=l;break;case"decimal":case"double":case"money":break;case"datetime":a[c]=s.toISOString();break;case"boolean":var d=s.get_value();a[c]=0!==d;break;case"state":case"status":case"picklist":a[c]=s.get_value();break;case"uniqueidentifier":a[c]=s.toString();break;case"lookup":case"customer":case"owner":!function(e,t,a,n,r){var o=a[n],c=o.LogicalName,s=o.Id,f=Object(u.A)(e,t),l=!1;for(var d in f)if((f[d].ReferencingAttribute===n||f[d].ReferencingEntityNavigationPropertyName===n)&&f[d].ReferencedEntity===c){l=!0;var b=Object(u.o)(e,c);a[f[d].ReferencingEntityNavigationPropertyName+"@odata.bind"]="/"+b+"("+s+")",delete a[n]}if(!l){var w="No navigation property found for attribute '"+n+"' with entity type '"+c+"'",p=new i.a(w,-2147015424,new Error(w));throw r.error("["+(v||"OfflineODataCRUD")+"] "+w),p}var v}(e,t,a,c,n);break;case"partylist":o.push(c);case"string":case"memo":case"unknown":case"entityname":break;default:throw new i.a(Object(h.a)(-7013,[c]),-7013)}}})),function(e,t,a,n,r){if(0===n.length)return;var i=[];n.forEach((function(n){a[n].get_entities().forEach((function(a){var r=a.getValue(g.b.PartyId),o=Object(u.o)(e,r.LogicalName),c={};c[g.b.PartyId+"_"+r.LogicalName+"@odata.bind"]="/"+o+"("+r.Id.toString()+")",c[m.P]=Object(O.a)(t,n),i.push(c)})),delete a[n]}));var o=Object(u.b)(e,t);a[o.ReferencedEntityNavigationPropertyName]=i}(e,t,a,o)}catch(e){throw n.error("Payload transformation failed with error: "+Object(j.e)(e)),e}}}}]),window.bundleExecutionMarkers["scripts/es5/offlineODataCRUD.js?v=1.4.9962-v91onpremise"].end=window.performance.now(),window.reportBundleExecutionTimes&&window.reportBundleExecutionTimes();