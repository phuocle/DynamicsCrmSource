(window.bundleExecutionMarkers=window.bundleExecutionMarkers||{})["scripts/es5/popupnotification.js?v=1.4.9962-v91onpremise"]={begin:performance.now()},(window.__wpJsonpUci=window.__wpJsonpUci||[]).push([[97,46],{pxbl:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var o,n=i("nuS9"),r=i("4fxQ"),s=i("H/hG"),p=i("YWpA"),a=i("CGM5"),c=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=function(){return(l=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},u=function(t){function e(e){var i=t.call(this,e)||this;return i._toggleCollapseState=i._toggleCollapseState.bind(i),i.saveItemRef=i.saveItemRef.bind(i),i._firstRender=!0,i._totalLineHeight=0,i.state={collapsed:!0},i._backgroundCanvas=document.createElement("canvas"),i._areLinesTruncated=!1,i}return c(e,t),e.prototype.componentDidMount=function(){!this.props.isFieldLabel&&this._firstRender&&this._textRef&&this.props.truncatedlines&&this.forceUpdate()},e.prototype._toggleCollapseState=function(){this.props.noExpandable||this.setState({collapsed:!this.state.collapsed})},e.prototype.saveItemRef=function(t){this._textRef=t},e.prototype._calculateLineHeight=function(){if(this._textRef&&this.state.collapsed){var t=r.findDOMNode(this._textRef);if(t){var e=window.getComputedStyle(t);this._firstRender&&(this._originalHeight=parseInt(e.height,10),this._firstRender=!1);var i=0;if(i=this.props.lineHeight?this.props.lineHeight:parseInt(e.lineHeight,10),isNaN(i)){var o=t.cloneNode();o.innerHTML="<br>",t.appendChild(o);var n=o.offsetHeight;o.innerHTML="<br><br>";var s=o.offsetHeight;t.removeChild(o),i=s-n}if(this._areLinesTruncated=this._originalHeight>i*this.props.truncatedlines,!this._areLinesTruncated)return this._originalHeight+"px";if(0!==i){var p=i*this.props.truncatedlines;this._totalLineHeight=p}return this._totalLineHeight+"px"}}},e.prototype.render=function(){var t=Object.assign(this._getTextStyle(),this.props.flexibleTextStyle),e=Object.assign({display:"flex",flexDirection:"Column",width:"100%"},this.props.flexibleTextContainerStyle);return n.createElement(p.a,{style:e},n.createElement(s.a,l({},this.props,{onClick:this._toggleCollapseState,style:t,ref:this.props.isFieldLabel?null:this.saveItemRef,id:this.props.id,className:this._returnExpandableClassName()}),this.props.children))},e.prototype._calculateHeight=function(){var t=0;if(this.props.isFieldLabel){var e=this._backgroundCanvas.getContext("2d");e.font=this.props.flexibleTextStyle&&this.props.flexibleTextStyle.fontSize&&this.props.flexibleTextStyle.fontFamily?this.props.flexibleTextStyle.fontSize+" "+this.props.flexibleTextStyle.fontFamily:"14px Segoe UI";var i=e.measureText(this.props.children.props.children).width/144;i>this.props.truncatedlines&&(i=this.props.truncatedlines,this._areLinesTruncated=!0),t=this.props.lineHeight&&this._areLinesTruncated?this.props.lineHeight*i:null}return t},e.prototype._getTextStyle=function(){return this.state.collapsed?1===this.props.truncatedlines?{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",direction:this.props.isRTL?"rtl":"ltr"}:{overflow:"hidden",position:"relative",height:this.props.isFieldLabel?this._calculateHeight():this._calculateLineHeight(),display:"inline-block",textAlign:"justify",":after":this._areLinesTruncated?{background:this.props.maskingColor?this.props.maskingColor:"#F8F7F6"}:"",paddingLeft:this.props.isRTL?"0.75rem":void 0,paddingRight:this.props.isRTL?void 0:"0.75rem"}:{}},e.prototype._returnExpandableClassName=function(){return this._areLinesTruncated?this.props.isRTL?"block-with-text-noexpansion-rtl":"block-with-text-noexpansion":""},e}(a.a)},wj54:function(t,e,i){"use strict";i.r(e),i.d(e,"PopupNotification",(function(){return L}));var o=i("4E+q"),n=i("dkaS"),r=i("wV3W"),s=i("7EJx"),p=i("0u+G"),a=i("/3Li"),c=i("aPRd"),l=i("wQXd");function u(t){var e,i=Object(r.a)(t),o=Object(s.g)(t),n=Object(l.c)(t),u=function(t){if(Object(a.a)(t)===p.b.Native)return!0;var e=Object(r.a)(t).sizes.Breakpoints.DimensionS;return Object(c.c)(t)<=e}(t);return{popupNotificationRootStyle:(e={},e[o?"left":"right"]=i.sizes.Measures.Measure050,e.top=n?"0.5rem":u?"3.5rem":"3.93rem",e),entityImageStyle:{width:"19px",textAlign:"center",borderRadius:"50%",backgroundColor:"#E9E9E9"}}}var h=i("c/eZ"),d=i("nuS9"),f=i("YWpA"),m=i("H/hG"),y=i("pxbl"),_=i("evW+"),b=i("7sMj"),g=i("tyZ/"),v=function(t){function e(e){var i=t.call(this,e)||this;return i.state={},i._onTimerCheck=i._onTimerCheck.bind(i),i._onAccept=i._onAccept.bind(i),i._onDecline=i._onDecline.bind(i),i.props.retrieveResourceStrings(),i.props.timeoutAction&&(i.state={displayWaitTime:Math.round(i.props.timeoutAction.timeout/1e3)}),i}return Object(h.__extends)(e,t),e.prototype.componentDidMount=function(){this.props.timeoutAction&&(this._startTime=Date.now(),this._waitTimer=setInterval(this._onTimerCheck,1e3))},e.prototype.componentWillUnmount=function(){this._waitTimer&&clearTimeout(this._waitTimer)},e.prototype.render=function(){return d.createElement(f.a,{key:"popupNotificationRoot",id:"popupNotificationRoot",className:this.props.themeType.toString()+(this.props.isHighContrastEnabled?" hight-contrast":""),style:this.props.styles.popupNotificationRootStyle},this._renderHeader(),this._renderBody(),this._renderFooter())},e.prototype._renderHeader=function(){var t=this.props.title;return d.createElement(f.a,{className:"header",key:"popupNotificationHeader",id:"popupNotificationHeader"},d.createElement(f.a,{key:"popupNotificationHeaderIcon",id:"popupNotificationHeaderIcon",className:"icon-wrapper"},this._renderHeaderIcon()),d.createElement(m.a,{key:"popupNotificationHeaderText",id:"popupNotificationHeaderText",title:t,className:"header-text"},t))},e.prototype._renderHeaderIcon=function(){var t={entityName:this.props.entityReference&&this.props.entityReference.etn?this.props.entityReference.etn:void 0,Id:this.props.entityReference&&this.props.entityReference.id?this.props.id:void 0},e={key:"entity_image",id:"popupnotification_entityimage",hasPrimaryImageField:!this.props.entityReference,sipUrl:null,presenceIndicatorSize:g.b.Large,entityReference:t,imageSrc:this.props.imageUrl,customEntityIcon:null,alt:this.props.title,entityPrimaryField:this.props.title,wrapperStyle:null,style:this.props.styles.entityImageStyle};return d.createElement(b.a,Object(h.__assign)({},e))},e.prototype._renderBody=function(){for(var t=[],e=this.props.details,i=Object.keys(e),o=0;o<i.length;o++)t.push(this._renderContentRow("popupNotificationBodyRow_"+o,i[o],e[i[o]],"popup-notification-message-"+o));return void 0!==this.state.displayWaitTime&&this.props.timeoutAction&&t.push(this._renderContentRow("popupNotificationBodyRow_waittime",this.props.timeoutAction.actionLabel,this.state.displayWaitTime+" "+this.props.timeoutUnitLabel,"popup-notification-waitTime")),d.createElement(f.a,{key:"popupNotificationBody",id:"popupNotificationBody",className:"body"},t)},e.prototype._renderContentRow=function(t,e,i,o){return d.createElement(f.a,{key:t,id:t,className:"row"},d.createElement(m.a,{key:t+"_label",className:"column index"},e),d.createElement(f.a,{key:t+"_text",className:"column value"},d.createElement(y.a,{isRTL:this.props.isRTL,noExpandable:!0,title:i,truncatedlines:2,testhooks:{id:o},flexibleTextStyle:{paddingRight:0,paddingLeft:0,textAlign:this.props.isRTL?"right":"left",height:"1.3rem"}},i)))},e.prototype._onTimerCheck=function(){var t=Date.now()-this._startTime,e=this.props.timeoutAction.timeout-t;this.setState({displayWaitTime:Math.round(e/1e3)}),e<=0&&(this.props.timeoutAction&&this.props.timeoutAction.eventHandler(),clearTimeout(this._waitTimer),this._waitTimer=void 0)},e.prototype._renderFooter=function(){return d.createElement(f.a,{key:"popupNotificationFooter",id:"popupNotificationFooter",className:"footer"},this._renderAcceptButton(),this._renderDeclineButton())},e.prototype._renderAcceptButton=function(){return d.createElement(_.a,{key:"acceptButton",id:"acceptButton",className:"button accept-button",onClick:this._onAccept,accessibilityLabel:this.props.acceptAction.actionLabel,title:this.props.acceptAction.actionLabel},d.createElement(m.a,null,this.props.acceptAction.actionLabel))},e.prototype._renderDeclineButton=function(){return 1===this.props.type?null:d.createElement(_.a,{key:"declineButton",id:"declineButton",className:"button decline-button",onClick:this._onDecline,accessibilityLabel:this.props.declineAction.actionLabel,title:this.props.declineAction.actionLabel},d.createElement(m.a,null,this.props.declineAction.actionLabel))},e.prototype._onAccept=function(){this.props.acceptAction&&this.props.acceptAction.eventHandler()},e.prototype._onDecline=function(){this.props.declineAction&&this.props.declineAction.eventHandler()},e}(d.Component),x=i("ZbFQ"),w=i("mGpW"),T=i("Ww2r"),R=i("VnpK");var L=Object(o.a)((function(t,e){var i=Object(n.a)(t,e.id);return{styles:u(t),id:i.props.id,title:i.props.title||"",acceptAction:i.props.acceptAction,declineAction:i.props.declineAction,imageUrl:i.props.imageUrl,entityReference:i.props.entityReference,details:i.props.details,type:i.props.type||0,timeoutAction:i.props.timeoutAction,isRTL:Object(s.g)(t),timeoutUnitLabel:Object(T.b)(t,"PopupNotification.SecondUnit"),themeType:i.props.themeType,isHighContrastEnabled:Object(R.n)()}}),(function(t,e){return{close:function(){return t(Object(x.b)(e.id))},retrieveResourceStrings:function(){return t(Object(w.e)(["PopupNotification.SecondUnit"]))}}}))(v)}}]),window.bundleExecutionMarkers["scripts/es5/popupnotification.js?v=1.4.9962-v91onpremise"].end=window.performance.now(),window.reportBundleExecutionTimes&&window.reportBundleExecutionTimes();