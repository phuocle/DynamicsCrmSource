(window.bundleExecutionMarkers=window.bundleExecutionMarkers||{})["scripts/es5/monitor.js?v=1.4.9962-v91onpremise"]={begin:performance.now()},(window.__wpJsonpUci=window.__wpJsonpUci||[]).push([[83],{Qwd1:function(e,t,n){"use strict";
/*!
 * Copyright (C) Microsoft Corporation. All rights reserved.
 */var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n("i+Vm"),i=function(e){function t(t,n){var r=e.call(this,t,a.EventType.VerboseEvent)||this;return r._data=n,r}return o(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t}(a.MessagingEventBase);t.MessagingVerboseEvent=i},Xpls:function(e,t,n){"use strict";n.r(t),n.d(t,"MonitorManager",(function(){return l}));var r=n("psH4"),o=n("i+Vm"),a=n("7pqb"),i=n("4pqm");var s,u=n("WS0f"),c=n("7ipg"),g=n("G0by"),d=n("rdtZ"),p=n("zmaG");!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical"}(s||(s={}));var v=[{operation:a.p},{operation:a.m},{operation:a.o},{operation:a.i,logLevel:s.Error},{operation:a.r},{operation:a.q},{operation:a.j},{operation:a.l}].map((function(e){return{operation:e.operation,componentName:""+a.k+e.operation,logLevel:e.logLevel}})),l=function(){function e(e,t,n){
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
var l,m,f;this._queuedMessages=[],this._messageSendTimeout=-1,this._customMappings={},this._messagingClient=(new r.MessagingClientFactory).createMessageClient(new Worker((l="worker",m="importScripts('"+Object(i.b)()+"/uclient/scripts/"+l+".js');",f=new Blob([m],{type:"application/javascript"}),window.URL.createObjectURL(f))),e+"/api/signalr/diagnosticshub","ModelApp",(function(e){e.eventType===o.EventType.ErrorEvent&&n(e.activity)}),{"x-ms-session-state":t},t),this._addMessagePayloadMapping(a.x.Name,(function(e){var t;return(null===(t=e.getEventParameter(a.g.ComponentName))||void 0===t?void 0:t.value)===p.KPI_ZONE}),{category:function(){return"KPI"},name:a.x.MetricName,time:a.x.StartTime,data:{duration:a.x.MetricValue,context:{propertyName:a.b.EntityName,entityName:a.x.PageName},eventContext:a.g.EventContext,loadType:a.x.LoadType}}),this._addMessagePayloadMapping(a.x.Name,(function(e){var t,n,r=null===(t=e.getEventParameter(a.g.ComponentName))||void 0===t?void 0:t.value,o=null===(n=e.getEventParameter(a.x.MetricName))||void 0===n?void 0:n.value;return r===d.NETWORK_REQUEST_EVENT_NAME&&"RequestPatch"!==o}),{category:function(){return"Network"},name:a.x.MetricName,time:a.x.StartTime,data:{dataOperation:{dataSource:"name"},eventContext:a.g.EventContext,request:{url:"name",method:"method",body:"body"},response:{duration:"duration",status:"status",size:"decodedBodySize"}}}),this._addMessagePayloadMapping(a.B.Name,(function(e){var t;return(null===(t=e.getEventParameter(a.B.CommonError.Message))||void 0===t?void 0:t.value)===g.SYNC_XHR_MESSAGE}),{logLevel:function(){return s.Warning},time:a.g.TimeCreated,category:a.g.ComponentName,name:a.B.CommonError.Message,data:{dataOperation:{dataSource:"Param0"}}}),this._addMessagePayloadMapping(a.B.Name,(function(e){var t;return(null===(t=e.getEventParameter(a.B.CommonError.Message))||void 0===t?void 0:t.value)===c.a}),{logLevel:function(){return s.Error},time:a.g.TimeCreated,category:a.B.CommonError.Message,name:"exception",data:{stack:"exceptionStack",type:"type",webResourceName:"webResourceName",solutionName:"solutionName",solutionVersion:"solutionVersion",publisherName:"publisherName",dataOperation:{dataSource:a.g.ComponentName}}}),this._addMessagePayloadMapping(a.w,(function(e){var t,n,r=null===(t=e.getEventParameter("EventType"))||void 0===t?void 0:t.value,o=null===(n=e.getEventParameter(a.x.MetricValue))||void 0===n?void 0:n.value;return"PowerBIFailure"===r||!Object(u.b)(o)&&!isNaN(o)}),{category:function(e){return e.getEventName()},name:"EventType",time:a.x.StartTime,data:{duration:a.x.MetricValue,eventContext:a.g.EventContext}}),this._addMessagePayloadMapping(a.B.Name,(function(e){var t;return(null===(t=e.getEventParameter(a.B.CommonError.Message))||void 0===t?void 0:t.value)===a.w}),{logLevel:function(){return s.Error},time:a.g.TimeCreated,category:a.B.CommonError.Message,name:"errorCategory",data:{error:"errorMessage",filter:"filter",dataOperation:{dataSource:a.g.ComponentName}}});for(var _=function(e){var t;y._addMessagePayloadMapping(a.B.Name,(function(t){var n;return(null===(n=t.getEventParameter(a.g.ComponentName))||void 0===n?void 0:n.value)===e.componentName}),{logLevel:function(){return e.logLevel},time:a.g.TimeCreated,category:a.B.CommonError.Message,name:a.v,data:(t={},t[e.operation]=e.operation,t.dataOperation={dataSource:a.g.ComponentName},t)})},y=this,M=0,E=v;M<E.length;M++){_(E[M])}}return e.prototype._addMessagePayloadMapping=function(e,t,n){this._customMappings[e]||(this._customMappings[e]=[]),this._customMappings[e].push({filter:t,mapping:n})},e.prototype._getPayloadMapping=function(e){var t=this._customMappings[e.getEventName()];if(t)for(var n=0,r=t;n<r.length;n++){var o=r[n],a=o.filter,i=o.mapping;if(a(e))return i}},e.prototype._getPayloadValue=function(e,t){var n;if(t)switch(typeof t){case"function":return t(e);case"object":var r=void 0;for(var o in t){var a=this._getPayloadValue(e,t[o]);Object(u.b)(a)||(r||(r={}),r[o]=a)}return r;default:return null===(n=e.getEventParameter(t))||void 0===n?void 0:n.value}},e.prototype._formatValue=function(e,t){switch(e){case"time":return("string"==typeof t?new Date(t):t).getTime()}return t},e.prototype.handleEvent=function(e){var t=this._getPayloadMapping(e);if(t){var n={},r=void 0;for(r in t){var o=this._getPayloadValue(e,t[r]),a=this._formatValue(r,o);Object(u.b)(a)||(n[r]=a)}this._sendMessage(n)}},e.prototype._sendMessage=function(e){var t=this;this._queuedMessages.push(e),-1===this._messageSendTimeout&&(this._messageSendTimeout=setTimeout((function(){t._messagingClient.sendMessage({command:"Events",to:"DiagTool",payload:JSON.stringify(t._queuedMessages),compressor:"pako"}),t._messageSendTimeout=-1,t._queuedMessages=[]}),500))},e}()},bHBg:function(e,t,n){"use strict";
/*!
 * Copyright (C) Microsoft Corporation. All rights reserved.
 */var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n("i+Vm"),i=function(e){function t(t,n){var r=e.call(this,t,a.EventType.DataEvent)||this;return r._data=n,r}return o(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t}(a.MessagingEventBase);t.MessagingDataEvent=i},"i+Vm":function(e,t,n){"use strict";
/*!
 * Copyright (C) Microsoft Corporation. All rights reserved.
 */var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.OpenConnection=0]="OpenConnection",e[e.CloseConnection=1]="CloseConnection",e[e.SendMessage=2]="SendMessage",e[e.SignalRSend=3]="SignalRSend",e[e.Subscribe=4]="Subscribe",e[e.ConnectionDisconnected=5]="ConnectionDisconnected",e[e.OnConnectionClosed=6]="OnConnectionClosed",e[e.OnDataReceived=7]="OnDataReceived",e[e.OnMessageFromWorker=8]="OnMessageFromWorker",e[e.OnErrorFromWorker=9]="OnErrorFromWorker",e[e.RouteMessage=10]="RouteMessage",e[e.RouterInitialize=11]="RouterInitialize",e[e.RouterSendMessage=12]="RouterSendMessage",e[e.RouterShutdown=13]="RouterShutdown",e[e.WorkerHandleMessage=14]="WorkerHandleMessage",e[e.CreateMessagingEvent=15]="CreateMessagingEvent",e[e.OnSignalRLogReceived=16]="OnSignalRLogReceived",e[e.OnConnectionReconnected=17]="OnConnectionReconnected"}(r=t.MessagingActivity||(t.MessagingActivity={})),function(e){e[e.DataEvent=0]="DataEvent",e[e.VerboseEvent=1]="VerboseEvent",e[e.ErrorEvent=2]="ErrorEvent"}(t.EventType||(t.EventType={}));var o=function(){function e(e,t){this.eventType=t,this._activity="string"==typeof e?e:r[e]}return Object.defineProperty(e.prototype,"activity",{get:function(){return this._activity},enumerable:!0,configurable:!0}),e}();t.MessagingEventBase=o},psH4:function(e,t,n){"use strict";
/*!
 * Copyright (C) Microsoft Corporation. All rights reserved.
 */Object.defineProperty(t,"__esModule",{value:!0});var r=n("yce0"),o=function(){function e(){}return e.prototype.createMessageClient=function(e,t,n,o,a,i){return new r.MessagingWorkerClient(e,t,n,o,a,i)},e}();t.MessagingClientFactory=o},"r/XA":function(e,t,n){"use strict";
/*!
 * Copyright (C) Microsoft Corporation. All rights reserved.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.MessageChunkStringLength=1048576;var r=function(){};t.MessagingClient=r},rBEk:function(e,t,n){"use strict";
/*!
 * Copyright (C) Microsoft Corporation. All rights reserved.
 */Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Initialize=0]="Initialize",e[e.SendMessage=1]="SendMessage",e[e.Shutdown=2]="Shutdown",e[e.OnError=3]="OnError"}(t.WorkerCommand||(t.WorkerCommand={}))},yce0:function(e,t,n){"use strict";
/*!
 * Copyright (C) Microsoft Corporation. All rights reserved.
 */var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n("bHBg"),i=n("z8C4"),s=n("i+Vm"),u=n("Qwd1"),c=n("r/XA"),g=n("rBEk"),d=function(e){function t(t,n,r,o,c,d){var p=e.call(this)||this;p._worker=t,p._invalidEventFormatMessage="Invalid event format",p._createMessagingEvent=function(e){var t;try{switch(p._require(e,"object"),p._require(e._activity,"string"),e.eventType){case s.EventType.DataEvent:p._require(e._data,"object"),p._require(e._data.command,"string"),t=new a.MessagingDataEvent(e._activity,e._data);break;case s.EventType.VerboseEvent:t=new u.MessagingVerboseEvent(e._activity,e._data);break;case s.EventType.ErrorEvent:p._require(e._errorData,"object"),p._require(e._errorData.reason,"number"),p._require(e._error,"object"),t=new i.MessagingErrorEvent(e._activity,e._errorData,e._error);break;default:throw new Error(p._invalidEventFormatMessage)}}catch(r){var n={reason:i.MessagingErrorReason.InvalidEventFormat,data:e};t=new i.MessagingErrorEvent(s.MessagingActivity.CreateMessagingEvent,n,r)}return t},p._require=function(e,t){if(typeof e!==t)throw new Error(p._invalidEventFormatMessage)},p._worker.onmessage=function(e){if(e.data){var t=p._createMessagingEvent(e.data);o(t)}else o(new i.MessagingErrorEvent(s.MessagingActivity.OnMessageFromWorker,{reason:i.MessagingErrorReason.InvalidEventFormat},new Error(p._invalidEventFormatMessage+": "+e)))},p._worker.onerror=function(e){o(new i.MessagingErrorEvent(s.MessagingActivity.OnErrorFromWorker,{reason:i.MessagingErrorReason.WebWorkerError},e.error))};var v={command:g.WorkerCommand.Initialize,payload:{endpoint:n,receiveChannel:r,messageHeaders:c,token:d}};return p._worker.postMessage(v),p}return o(t,e),t.prototype.sendMessage=function(e){var t={command:g.WorkerCommand.SendMessage,payload:e};this._worker.postMessage(t)},t.prototype.shutdown=function(){var e={command:g.WorkerCommand.Shutdown};this._worker.postMessage(e)},t}(c.MessagingClient);t.MessagingWorkerClient=d},z8C4:function(e,t,n){"use strict";
/*!
 * Copyright (C) Microsoft Corporation. All rights reserved.
 */var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n("i+Vm");!function(e){e[e.InitializeFailed=-1]="InitializeFailed",e[e.MessagingNotInitialized=-2]="MessagingNotInitialized",e[e.OpenFailed=-3]="OpenFailed",e[e.CloseFailed=-4]="CloseFailed",e[e.SendFailed=-5]="SendFailed",e[e.InvalidDataReceived=-6]="InvalidDataReceived",e[e.ConnectionClosed=-7]="ConnectionClosed",e[e.WebWorkerError=-8]="WebWorkerError",e[e.WorkerFailure=-9]="WorkerFailure",e[e.InvalidWorkerMessage=-10]="InvalidWorkerMessage",e[e.InvalidEventFormat=-11]="InvalidEventFormat"}(t.MessagingErrorReason||(t.MessagingErrorReason={}));var i=function(e){function t(t,n,r){var o=e.call(this,t,a.EventType.ErrorEvent)||this;return o._errorData=n,o._error=r,o}return o(t,e),Object.defineProperty(t.prototype,"error",{get:function(){return this._error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorData",{get:function(){return this._errorData},enumerable:!0,configurable:!0}),t}(a.MessagingEventBase);t.MessagingErrorEvent=i}}]),window.bundleExecutionMarkers["scripts/es5/monitor.js?v=1.4.9962-v91onpremise"].end=window.performance.now(),window.reportBundleExecutionTimes&&window.reportBundleExecutionTimes();