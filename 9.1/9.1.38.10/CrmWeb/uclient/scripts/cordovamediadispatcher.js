(window.bundleExecutionMarkers=window.bundleExecutionMarkers||{})["scripts/cordovamediadispatcher.js?v=1.4.9962-v91onpremise"]={begin:performance.now()},(window.__wpJsonpUci=window.__wpJsonpUci||[]).push([[53],{Qgan:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s}));var i=r("nA3O"),a=r("8uvO");class n extends i.a{get_dataID(){return this.getValue(n._DataIDProperty)}set_dataID(e){return this.setValue(n._DataIDProperty,e),e}get_size(){return this.getValue(n._SizeProperty)}set_size(e){return this.setValue(n._SizeProperty,e),e}get_filename(){return this.getValue(n._FilenameProperty)}set_filename(e){return this.setValue(n._FilenameProperty,e),e}get_mimeType(){return this.getValue(n._MimeTypeProperty)}set_mimeType(e){return this.setValue(n._MimeTypeProperty,e),e}get_name(){return this.get_filename()}get_type(){return this.get_mimeType()}}n._DataIDProperty=new a.a("dataID",String,n),n._SizeProperty=new a.a("size",Number,n),n._FilenameProperty=new a.a("filename",String,n),n._MimeTypeProperty=new a.a("mimeType",String,n);class o extends n{get_fileContents(){return this.getValue(o._FileContentsProperty)}set_fileContents(e){return this.setValue(o._FileContentsProperty,e),e}}o._FileContentsProperty=new a.a("fileContents",String,o);class s extends n{get_resourceUrl(){return this.getValue(s._ResourceUrlProperty)}set_resourceUrl(e){return this.setValue(s._ResourceUrlProperty,e),e}}s._ResourceUrlProperty=new a.a("resourceUrl",String,s)},XkVh:function(e,t,r){"use strict";r.r(t),r.d(t,"CordovaMediaDispatcher",(function(){return P}));var i,a=r("EbwQ"),n=r("8uvO"),o=r("ZhaJ");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
class s extends o.a{constructor(e,t){super(),this._onResult=null,this._onResult=e,this._resultProperty=new n.a("result",t||Object,s)}_get_Result(){return this.getValue(this._resultProperty)}call(){this._onResult&&this._onResult(this._get_Result())}}
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */!function(e){e[e.pluginCancelled=1]="pluginCancelled",e[e.fileSizeBreached=2]="fileSizeBreached",e[e.fileSizeCannotBeZero=3]="fileSizeCannotBeZero",e[e.cameraPluginError=4]="cameraPluginError",e[e.videoCapturePluginError=5]="videoCapturePluginError",e[e.audioCapturePluginError=6]="audioCapturePluginError",e[e.barCodePluginError=7]="barCodePluginError",e[e.geoLocationPluginError=8]="geoLocationPluginError",e[e.noActivityToAudioCapture=9]="noActivityToAudioCapture"}(i||(i={}));
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */
class l extends o.a{constructor(e){super(),this._onErrorCallback=null,this._onErrorCallback=e}_get_ErrorCode(){return this.getValue(l._ErrorCodeProperty)}_get_ErrorMessage(){return this.getValue(l._ErrorMessageProperty)}call(){this._onErrorCallback(this._get_ErrorCode(),this._get_ErrorMessage())}}l._ErrorCodeProperty=new n.a("errorCode",i,l),l._ErrorMessageProperty=new n.a("errorMessage",String,l);var u=r("sJUk");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */class c extends u.a{constructor(e,t,r,i,a){super(),this.setValue(c._onSuccessCallbackProperty,new s(e,a)),this.setValue(c._onFailureCallbackProperty,new l(t)),this.setValue(c._actionName,r),this.setValue(c._args,i)}get_methodName(){return c._name}}c._name="exec",c._onSuccessCallbackProperty=new n.a("onSuccess",s,c),c._onFailureCallbackProperty=new n.a("onFailure",l,c),c._actionName=new n.a("actionName",String,c),c._args=new n.a("args",Array,c);var g=r("Qgan"),d=r("504W"),_=r("H4dV"),p=r("NMtn");var h,m=r("a475");
/**
 * @license Copyright (c) Microsoft Corporation. All rights reserved.
 */!function(e){e[e.datA_URL=0]="datA_URL",e[e.filE_URI=1]="filE_URI",e[e.nativE_URI=2]="nativE_URI"}(h||(h={}));class P extends a.a{get_namespaceName(){return"CordovaMedia"}_exec(e,t,r,i,a){const n=new c(e,t,r,[JSON.stringify(i)],a);this.callNativeMethod(this.get_version().get_currentVersion(),n)}takePictureOnDevice(e,t,r,i){Object(p.c)(r,"actionName"),_.a.getInstance().get_IsAndroid()?this._invokeCameraPlugin(e,t,i):_.a.getInstance().get_IsIOS()?(i.destinationType=h.datA_URL,this._invokeCameraPlugin(e,t,i)):this._exec(e,t,r,i,g.a)}_invokeCameraPlugin(e,t,r){window.navigator.camera.getPicture(i=>{if(!Object(d.a)(i)){const a=this._getPALDataFileSize(i);if(this._isFileSizeBreached(t,a,r.maxUploadFileSize))return;const n=new g.a;n.set_fileContents(this._getPALDataFileContents(i)),n.set_filename(this._getPALDataFileName(i)),n.set_mimeType(this._getPALDataFileMimeType(i)),n.set_size(a),this._onPluginCallSuccess(e,n,g.a)}},e=>{-1!==e.toString().indexOf("Canceled.")||-1!==e.toString().toLowerCase().indexOf("no image selected")?this._onPluginCallFailure(t,i.pluginCancelled,e.toString()):this._onPluginCallFailure(t,i.cameraPluginError,e.toString())},r)}_getPALDataFileContents(e){return _.a.getInstance().get_IsAndroid()?e[0].fileContents:e.toString()}_getPALDataFileName(e){return _.a.getInstance().get_IsAndroid()?e[0].filename:(new Date).format("MMddyyyyhhmmss")+".jpg"}_getPALDataFileMimeType(e){return _.a.getInstance().get_IsAndroid()?e[0].mimeType:"image/JPEG"}_getPALDataFileSize(e){return _.a.getInstance().get_IsAndroid()?e[0].size:e.length}captureVideoFromDevice(e,t,r,a){if(Object(p.c)(r,"actionName"),_.a.getInstance().get_IsAndroid()||_.a.getInstance().get_IsIOS()){window.navigator.capture.captureVideo(r=>{if(Object(d.a)(r))this._onPluginCallFailure(t,i.videoCapturePluginError,"Captured media item is empty");else{if(this._isFileSizeBreached(t,r[0].size,a.maxUploadFileSize))return;this._callMediaDispatcherForBytes(e,t,"Video",r[0].fullPath,a,i.videoCapturePluginError)}},e=>{this._onPluginCallFailure(t,i.videoCapturePluginError,Object(d.a)(e.code)?e.toString():e.code.toString())},a)}else this._exec(e,t,r,a,g.a)}captureAudioFromDevice(e,t,r,a){if(Object(p.c)(r,"actionName"),_.a.getInstance().get_IsAndroid()||_.a.getInstance().get_IsIOS()){window.navigator.capture.captureAudio(r=>{if(Object(d.a)(r))this._onPluginCallFailure(t,i.audioCapturePluginError,"Captured media item is empty");else{if(this._isFileSizeBreached(t,r[0].size,a.maxUploadFileSize))return;this._callMediaDispatcherForBytes(e,t,"Audio",r[0].fullPath,a,i.audioCapturePluginError)}},e=>{this._handleCaptureAudioError(e,t)},a)}else this._exec(e,t,r,a,g.a)}captureAudioWithUrlFromDevice(e,t,r,a){if(Object(p.c)(r,"actionName"),_.a.getInstance().get_IsAndroid()||_.a.getInstance().get_IsIOS()){window.navigator.capture.captureAudio(r=>{if(r){if(this._isFileSizeBreached(t,r[0].size,a.maxUploadFileSize))return;this._callMediaDispatcherForUrl(e,t,"Audio",r[0].fullPath,a,i.audioCapturePluginError)}else this._onPluginCallFailure(t,i.audioCapturePluginError,"Captured media item is empty")},e=>{this._handleCaptureAudioError(e,t)},a)}else this._exec(e,t,r,a,g.a)}_handleCaptureAudioError(e,t){e&&-1===e.toString().indexOf("No Activity found to handle Intent")?this._onPluginCallFailure(t,i.audioCapturePluginError,Object(d.a)(e.code)?e.toString():e.code.toString()):this._onPluginCallFailure(t,i.noActivityToAudioCapture,e.toString())}getCurrentPosition(e,t,r,i){Object(p.c)(r,"actionName"),this._exec(e,t,r,i,String)}scanBarcode(e,t,r,a){const n=window.navigator;Object(p.c)(r,"actionName"),_.a.getInstance().get_IsAndroid()||_.a.getInstance().get_IsIOS()?(a.preferFrontCamera=!1,a.showFlipCameraButton=!0,n.barcodeScanner.scan(r=>{Object(d.a)(r)?this._onPluginCallFailure(t,i.barCodePluginError,"Scanned bar code value is empty"):r.cancelled||this._onPluginCallSuccess(e,r.text,String)},e=>{t(i.barCodePluginError,e.toString())},a)):this._exec(e,t,r,a,String)}async _callMediaDispatcherForBytes(e,t,r,i,a,n){(await m.a.get_Instance().get_multimedia()).getMediaBytes(r,i,a.maxUploadFileSize,t=>{Object(d.a)(t)||this._onPluginCallSuccess(e,t,g.a)},e=>{this._onPluginCallFailure(t,n,e.message)})}async _callMediaDispatcherForUrl(e,t,r,i,a,n){(await m.a.get_Instance().get_multimedia()).getMediaUrl(r,i,a.maxUploadFileSize,t=>{Object(d.a)(t)||this._onPluginCallSuccess(e,t,g.b)},e=>{this._onPluginCallFailure(t,n,e.message)})}_isFileSizeBreached(e,t,r){return t>r&&(this._onPluginCallFailure(e,i.fileSizeBreached,i[i.fileSizeBreached]),!0)}_onPluginCallSuccess(e,t,r){if(t){const i={result:t};new s(e,r).callback(i)}}_onPluginCallFailure(e,t,r){if("3"===r)return;const i=new l(e),a={};a.errorMessage=r,a.errorCode=t,i.callback(a)}}}}]),window.bundleExecutionMarkers["scripts/cordovamediadispatcher.js?v=1.4.9962-v91onpremise"].end=window.performance.now(),window.reportBundleExecutionTimes&&window.reportBundleExecutionTimes();