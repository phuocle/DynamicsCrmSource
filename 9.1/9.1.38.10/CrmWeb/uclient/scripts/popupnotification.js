(window.bundleExecutionMarkers=window.bundleExecutionMarkers||{})["scripts/popupnotification.js?v=1.4.9962-v91onpremise"]={begin:performance.now()},(window.__wpJsonpUci=window.__wpJsonpUci||[]).push([[96,45],{"bmL+":function(t,e,i){"use strict";i.r(e),i.d(e,"PopupNotification",(function(){return R}));var n=i("u+q+"),o=i("6eYz"),s=i("unFF"),r=i("IqkD"),p=i("sclX"),a=i("LzVy"),c=i("b8TU"),l=i("4leG");function h(t){const e=Object(s.a)(t),i=Object(r.g)(t),n=Object(l.c)(t),o=function(t){if(Object(a.a)(t)===p.b.Native)return!0;const e=Object(s.a)(t).sizes.Breakpoints.DimensionS;return Object(c.c)(t)<=e}(t);return{popupNotificationRootStyle:{[i?"left":"right"]:e.sizes.Measures.Measure050,top:n?"0.5rem":o?"3.5rem":"3.93rem"},entityImageStyle:{width:"19px",textAlign:"center",borderRadius:"50%",backgroundColor:"#E9E9E9"}}}var d=i("nuS9"),u=i("YWpA"),f=i("H/hG"),m=i("pxbl"),y=i("evW+"),b=i("7sMj"),_=i("tyZ/");class g extends d.Component{constructor(t){super(t),this.state={},this._onTimerCheck=this._onTimerCheck.bind(this),this._onAccept=this._onAccept.bind(this),this._onDecline=this._onDecline.bind(this),this.props.retrieveResourceStrings(),this.props.timeoutAction&&(this.state={displayWaitTime:Math.round(this.props.timeoutAction.timeout/1e3)})}componentDidMount(){this.props.timeoutAction&&(this._startTime=Date.now(),this._waitTimer=setInterval(this._onTimerCheck,1e3))}componentWillUnmount(){this._waitTimer&&clearTimeout(this._waitTimer)}render(){return d.createElement(u.a,{key:"popupNotificationRoot",id:"popupNotificationRoot",className:this.props.themeType.toString()+(this.props.isHighContrastEnabled?" hight-contrast":""),style:this.props.styles.popupNotificationRootStyle},this._renderHeader(),this._renderBody(),this._renderFooter())}_renderHeader(){const t=this.props.title;return d.createElement(u.a,{className:"header",key:"popupNotificationHeader",id:"popupNotificationHeader"},d.createElement(u.a,{key:"popupNotificationHeaderIcon",id:"popupNotificationHeaderIcon",className:"icon-wrapper"},this._renderHeaderIcon()),d.createElement(f.a,{key:"popupNotificationHeaderText",id:"popupNotificationHeaderText",title:t,className:"header-text"},t))}_renderHeaderIcon(){const t={entityName:this.props.entityReference&&this.props.entityReference.etn?this.props.entityReference.etn:void 0,Id:this.props.entityReference&&this.props.entityReference.id?this.props.id:void 0},e={key:"entity_image",id:"popupnotification_entityimage",hasPrimaryImageField:!this.props.entityReference,sipUrl:null,presenceIndicatorSize:_.b.Large,entityReference:t,imageSrc:this.props.imageUrl,customEntityIcon:null,alt:this.props.title,entityPrimaryField:this.props.title,wrapperStyle:null,style:this.props.styles.entityImageStyle};return d.createElement(b.a,Object.assign({},e))}_renderBody(){const t=[],e=this.props.details,i=Object.keys(e);for(let n=0;n<i.length;n++)t.push(this._renderContentRow("popupNotificationBodyRow_"+n,i[n],e[i[n]],"popup-notification-message-"+n));return void 0!==this.state.displayWaitTime&&this.props.timeoutAction&&t.push(this._renderContentRow("popupNotificationBodyRow_waittime",this.props.timeoutAction.actionLabel,`${this.state.displayWaitTime} ${this.props.timeoutUnitLabel}`,"popup-notification-waitTime")),d.createElement(u.a,{key:"popupNotificationBody",id:"popupNotificationBody",className:"body"},t)}_renderContentRow(t,e,i,n){return d.createElement(u.a,{key:t,id:t,className:"row"},d.createElement(f.a,{key:t+"_label",className:"column index"},e),d.createElement(u.a,{key:t+"_text",className:"column value"},d.createElement(m.a,{isRTL:this.props.isRTL,noExpandable:!0,title:i,truncatedlines:2,testhooks:{id:n},flexibleTextStyle:{paddingRight:0,paddingLeft:0,textAlign:this.props.isRTL?"right":"left",height:"1.3rem"}},i)))}_onTimerCheck(){const t=Date.now()-this._startTime,e=this.props.timeoutAction.timeout-t;this.setState({displayWaitTime:Math.round(e/1e3)}),e<=0&&(this.props.timeoutAction&&this.props.timeoutAction.eventHandler(),clearTimeout(this._waitTimer),this._waitTimer=void 0)}_renderFooter(){return d.createElement(u.a,{key:"popupNotificationFooter",id:"popupNotificationFooter",className:"footer"},this._renderAcceptButton(),this._renderDeclineButton())}_renderAcceptButton(){return d.createElement(y.a,{key:"acceptButton",id:"acceptButton",className:"button accept-button",onClick:this._onAccept,accessibilityLabel:this.props.acceptAction.actionLabel,title:this.props.acceptAction.actionLabel},d.createElement(f.a,null,this.props.acceptAction.actionLabel))}_renderDeclineButton(){return 1===this.props.type?null:d.createElement(y.a,{key:"declineButton",id:"declineButton",className:"button decline-button",onClick:this._onDecline,accessibilityLabel:this.props.declineAction.actionLabel,title:this.props.declineAction.actionLabel},d.createElement(f.a,null,this.props.declineAction.actionLabel))}_onAccept(){this.props.acceptAction&&this.props.acceptAction.eventHandler()}_onDecline(){this.props.declineAction&&this.props.declineAction.eventHandler()}}var x=i("yGgp"),T=i("EY5k"),w=i("YxC/"),v=i("VnpK");const R=Object(n.a)((function(t,e){const i=Object(o.a)(t,e.id);return{styles:h(t),id:i.props.id,title:i.props.title||"",acceptAction:i.props.acceptAction,declineAction:i.props.declineAction,imageUrl:i.props.imageUrl,entityReference:i.props.entityReference,details:i.props.details,type:i.props.type||0,timeoutAction:i.props.timeoutAction,isRTL:Object(r.g)(t),timeoutUnitLabel:Object(w.b)(t,"PopupNotification.SecondUnit"),themeType:i.props.themeType,isHighContrastEnabled:Object(v.n)()}}),(function(t,e){return{close:()=>t(Object(x.b)(e.id)),retrieveResourceStrings:()=>t(Object(T.e)(["PopupNotification.SecondUnit"]))}}))(g)},pxbl:function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n,o=i("nuS9"),s=i("4fxQ"),r=i("H/hG"),p=i("YWpA"),a=i("CGM5"),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=function(){return(l=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},h=function(t){function e(e){var i=t.call(this,e)||this;return i._toggleCollapseState=i._toggleCollapseState.bind(i),i.saveItemRef=i.saveItemRef.bind(i),i._firstRender=!0,i._totalLineHeight=0,i.state={collapsed:!0},i._backgroundCanvas=document.createElement("canvas"),i._areLinesTruncated=!1,i}return c(e,t),e.prototype.componentDidMount=function(){!this.props.isFieldLabel&&this._firstRender&&this._textRef&&this.props.truncatedlines&&this.forceUpdate()},e.prototype._toggleCollapseState=function(){this.props.noExpandable||this.setState({collapsed:!this.state.collapsed})},e.prototype.saveItemRef=function(t){this._textRef=t},e.prototype._calculateLineHeight=function(){if(this._textRef&&this.state.collapsed){var t=s.findDOMNode(this._textRef);if(t){var e=window.getComputedStyle(t);this._firstRender&&(this._originalHeight=parseInt(e.height,10),this._firstRender=!1);var i=0;if(i=this.props.lineHeight?this.props.lineHeight:parseInt(e.lineHeight,10),isNaN(i)){var n=t.cloneNode();n.innerHTML="<br>",t.appendChild(n);var o=n.offsetHeight;n.innerHTML="<br><br>";var r=n.offsetHeight;t.removeChild(n),i=r-o}if(this._areLinesTruncated=this._originalHeight>i*this.props.truncatedlines,!this._areLinesTruncated)return this._originalHeight+"px";if(0!==i){var p=i*this.props.truncatedlines;this._totalLineHeight=p}return this._totalLineHeight+"px"}}},e.prototype.render=function(){var t=Object.assign(this._getTextStyle(),this.props.flexibleTextStyle),e=Object.assign({display:"flex",flexDirection:"Column",width:"100%"},this.props.flexibleTextContainerStyle);return o.createElement(p.a,{style:e},o.createElement(r.a,l({},this.props,{onClick:this._toggleCollapseState,style:t,ref:this.props.isFieldLabel?null:this.saveItemRef,id:this.props.id,className:this._returnExpandableClassName()}),this.props.children))},e.prototype._calculateHeight=function(){var t=0;if(this.props.isFieldLabel){var e=this._backgroundCanvas.getContext("2d");e.font=this.props.flexibleTextStyle&&this.props.flexibleTextStyle.fontSize&&this.props.flexibleTextStyle.fontFamily?this.props.flexibleTextStyle.fontSize+" "+this.props.flexibleTextStyle.fontFamily:"14px Segoe UI";var i=e.measureText(this.props.children.props.children).width/144;i>this.props.truncatedlines&&(i=this.props.truncatedlines,this._areLinesTruncated=!0),t=this.props.lineHeight&&this._areLinesTruncated?this.props.lineHeight*i:null}return t},e.prototype._getTextStyle=function(){return this.state.collapsed?1===this.props.truncatedlines?{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",direction:this.props.isRTL?"rtl":"ltr"}:{overflow:"hidden",position:"relative",height:this.props.isFieldLabel?this._calculateHeight():this._calculateLineHeight(),display:"inline-block",textAlign:"justify",":after":this._areLinesTruncated?{background:this.props.maskingColor?this.props.maskingColor:"#F8F7F6"}:"",paddingLeft:this.props.isRTL?"0.75rem":void 0,paddingRight:this.props.isRTL?void 0:"0.75rem"}:{}},e.prototype._returnExpandableClassName=function(){return this._areLinesTruncated?this.props.isRTL?"block-with-text-noexpansion-rtl":"block-with-text-noexpansion":""},e}(a.a)}}]),window.bundleExecutionMarkers["scripts/popupnotification.js?v=1.4.9962-v91onpremise"].end=window.performance.now(),window.reportBundleExecutionTimes&&window.reportBundleExecutionTimes();